function cu(b,t){for(var c=0;c<t.length;c++){const e=t[c];if(typeof e!="string"&&!Array.isArray(e)){for(const g in e)if(g!=="default"&&!(g in b)){const y=Object.getOwnPropertyDescriptor(e,g);y&&Object.defineProperty(b,g,y.get?y:{enumerable:!0,get:()=>e[g]})}}}return Object.freeze(Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))e(g);new MutationObserver(g=>{for(const y of g)if(y.type==="childList")for(const l of y.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&e(l)}).observe(document,{childList:!0,subtree:!0});function c(g){const y={};return g.integrity&&(y.integrity=g.integrity),g.referrerpolicy&&(y.referrerPolicy=g.referrerpolicy),g.crossorigin==="use-credentials"?y.credentials="include":g.crossorigin==="anonymous"?y.credentials="omit":y.credentials="same-origin",y}function e(g){if(g.ep)return;g.ep=!0;const y=c(g);fetch(g.href,y)}})();function Gt(){}function pl(b){return b()}function Ua(){return Object.create(null)}function Kn(b){b.forEach(pl)}function ml(b){return typeof b=="function"}function Jn(b,t){return b!=b?t==t:b!==t||b&&typeof b=="object"||typeof b=="function"}function uu(b){return Object.keys(b).length===0}function rr(b,t){b.appendChild(t)}function Er(b,t,c){b.insertBefore(t,c||null)}function xr(b){b.parentNode&&b.parentNode.removeChild(b)}function Vt(b){return document.createElement(b)}function du(b){return document.createTextNode(b)}function tn(){return du(" ")}function Ss(b,t,c,e){return b.addEventListener(t,c,e),()=>b.removeEventListener(t,c,e)}function nr(b,t,c){c==null?b.removeAttribute(t):b.getAttribute(t)!==c&&b.setAttribute(t,c)}function hu(b){return Array.from(b.childNodes)}let Ts;function ws(b){Ts=b}function fu(){if(!Ts)throw new Error("Function called outside component initialization");return Ts}function pu(b){fu().$$.on_mount.push(b)}const bs=[],Ba=[],fo=[],Va=[],mu=Promise.resolve();let ai=!1;function yu(){ai||(ai=!0,mu.then(yl))}function li(b){fo.push(b)}const oi=new Set;let no=0;function yl(){const b=Ts;do{for(;no<bs.length;){const t=bs[no];no++,ws(t),gu(t.$$)}for(ws(null),bs.length=0,no=0;Ba.length;)Ba.pop()();for(let t=0;t<fo.length;t+=1){const c=fo[t];oi.has(c)||(oi.add(c),c())}fo.length=0}while(bs.length);for(;Va.length;)Va.pop()();ai=!1,oi.clear(),ws(b)}function gu(b){if(b.fragment!==null){b.update(),Kn(b.before_update);const t=b.dirty;b.dirty=[-1],b.fragment&&b.fragment.p(b.ctx,t),b.after_update.forEach(li)}}const po=new Set;let Tn;function gl(){Tn={r:0,c:[],p:Tn}}function vl(){Tn.r||Kn(Tn.c),Tn=Tn.p}function qr(b,t){b&&b.i&&(po.delete(b),b.i(t))}function sn(b,t,c,e){if(b&&b.o){if(po.has(b))return;po.add(b),Tn.c.push(()=>{po.delete(b),e&&(c&&b.d(1),e())}),b.o(t)}else e&&e()}function Es(b){b&&b.c()}function Wn(b,t,c,e){const{fragment:g,after_update:y}=b.$$;g&&g.m(t,c),e||li(()=>{const l=b.$$.on_mount.map(pl).filter(ml);b.$$.on_destroy?b.$$.on_destroy.push(...l):Kn(l),b.$$.on_mount=[]}),y.forEach(li)}function Hn(b,t){const c=b.$$;c.fragment!==null&&(Kn(c.on_destroy),c.fragment&&c.fragment.d(t),c.on_destroy=c.fragment=null,c.ctx=[])}function vu(b,t){b.$$.dirty[0]===-1&&(bs.push(b),yu(),b.$$.dirty.fill(0)),b.$$.dirty[t/31|0]|=1<<t%31}function es(b,t,c,e,g,y,l,i=[-1]){const r=Ts;ws(b);const a=b.$$={fragment:null,ctx:[],props:y,update:Gt,not_equal:g,bound:Ua(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(r?r.$$.context:[])),callbacks:Ua(),dirty:i,skip_bound:!1,root:t.target||r.$$.root};l&&l(a.root);let d=!1;if(a.ctx=c?c(b,t.props||{},(f,s,...o)=>{const n=o.length?o[0]:s;return a.ctx&&g(a.ctx[f],a.ctx[f]=n)&&(!a.skip_bound&&a.bound[f]&&a.bound[f](n),d&&vu(b,f)),s}):[],a.update(),d=!0,Kn(a.before_update),a.fragment=e?e(a.ctx):!1,t.target){if(t.hydrate){const f=hu(t.target);a.fragment&&a.fragment.l(f),f.forEach(xr)}else a.fragment&&a.fragment.c();t.intro&&qr(b.$$.fragment),Wn(b,t.target,t.anchor,t.customElement),yl()}ws(r)}class ts{$destroy(){Hn(this,1),this.$destroy=Gt}$on(t,c){if(!ml(c))return Gt;const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(c),()=>{const g=e.indexOf(c);g!==-1&&e.splice(g,1)}}$set(t){this.$$set&&!uu(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function bu(b){let t;return{c(){t=Vt("div"),t.innerHTML=`<header class="svelte-k1kqkd"><h1 class="svelte-k1kqkd">Hand Piano</h1> 
        <nav class="svelte-k1kqkd"><ul id="topNav" class="svelte-k1kqkd"><li class="svelte-k1kqkd">About</li> 
                <li class="svelte-k1kqkd">Instructions</li> 
                <li class="svelte-k1kqkd">Planned Update</li> 
                <li class="svelte-k1kqkd">Play</li></ul></nav></header> 
    <div class="header-spacer svelte-k1kqkd"></div>`},m(c,e){Er(c,t,e)},p:Gt,i:Gt,o:Gt,d(c){c&&xr(t)}}}class _u extends ts{constructor(t){super(),es(this,t,null,bu,Jn,{})}}class wu{constructor(){this.handpose,this.predictions=[],this.fingers={},this.curledFingers=new Set,this.startMessage="Hand Model Loading Please Wait"}setupHandpose(t,c,e){e.size(t,c),this.handpose=ml5.handpose(e,{flipHorizontal:!0},()=>{this.startMessage="Click To Start",console.log("Model Ready")}),console.log(this.handpose),this.getPredictions(),e.hide()}getPredictions(){this.handpose.on("predict",t=>{this.predictions=t})}addPointsToFingers(t){this.fingers.thumb=[t.thumb[2],t.thumb[3]],this.fingers.index=[t.indexFinger[2],t.indexFinger[3]],this.fingers.middle=[t.middleFinger[2],t.middleFinger[3]],this.fingers.ring=[t.ringFinger[2],t.ringFinger[3]],this.fingers.pinky=[t.pinky[2],t.pinky[3]]}draw(t){for(let c=0;c<this.predictions.length;c+=1){const e=this.predictions[c].annotations;this.addPointsToFingers(e);for(let g in this.fingers)this.fingers[g].forEach(y=>{t.fill(0,255,0),t.noStroke(),t.ellipse(y[0],y[1],10,10)})}}checkFingerPositions(){for(let t in this.fingers){const c=this.fingers[t][0][1],e=this.fingers[t][1][1];c-10<=e+10?this.curledFingers.add(t):this.curledFingers.delete(t)}}}const bl="14.7.77",Ga=(b,t,c)=>({endTime:t,insertTime:c,type:"exponentialRampToValue",value:b}),qa=(b,t,c)=>({endTime:t,insertTime:c,type:"linearRampToValue",value:b}),ci=(b,t)=>({startTime:t,type:"setValue",value:b}),_l=(b,t,c)=>({duration:c,startTime:t,type:"setValueCurve",values:b}),wl=(b,t,{startTime:c,target:e,timeConstant:g})=>e+(t-e)*Math.exp((c-b)/g),qn=b=>b.type==="exponentialRampToValue",_o=b=>b.type==="linearRampToValue",mn=b=>qn(b)||_o(b),Ti=b=>b.type==="setValue",Jr=b=>b.type==="setValueCurve",wo=(b,t,c,e)=>{const g=b[t];return g===void 0?e:mn(g)||Ti(g)?g.value:Jr(g)?g.values[g.values.length-1]:wl(c,wo(b,t-1,g.startTime,e),g)},za=(b,t,c,e,g)=>c===void 0?[e.insertTime,g]:mn(c)?[c.endTime,c.value]:Ti(c)?[c.startTime,c.value]:Jr(c)?[c.startTime+c.duration,c.values[c.values.length-1]]:[c.startTime,wo(b,t-1,c.startTime,g)],ui=b=>b.type==="cancelAndHold",di=b=>b.type==="cancelScheduledValues",pn=b=>ui(b)||di(b)?b.cancelTime:qn(b)||_o(b)?b.endTime:b.startTime,Wa=(b,t,c,{endTime:e,value:g})=>c===g?g:0<c&&0<g||c<0&&g<0?c*(g/c)**((b-t)/(e-t)):0,Ha=(b,t,c,{endTime:e,value:g})=>c+(b-t)/(e-t)*(g-c),xu=(b,t)=>{const c=Math.floor(t),e=Math.ceil(t);return c===e?b[c]:(1-(t-c))*b[c]+(1-(e-t))*b[e]},ju=(b,{duration:t,startTime:c,values:e})=>{const g=(b-c)/t*(e.length-1);return xu(e,g)},so=b=>b.type==="setTarget";class Su{constructor(t){this._automationEvents=[],this._currenTime=0,this._defaultValue=t}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(t){const c=pn(t);if(ui(t)||di(t)){const e=this._automationEvents.findIndex(y=>di(t)&&Jr(y)?y.startTime+y.duration>=c:pn(y)>=c),g=this._automationEvents[e];if(e!==-1&&(this._automationEvents=this._automationEvents.slice(0,e)),ui(t)){const y=this._automationEvents[this._automationEvents.length-1];if(g!==void 0&&mn(g)){if(so(y))throw new Error("The internal list is malformed.");const l=Jr(y)?y.startTime+y.duration:pn(y),i=Jr(y)?y.values[y.values.length-1]:y.value,r=qn(g)?Wa(c,l,i,g):Ha(c,l,i,g),a=qn(g)?Ga(r,c,this._currenTime):qa(r,c,this._currenTime);this._automationEvents.push(a)}y!==void 0&&so(y)&&this._automationEvents.push(ci(this.getValue(c),c)),y!==void 0&&Jr(y)&&y.startTime+y.duration>c&&(this._automationEvents[this._automationEvents.length-1]=_l(new Float32Array([6,7]),y.startTime,c-y.startTime))}}else{const e=this._automationEvents.findIndex(l=>pn(l)>c),g=e===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[e-1];if(g!==void 0&&Jr(g)&&pn(g)+g.duration>c)return!1;const y=qn(t)?Ga(t.value,t.endTime,this._currenTime):_o(t)?qa(t.value,c,this._currenTime):t;if(e===-1)this._automationEvents.push(y);else{if(Jr(t)&&c+t.duration>pn(this._automationEvents[e]))return!1;this._automationEvents.splice(e,0,y)}}return!0}flush(t){const c=this._automationEvents.findIndex(e=>pn(e)>t);if(c>1){const e=this._automationEvents.slice(c-1),g=e[0];so(g)&&e.unshift(ci(wo(this._automationEvents,c-2,g.startTime,this._defaultValue),g.startTime)),this._automationEvents=e}}getValue(t){if(this._automationEvents.length===0)return this._defaultValue;const c=this._automationEvents.findIndex(l=>pn(l)>t),e=this._automationEvents[c],g=(c===-1?this._automationEvents.length:c)-1,y=this._automationEvents[g];if(y!==void 0&&so(y)&&(e===void 0||!mn(e)||e.insertTime>t))return wl(t,wo(this._automationEvents,g-1,y.startTime,this._defaultValue),y);if(y!==void 0&&Ti(y)&&(e===void 0||!mn(e)))return y.value;if(y!==void 0&&Jr(y)&&(e===void 0||!mn(e)||y.startTime+y.duration>t))return t<y.startTime+y.duration?ju(t,y):y.values[y.values.length-1];if(y!==void 0&&mn(y)&&(e===void 0||!mn(e)))return y.value;if(e!==void 0&&qn(e)){const[l,i]=za(this._automationEvents,g,y,e,this._defaultValue);return Wa(t,l,i,e)}if(e!==void 0&&_o(e)){const[l,i]=za(this._automationEvents,g,y,e,this._defaultValue);return Ha(t,l,i,e)}return this._defaultValue}}const Tu=b=>({cancelTime:b,type:"cancelAndHold"}),Eu=b=>({cancelTime:b,type:"cancelScheduledValues"}),Mu=(b,t)=>({endTime:t,type:"exponentialRampToValue",value:b}),Cu=(b,t)=>({endTime:t,type:"linearRampToValue",value:b}),ku=(b,t,c)=>({startTime:t,target:b,timeConstant:c,type:"setTarget"}),Au=()=>new DOMException("","AbortError"),Ou=b=>(t,c,[e,g,y],l)=>{b(t[g],[c,e,y],i=>i[0]===c&&i[1]===e,l)},Ru=b=>(t,c,e)=>{const g=[];for(let y=0;y<e.numberOfInputs;y+=1)g.push(new Set);b.set(t,{activeInputs:g,outputs:new Set,passiveInputs:new WeakMap,renderer:c})},Pu=b=>(t,c)=>{b.set(t,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:c})},Xn=new WeakSet,xl=new WeakMap,Ei=new WeakMap,jl=new WeakMap,Mi=new WeakMap,Bo=new WeakMap,Sl=new WeakMap,hi=new WeakMap,fi=new WeakMap,pi=new WeakMap,Tl={construct(){return Tl}},Lu=b=>{try{const t=new Proxy(b,Tl);new t}catch{return!1}return!0},Xa=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Ya=(b,t)=>{const c=[];let e=b.replace(/^[\s]+/,""),g=e.match(Xa);for(;g!==null;){const y=g[1].slice(1,-1),l=g[0].replace(/([\s]+)?;?$/,"").replace(y,new URL(y,t).toString());c.push(l),e=e.slice(g[0].length).replace(/^[\s]+/,""),g=e.match(Xa)}return[c.join(";"),e]},$a=b=>{if(b!==void 0&&!Array.isArray(b))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},Za=b=>{if(!Lu(b))throw new TypeError("The given value for processorCtor should be a constructor.");if(b.prototype===null||typeof b.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},Iu=(b,t,c,e,g,y,l,i,r,a,d,f,s)=>{let o=0;return(n,u,h={credentials:"omit"})=>{const p=d.get(n);if(p!==void 0&&p.has(u))return Promise.resolve();const v=a.get(n);if(v!==void 0){const x=v.get(u);if(x!==void 0)return x}const _=y(n),j=_.audioWorklet===void 0?g(u).then(([x,M])=>{const[E,C]=Ya(x,M),R=`${E};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${C}
})})(window,'_AWGS')`;return c(R)}).then(()=>{const x=s._AWGS.pop();if(x===void 0)throw new SyntaxError;e(_.currentTime,_.sampleRate,()=>x(class{},void 0,(M,E)=>{if(M.trim()==="")throw t();const C=fi.get(_);if(C!==void 0){if(C.has(M))throw t();Za(E),$a(E.parameterDescriptors),C.set(M,E)}else Za(E),$a(E.parameterDescriptors),fi.set(_,new Map([[M,E]]))},_.sampleRate,void 0,void 0))}):Promise.all([g(u),Promise.resolve(b(f,f))]).then(([[x,M],E])=>{const C=o+1;o=C;const[R,O]=Ya(x,M),U=`${R};((AudioWorkletProcessor,registerProcessor)=>{${O}
})(${E?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${E?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${E?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${C}',class extends AudioWorkletProcessor{process(){return !1}})`,W=new Blob([U],{type:"application/javascript; charset=utf-8"}),z=URL.createObjectURL(W);return _.audioWorklet.addModule(z,h).then(()=>{if(i(_))return _;const q=l(_);return q.audioWorklet.addModule(z,h).then(()=>q)}).then(q=>{if(r===null)throw new SyntaxError;try{new r(q,`__sac${C}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(z))});return v===void 0?a.set(n,new Map([[u,j]])):v.set(u,j),j.then(()=>{const x=d.get(n);x===void 0?d.set(n,new Set([u])):x.add(u)}).finally(()=>{const x=a.get(n);x!==void 0&&x.delete(u)}),j}},Ir=(b,t)=>{const c=b.get(t);if(c===void 0)throw new Error("A value with the given key could not be found.");return c},Vo=(b,t)=>{const c=Array.from(b).filter(t);if(c.length>1)throw Error("More than one element was found.");if(c.length===0)throw Error("No element was found.");const[e]=c;return b.delete(e),e},El=(b,t,c,e)=>{const g=Ir(b,t),y=Vo(g,l=>l[0]===c&&l[1]===e);return g.size===0&&b.delete(t),y},Gs=b=>Ir(Sl,b),Yn=b=>{if(Xn.has(b))throw new Error("The AudioNode is already stored.");Xn.add(b),Gs(b).forEach(t=>t(!0))},Ml=b=>"port"in b,qs=b=>{if(!Xn.has(b))throw new Error("The AudioNode is not stored.");Xn.delete(b),Gs(b).forEach(t=>t(!1))},mi=(b,t)=>{!Ml(b)&&t.every(c=>c.size===0)&&qs(b)},Du=(b,t,c,e,g,y,l,i,r,a,d,f,s)=>{const o=new WeakMap;return(n,u,h,p,v)=>{const{activeInputs:_,passiveInputs:j}=y(u),{outputs:x}=y(n),M=i(n),E=C=>{const R=r(u),O=r(n);if(C){const P=El(j,n,h,p);b(_,n,P,!1),!v&&!f(n)&&c(O,R,h,p),s(u)&&Yn(u)}else{const P=e(_,n,h,p);t(j,p,P,!1),!v&&!f(n)&&g(O,R,h,p);const I=l(u);if(I===0)d(u)&&mi(u,_);else{const N=o.get(u);N!==void 0&&clearTimeout(N),o.set(u,setTimeout(()=>{d(u)&&mi(u,_)},I*1e3))}}};return a(x,[u,h,p],C=>C[0]===u&&C[1]===h&&C[2]===p,!0)?(M.add(E),d(n)?b(_,n,[h,p,E],!0):t(j,p,[n,h,E],!0),!0):!1}},Nu=b=>(t,c,[e,g,y],l)=>{const i=t.get(e);i===void 0?t.set(e,new Set([[g,c,y]])):b(i,[g,c,y],r=>r[0]===g&&r[1]===c,l)},Fu=b=>(t,c)=>{const e=b(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});c.connect(e).connect(t.destination);const g=()=>{c.removeEventListener("ended",g),c.disconnect(e),e.disconnect()};c.addEventListener("ended",g)},Uu=b=>(t,c)=>{b(t).add(c)},Bu={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},Vu=(b,t,c,e,g,y)=>class extends b{constructor(i,r){const a=g(i),d={...Bu,...r},f=e(a,d),s=y(a)?t():null;super(i,!1,f,s),this._nativeAnalyserNode=f}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(i){this._nativeAnalyserNode.fftSize=i}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(i){const r=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=i,!(i>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=r,c()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(i){const r=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=i,!(this._nativeAnalyserNode.maxDecibels>i))throw this._nativeAnalyserNode.minDecibels=r,c()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(i){this._nativeAnalyserNode.smoothingTimeConstant=i}getByteFrequencyData(i){this._nativeAnalyserNode.getByteFrequencyData(i)}getByteTimeDomainData(i){this._nativeAnalyserNode.getByteTimeDomainData(i)}getFloatFrequencyData(i){this._nativeAnalyserNode.getFloatFrequencyData(i)}getFloatTimeDomainData(i){this._nativeAnalyserNode.getFloatTimeDomainData(i)}},fr=(b,t)=>b.context===t,Gu=(b,t,c)=>()=>{const e=new WeakMap,g=async(y,l)=>{let i=t(y);if(!fr(i,l)){const a={channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,fftSize:i.fftSize,maxDecibels:i.maxDecibels,minDecibels:i.minDecibels,smoothingTimeConstant:i.smoothingTimeConstant};i=b(l,a)}return e.set(l,i),await c(y,l,i),i};return{render(y,l){const i=e.get(l);return i!==void 0?Promise.resolve(i):g(y,l)}}},xo=b=>{try{b.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Xr=()=>new DOMException("","IndexSizeError"),Ci=b=>{b.getChannelData=(t=>c=>{try{return t.call(b,c)}catch(e){throw e.code===12?Xr():e}})(b.getChannelData)},qu={numberOfChannels:1},zu=(b,t,c,e,g,y,l,i)=>{let r=null;return class Cl{constructor(d){if(g===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:f,numberOfChannels:s,sampleRate:o}={...qu,...d};r===null&&(r=new g(1,1,44100));const n=e!==null&&t(y,y)?new e({length:f,numberOfChannels:s,sampleRate:o}):r.createBuffer(s,f,o);if(n.numberOfChannels===0)throw c();return typeof n.copyFromChannel!="function"?(l(n),Ci(n)):t(xo,()=>xo(n))||i(n),b.add(n),n}static[Symbol.hasInstance](d){return d!==null&&typeof d=="object"&&Object.getPrototypeOf(d)===Cl.prototype||b.has(d)}}},vr=-34028234663852886e22,pr=-vr,rn=b=>Xn.has(b),Wu={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},Hu=(b,t,c,e,g,y,l,i)=>class extends b{constructor(a,d){const f=y(a),s={...Wu,...d},o=g(f,s),n=l(f),u=n?t():null;super(a,!1,o,u),this._audioBufferSourceNodeRenderer=u,this._isBufferNullified=!1,this._isBufferSet=s.buffer!==null,this._nativeAudioBufferSourceNode=o,this._onended=null,this._playbackRate=c(this,n,o.playbackRate,pr,vr)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(a){if(this._nativeAudioBufferSourceNode.buffer=a,a!==null){if(this._isBufferSet)throw e();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(a){this._nativeAudioBufferSourceNode.loop=a}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(a){this._nativeAudioBufferSourceNode.loopEnd=a}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(a){this._nativeAudioBufferSourceNode.loopStart=a}get onended(){return this._onended}set onended(a){const d=typeof a=="function"?i(this,a):null;this._nativeAudioBufferSourceNode.onended=d;const f=this._nativeAudioBufferSourceNode.onended;this._onended=f!==null&&f===d?a:f}get playbackRate(){return this._playbackRate}start(a=0,d=0,f){if(this._nativeAudioBufferSourceNode.start(a,d,f),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=f===void 0?[a,d]:[a,d,f]),this.context.state!=="closed"){Yn(this);const s=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",s),rn(this)&&qs(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",s)}}stop(a=0){this._nativeAudioBufferSourceNode.stop(a),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=a)}},Xu=(b,t,c,e,g)=>()=>{const y=new WeakMap;let l=null,i=null;const r=async(a,d)=>{let f=c(a);const s=fr(f,d);if(!s){const o={buffer:f.buffer,channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,loop:f.loop,loopEnd:f.loopEnd,loopStart:f.loopStart,playbackRate:f.playbackRate.value};f=t(d,o),l!==null&&f.start(...l),i!==null&&f.stop(i)}return y.set(d,f),s?await b(d,a.playbackRate,f.playbackRate):await e(d,a.playbackRate,f.playbackRate),await g(a,d,f),f};return{set start(a){l=a},set stop(a){i=a},render(a,d){const f=y.get(d);return f!==void 0?Promise.resolve(f):r(a,d)}}},Yu=b=>"playbackRate"in b,$u=b=>"frequency"in b&&"gain"in b,Zu=b=>"offset"in b,Qu=b=>!("frequency"in b)&&"gain"in b,Ku=b=>"detune"in b&&"frequency"in b,Ju=b=>"pan"in b,mr=b=>Ir(xl,b),zs=b=>Ir(jl,b),yi=(b,t)=>{const{activeInputs:c}=mr(b);c.forEach(g=>g.forEach(([y])=>{t.includes(b)||yi(y,[...t,b])}));const e=Yu(b)?[b.playbackRate]:Ml(b)?Array.from(b.parameters.values()):$u(b)?[b.Q,b.detune,b.frequency,b.gain]:Zu(b)?[b.offset]:Qu(b)?[b.gain]:Ku(b)?[b.detune,b.frequency]:Ju(b)?[b.pan]:[];for(const g of e){const y=zs(g);y!==void 0&&y.activeInputs.forEach(([l])=>yi(l,t))}rn(b)&&qs(b)},kl=b=>{yi(b.destination,[])},ed=b=>b===void 0||typeof b=="number"||typeof b=="string"&&(b==="balanced"||b==="interactive"||b==="playback"),td=(b,t,c,e,g,y,l,i,r)=>class extends b{constructor(d={}){if(r===null)throw new Error("Missing the native AudioContext constructor.");let f;try{f=new r(d)}catch(n){throw n.code===12&&n.message==="sampleRate is not in range"?c():n}if(f===null)throw e();if(!ed(d.latencyHint))throw new TypeError(`The provided value '${d.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(d.sampleRate!==void 0&&f.sampleRate!==d.sampleRate)throw c();super(f,2);const{latencyHint:s}=d,{sampleRate:o}=f;if(this._baseLatency=typeof f.baseLatency=="number"?f.baseLatency:s==="balanced"?512/o:s==="interactive"||s===void 0?256/o:s==="playback"?1024/o:Math.max(2,Math.min(128,Math.round(s*o/128)))*128/o,this._nativeAudioContext=f,r.name==="webkitAudioContext"?(this._nativeGainNode=f.createGain(),this._nativeOscillatorNode=f.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(f.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,f.state==="running"){this._state="suspended";const n=()=>{this._state==="suspended"&&(this._state=null),f.removeEventListener("statechange",n)};f.addEventListener("statechange",n)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw t()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),kl(this)}))}createMediaElementSource(d){return new g(this,{mediaElement:d})}createMediaStreamDestination(){return new y(this)}createMediaStreamSource(d){return new l(this,{mediaStream:d})}createMediaStreamTrackSource(d){return new i(this,{mediaStreamTrack:d})}resume(){return this._state==="suspended"?new Promise((d,f)=>{const s=()=>{this._nativeAudioContext.removeEventListener("statechange",s),this._nativeAudioContext.state==="running"?d():this.resume().then(d,f)};this._nativeAudioContext.addEventListener("statechange",s)}):this._nativeAudioContext.resume().catch(d=>{throw d===void 0||d.code===15?t():d})}suspend(){return this._nativeAudioContext.suspend().catch(d=>{throw d===void 0?t():d})}},rd=(b,t,c,e,g,y,l,i)=>class extends b{constructor(a,d){const f=y(a),s=l(f),o=g(f,d,s),n=s?t(i):null;super(a,!1,o,n),this._isNodeOfNativeOfflineAudioContext=s,this._nativeAudioDestinationNode=o}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(a){if(this._isNodeOfNativeOfflineAudioContext)throw e();if(a>this._nativeAudioDestinationNode.maxChannelCount)throw c();this._nativeAudioDestinationNode.channelCount=a}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(a){if(this._isNodeOfNativeOfflineAudioContext)throw e();this._nativeAudioDestinationNode.channelCountMode=a}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},nd=b=>{const t=new WeakMap,c=async(e,g)=>{const y=g.destination;return t.set(g,y),await b(e,g,y),y};return{render(e,g){const y=t.get(g);return y!==void 0?Promise.resolve(y):c(e,g)}}},sd=(b,t,c,e,g,y,l,i)=>(r,a)=>{const d=a.listener,f=()=>{const x=new Float32Array(1),M=t(a,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),E=l(a);let C=!1,R=[0,0,-1,0,1,0],O=[0,0,0];const P=()=>{if(C)return;C=!0;const W=e(a,256,9,0);W.onaudioprocess=({inputBuffer:z})=>{const q=[y(z,x,0),y(z,x,1),y(z,x,2),y(z,x,3),y(z,x,4),y(z,x,5)];q.some((G,X)=>G!==R[X])&&(d.setOrientation(...q),R=q);const Y=[y(z,x,6),y(z,x,7),y(z,x,8)];Y.some((G,X)=>G!==O[X])&&(d.setPosition(...Y),O=Y)},M.connect(W)},I=W=>z=>{z!==R[W]&&(R[W]=z,d.setOrientation(...R))},N=W=>z=>{z!==O[W]&&(O[W]=z,d.setPosition(...O))},U=(W,z,q)=>{const Y=c(a,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:z});Y.connect(M,0,W),Y.start(),Object.defineProperty(Y.offset,"defaultValue",{get(){return z}});const G=b({context:r},E,Y.offset,pr,vr);return i(G,"value",X=>()=>X.call(G),X=>$=>{try{X.call(G,$)}catch(ne){if(ne.code!==9)throw ne}P(),E&&q($)}),G.cancelAndHoldAtTime=(X=>E?()=>{throw g()}:(...$)=>{const ne=X.apply(G,$);return P(),ne})(G.cancelAndHoldAtTime),G.cancelScheduledValues=(X=>E?()=>{throw g()}:(...$)=>{const ne=X.apply(G,$);return P(),ne})(G.cancelScheduledValues),G.exponentialRampToValueAtTime=(X=>E?()=>{throw g()}:(...$)=>{const ne=X.apply(G,$);return P(),ne})(G.exponentialRampToValueAtTime),G.linearRampToValueAtTime=(X=>E?()=>{throw g()}:(...$)=>{const ne=X.apply(G,$);return P(),ne})(G.linearRampToValueAtTime),G.setTargetAtTime=(X=>E?()=>{throw g()}:(...$)=>{const ne=X.apply(G,$);return P(),ne})(G.setTargetAtTime),G.setValueAtTime=(X=>E?()=>{throw g()}:(...$)=>{const ne=X.apply(G,$);return P(),ne})(G.setValueAtTime),G.setValueCurveAtTime=(X=>E?()=>{throw g()}:(...$)=>{const ne=X.apply(G,$);return P(),ne})(G.setValueCurveAtTime),G};return{forwardX:U(0,0,I(0)),forwardY:U(1,0,I(1)),forwardZ:U(2,-1,I(2)),positionX:U(6,0,N(0)),positionY:U(7,0,N(1)),positionZ:U(8,0,N(2)),upX:U(3,0,I(3)),upY:U(4,1,I(4)),upZ:U(5,0,I(5))}},{forwardX:s,forwardY:o,forwardZ:n,positionX:u,positionY:h,positionZ:p,upX:v,upY:_,upZ:j}=d.forwardX===void 0?f():d;return{get forwardX(){return s},get forwardY(){return o},get forwardZ(){return n},get positionX(){return u},get positionY(){return h},get positionZ(){return p},get upX(){return v},get upY(){return _},get upZ(){return j}}},jo=b=>"context"in b,Ws=b=>jo(b[0]),In=(b,t,c,e)=>{for(const g of b)if(c(g)){if(e)return!1;throw Error("The set contains at least one similar element.")}return b.add(t),!0},Qa=(b,t,[c,e],g)=>{In(b,[t,c,e],y=>y[0]===t&&y[1]===c,g)},Ka=(b,[t,c,e],g)=>{const y=b.get(t);y===void 0?b.set(t,new Set([[c,e]])):In(y,[c,e],l=>l[0]===c,g)},rs=b=>"inputs"in b,So=(b,t,c,e)=>{if(rs(t)){const g=t.inputs[e];return b.connect(g,c,0),[g,c,0]}return b.connect(t,c,e),[t,c,e]},Al=(b,t,c)=>{for(const e of b)if(e[0]===t&&e[1]===c)return b.delete(e),e;return null},od=(b,t,c)=>Vo(b,e=>e[0]===t&&e[1]===c),Ol=(b,t)=>{if(!Gs(b).delete(t))throw new Error("Missing the expected event listener.")},Rl=(b,t,c)=>{const e=Ir(b,t),g=Vo(e,y=>y[0]===c);return e.size===0&&b.delete(t),g},To=(b,t,c,e)=>{rs(t)?b.disconnect(t.inputs[e],c,0):b.disconnect(t,c,e)},At=b=>Ir(Ei,b),Ms=b=>Ir(Mi,b),An=b=>hi.has(b),mo=b=>!Xn.has(b),Ja=(b,t)=>new Promise(c=>{if(t!==null)c(!0);else{const e=b.createScriptProcessor(256,1,1),g=b.createGain(),y=b.createBuffer(1,2,44100),l=y.getChannelData(0);l[0]=1,l[1]=1;const i=b.createBufferSource();i.buffer=y,i.loop=!0,i.connect(e).connect(b.destination),i.connect(g),i.disconnect(g),e.onaudioprocess=r=>{const a=r.inputBuffer.getChannelData(0);Array.prototype.some.call(a,d=>d===1)?c(!0):c(!1),i.stop(),e.onaudioprocess=null,i.disconnect(e),e.disconnect(b.destination)},i.start()}}),ii=(b,t)=>{const c=new Map;for(const e of b)for(const g of e){const y=c.get(g);c.set(g,y===void 0?1:y+1)}c.forEach((e,g)=>t(g,e))},Eo=b=>"context"in b,id=b=>{const t=new Map;b.connect=(c=>(e,g=0,y=0)=>{const l=Eo(e)?c(e,g,y):c(e,g),i=t.get(e);return i===void 0?t.set(e,[{input:y,output:g}]):i.every(r=>r.input!==y||r.output!==g)&&i.push({input:y,output:g}),l})(b.connect.bind(b)),b.disconnect=(c=>(e,g,y)=>{if(c.apply(b),e===void 0)t.clear();else if(typeof e=="number")for(const[l,i]of t){const r=i.filter(a=>a.output!==e);r.length===0?t.delete(l):t.set(l,r)}else if(t.has(e))if(g===void 0)t.delete(e);else{const l=t.get(e);if(l!==void 0){const i=l.filter(r=>r.output!==g&&(r.input!==y||y===void 0));i.length===0?t.delete(e):t.set(e,i)}}for(const[l,i]of t)i.forEach(r=>{Eo(l)?b.connect(l,r.output,r.input):b.connect(l,r.output)})})(b.disconnect)},ad=(b,t,c,e)=>{const{activeInputs:g,passiveInputs:y}=zs(t),{outputs:l}=mr(b),i=Gs(b),r=a=>{const d=At(b),f=Ms(t);if(a){const s=Rl(y,b,c);Qa(g,b,s,!1),!e&&!An(b)&&d.connect(f,c)}else{const s=od(g,b,c);Ka(y,s,!1),!e&&!An(b)&&d.disconnect(f,c)}};return In(l,[t,c],a=>a[0]===t&&a[1]===c,!0)?(i.add(r),rn(b)?Qa(g,b,[c,r],!0):Ka(y,[b,c,r],!0),!0):!1},ld=(b,t,c,e)=>{const{activeInputs:g,passiveInputs:y}=mr(t),l=Al(g[e],b,c);return l===null?[El(y,b,c,e)[2],!1]:[l[2],!0]},cd=(b,t,c)=>{const{activeInputs:e,passiveInputs:g}=zs(t),y=Al(e,b,c);return y===null?[Rl(g,b,c)[1],!1]:[y[2],!0]},ki=(b,t,c,e,g)=>{const[y,l]=ld(b,c,e,g);if(y!==null&&(Ol(b,y),l&&!t&&!An(b)&&To(At(b),At(c),e,g)),rn(c)){const{activeInputs:i}=mr(c);mi(c,i)}},Ai=(b,t,c,e)=>{const[g,y]=cd(b,c,e);g!==null&&(Ol(b,g),y&&!t&&!An(b)&&At(b).disconnect(Ms(c),e))},ud=(b,t)=>{const c=mr(b),e=[];for(const g of c.outputs)Ws(g)?ki(b,t,...g):Ai(b,t,...g),e.push(g[0]);return c.outputs.clear(),e},dd=(b,t,c)=>{const e=mr(b),g=[];for(const y of e.outputs)y[1]===c&&(Ws(y)?ki(b,t,...y):Ai(b,t,...y),g.push(y[0]),e.outputs.delete(y));return g},hd=(b,t,c,e,g)=>{const y=mr(b);return Array.from(y.outputs).filter(l=>l[0]===c&&(e===void 0||l[1]===e)&&(g===void 0||l[2]===g)).map(l=>(Ws(l)?ki(b,t,...l):Ai(b,t,...l),y.outputs.delete(l),l[0]))},fd=(b,t,c,e,g,y,l,i,r,a,d,f,s,o,n,u)=>class extends a{constructor(p,v,_,j){super(_),this._context=p,this._nativeAudioNode=_;const x=d(p);f(x)&&c(Ja,()=>Ja(x,u))!==!0&&id(_),Ei.set(this,_),Sl.set(this,new Set),p.state!=="closed"&&v&&Yn(this),b(this,j,_)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(p){this._nativeAudioNode.channelCount=p}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(p){this._nativeAudioNode.channelCountMode=p}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(p){this._nativeAudioNode.channelInterpretation=p}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(p,v=0,_=0){if(v<0||v>=this._nativeAudioNode.numberOfOutputs)throw g();const j=d(this._context),x=n(j);if(s(p)||o(p))throw y();if(jo(p)){const C=At(p);try{const O=So(this._nativeAudioNode,C,v,_),P=mo(this);(x||P)&&this._nativeAudioNode.disconnect(...O),this.context.state!=="closed"&&!P&&mo(p)&&Yn(p)}catch(O){throw O.code===12?y():O}if(t(this,p,v,_,x)){const O=r([this],p);ii(O,e(x))}return p}const M=Ms(p);if(M.name==="playbackRate"&&M.maxValue===1024)throw l();try{this._nativeAudioNode.connect(M,v),(x||mo(this))&&this._nativeAudioNode.disconnect(M,v)}catch(C){throw C.code===12?y():C}if(ad(this,p,v,x)){const C=r([this],p);ii(C,e(x))}}disconnect(p,v,_){let j;const x=d(this._context),M=n(x);if(p===void 0)j=ud(this,M);else if(typeof p=="number"){if(p<0||p>=this.numberOfOutputs)throw g();j=dd(this,M,p)}else{if(v!==void 0&&(v<0||v>=this.numberOfOutputs)||jo(p)&&_!==void 0&&(_<0||_>=p.numberOfInputs))throw g();if(j=hd(this,M,p,v,_),j.length===0)throw y()}for(const E of j){const C=r([this],E);ii(C,i)}}},pd=(b,t,c,e,g,y,l,i,r,a,d,f,s)=>(o,n,u,h=null,p=null)=>{const v=new Su(u.defaultValue),_=n?e(v):null,j={get defaultValue(){return u.defaultValue},get maxValue(){return h===null?u.maxValue:h},get minValue(){return p===null?u.minValue:p},get value(){return u.value},set value(x){u.value=x,j.setValueAtTime(x,o.context.currentTime)},cancelAndHoldAtTime(x){if(typeof u.cancelAndHoldAtTime=="function")_===null&&v.flush(o.context.currentTime),v.add(g(x)),u.cancelAndHoldAtTime(x);else{const M=Array.from(v).pop();_===null&&v.flush(o.context.currentTime),v.add(g(x));const E=Array.from(v).pop();u.cancelScheduledValues(x),M!==E&&E!==void 0&&(E.type==="exponentialRampToValue"?u.exponentialRampToValueAtTime(E.value,E.endTime):E.type==="linearRampToValue"?u.linearRampToValueAtTime(E.value,E.endTime):E.type==="setValue"?u.setValueAtTime(E.value,E.startTime):E.type==="setValueCurve"&&u.setValueCurveAtTime(E.values,E.startTime,E.duration))}return j},cancelScheduledValues(x){return _===null&&v.flush(o.context.currentTime),v.add(y(x)),u.cancelScheduledValues(x),j},exponentialRampToValueAtTime(x,M){if(x===0)throw new RangeError;if(!Number.isFinite(M)||M<0)throw new RangeError;return _===null&&v.flush(o.context.currentTime),v.add(l(x,M)),u.exponentialRampToValueAtTime(x,M),j},linearRampToValueAtTime(x,M){return _===null&&v.flush(o.context.currentTime),v.add(i(x,M)),u.linearRampToValueAtTime(x,M),j},setTargetAtTime(x,M,E){return _===null&&v.flush(o.context.currentTime),v.add(r(x,M,E)),u.setTargetAtTime(x,M,E),j},setValueAtTime(x,M){return _===null&&v.flush(o.context.currentTime),v.add(a(x,M)),u.setValueAtTime(x,M),j},setValueCurveAtTime(x,M,E){const C=x instanceof Float32Array?x:new Float32Array(x);if(f!==null&&f.name==="webkitAudioContext"){const R=M+E,O=o.context.sampleRate,P=Math.ceil(M*O),I=Math.floor(R*O),N=I-P,U=new Float32Array(N);for(let z=0;z<N;z+=1){const q=(C.length-1)/E*((P+z)/O-M),Y=Math.floor(q),G=Math.ceil(q);U[z]=Y===G?C[Y]:(1-(q-Y))*C[Y]+(1-(G-q))*C[G]}_===null&&v.flush(o.context.currentTime),v.add(d(U,M,E)),u.setValueCurveAtTime(U,M,E);const W=I/O;W<R&&s(j,U[U.length-1],W),s(j,C[C.length-1],R)}else _===null&&v.flush(o.context.currentTime),v.add(d(C,M,E)),u.setValueCurveAtTime(C,M,E);return j}};return c.set(j,u),t.set(j,o),b(j,_),j},md=b=>({replay(t){for(const c of b)if(c.type==="exponentialRampToValue"){const{endTime:e,value:g}=c;t.exponentialRampToValueAtTime(g,e)}else if(c.type==="linearRampToValue"){const{endTime:e,value:g}=c;t.linearRampToValueAtTime(g,e)}else if(c.type==="setTarget"){const{startTime:e,target:g,timeConstant:y}=c;t.setTargetAtTime(g,e,y)}else if(c.type==="setValue"){const{startTime:e,value:g}=c;t.setValueAtTime(g,e)}else if(c.type==="setValueCurve"){const{duration:e,startTime:g,values:y}=c;t.setValueCurveAtTime(y,g,e)}else throw new Error("Can't apply an unknown automation.")}});class Pl{constructor(t){this._map=new Map(t)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(t,c=null){return this._map.forEach((e,g)=>t.call(c,e,g,this))}get(t){return this._map.get(t)}has(t){return this._map.has(t)}keys(){return this._map.keys()}values(){return this._map.values()}}const yd={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},gd=(b,t,c,e,g,y,l,i,r,a,d,f,s,o)=>class extends t{constructor(u,h,p){var v;const _=i(u),j=r(_),x=d({...yd,...p});s(x);const M=fi.get(_),E=M==null?void 0:M.get(h),C=j||_.state!=="closed"?_:(v=l(_))!==null&&v!==void 0?v:_,R=g(C,j?null:u.baseLatency,a,h,E,x),O=j?e(h,x,E):null;super(u,!0,R,O);const P=[];R.parameters.forEach((N,U)=>{const W=c(this,j,N);P.push([U,W])}),this._nativeAudioWorkletNode=R,this._onprocessorerror=null,this._parameters=new Pl(P),j&&b(_,this);const{activeInputs:I}=y(this);f(R,I)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(u){const h=typeof u=="function"?o(this,u):null;this._nativeAudioWorkletNode.onprocessorerror=h;const p=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=p!==null&&p===h?u:p}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Mo(b,t,c,e,g){if(typeof b.copyFromChannel=="function")t[c].byteLength===0&&(t[c]=new Float32Array(128)),b.copyFromChannel(t[c],e,g);else{const y=b.getChannelData(e);if(t[c].byteLength===0)t[c]=y.slice(g,g+128);else{const l=new Float32Array(y.buffer,g*Float32Array.BYTES_PER_ELEMENT,128);t[c].set(l)}}}const Ll=(b,t,c,e,g)=>{typeof b.copyToChannel=="function"?t[c].byteLength!==0&&b.copyToChannel(t[c],e,g):t[c].byteLength!==0&&b.getChannelData(e).set(t[c],g)},Co=(b,t)=>{const c=[];for(let e=0;e<b;e+=1){const g=[],y=typeof t=="number"?t:t[e];for(let l=0;l<y;l+=1)g.push(new Float32Array(128));c.push(g)}return c},vd=(b,t)=>{const c=Ir(pi,b),e=At(t);return Ir(c,e)},bd=async(b,t,c,e,g,y,l)=>{const i=t===null?Math.ceil(b.context.length/128)*128:t.length,r=e.channelCount*e.numberOfInputs,a=g.reduce((h,p)=>h+p,0),d=a===0?null:c.createBuffer(a,i,c.sampleRate);if(y===void 0)throw new Error("Missing the processor constructor.");const f=mr(b),s=await vd(c,b),o=Co(e.numberOfInputs,e.channelCount),n=Co(e.numberOfOutputs,g),u=Array.from(b.parameters.keys()).reduce((h,p)=>({...h,[p]:new Float32Array(128)}),{});for(let h=0;h<i;h+=128){if(e.numberOfInputs>0&&t!==null)for(let p=0;p<e.numberOfInputs;p+=1)for(let v=0;v<e.channelCount;v+=1)Mo(t,o[p],v,v,h);y.parameterDescriptors!==void 0&&t!==null&&y.parameterDescriptors.forEach(({name:p},v)=>{Mo(t,u,p,r+v,h)});for(let p=0;p<e.numberOfInputs;p+=1)for(let v=0;v<g[p];v+=1)n[p][v].byteLength===0&&(n[p][v]=new Float32Array(128));try{const p=o.map((_,j)=>f.activeInputs[j].size===0?[]:_),v=l(h/c.sampleRate,c.sampleRate,()=>s.process(p,n,u));if(d!==null)for(let _=0,j=0;_<e.numberOfOutputs;_+=1){for(let x=0;x<g[_];x+=1)Ll(d,n[_],x,j+x,h);j+=g[_]}if(!v)break}catch(p){b.dispatchEvent(new ErrorEvent("processorerror",{colno:p.colno,filename:p.filename,lineno:p.lineno,message:p.message}));break}}return d},_d=(b,t,c,e,g,y,l,i,r,a,d,f,s,o,n,u)=>(h,p,v)=>{const _=new WeakMap;let j=null;const x=async(M,E)=>{let C=d(M),R=null;const O=fr(C,E),P=Array.isArray(p.outputChannelCount)?p.outputChannelCount:Array.from(p.outputChannelCount);if(f===null){const I=P.reduce((z,q)=>z+q,0),N=g(E,{channelCount:Math.max(1,I),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,I)}),U=[];for(let z=0;z<M.numberOfOutputs;z+=1)U.push(e(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:P[z]}));const W=l(E,{channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,gain:1});W.connect=t.bind(null,U),W.disconnect=r.bind(null,U),R=[N,U,W]}else O||(C=new f(E,h));if(_.set(E,R===null?C:R[2]),R!==null){if(j===null){if(v===void 0)throw new Error("Missing the processor constructor.");if(s===null)throw new Error("Missing the native OfflineAudioContext constructor.");const q=M.channelCount*M.numberOfInputs,Y=v.parameterDescriptors===void 0?0:v.parameterDescriptors.length,G=q+Y;j=bd(M,G===0?null:await(async()=>{const $=new s(G,Math.ceil(M.context.length/128)*128,E.sampleRate),ne=[],k=[];for(let H=0;H<p.numberOfInputs;H+=1)ne.push(l($,{channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,gain:1})),k.push(g($,{channelCount:p.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:p.channelCount}));const L=await Promise.all(Array.from(M.parameters.values()).map(async H=>{const ee=y($,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:H.value});return await o($,H,ee.offset),ee})),F=e($,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,q+Y)});for(let H=0;H<p.numberOfInputs;H+=1){ne[H].connect(k[H]);for(let ee=0;ee<p.channelCount;ee+=1)k[H].connect(F,ee,H*p.channelCount+ee)}for(const[H,ee]of L.entries())ee.connect(F,0,q+H),ee.start(0);return F.connect($.destination),await Promise.all(ne.map(H=>n(M,$,H))),u($)})(),E,p,P,v,a)}const I=await j,N=c(E,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[U,W,z]=R;I!==null&&(N.buffer=I,N.start(0)),N.connect(U);for(let q=0,Y=0;q<M.numberOfOutputs;q+=1){const G=W[q];for(let X=0;X<P[q];X+=1)U.connect(G,Y+X,X);Y+=P[q]}return z}if(O)for(const[I,N]of M.parameters.entries())await b(E,N,C.parameters.get(I));else for(const[I,N]of M.parameters.entries())await o(E,N,C.parameters.get(I));return await n(M,E,C),C};return{render(M,E){i(E,M);const C=_.get(E);return C!==void 0?Promise.resolve(C):x(M,E)}}},wd=(b,t,c,e,g,y,l,i,r,a,d,f,s,o,n,u,h,p,v,_)=>class extends n{constructor(x,M){super(x,M),this._nativeContext=x,this._audioWorklet=b===void 0?void 0:{addModule:(E,C)=>b(this,E,C)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new t(this)}createBiquadFilter(){return new g(this)}createBuffer(x,M,E){return new c({length:M,numberOfChannels:x,sampleRate:E})}createBufferSource(){return new e(this)}createChannelMerger(x=6){return new y(this,{numberOfInputs:x})}createChannelSplitter(x=6){return new l(this,{numberOfOutputs:x})}createConstantSource(){return new i(this)}createConvolver(){return new r(this)}createDelay(x=1){return new d(this,{maxDelayTime:x})}createDynamicsCompressor(){return new f(this)}createGain(){return new s(this)}createIIRFilter(x,M){return new o(this,{feedback:M,feedforward:x})}createOscillator(){return new u(this)}createPanner(){return new h(this)}createPeriodicWave(x,M,E={disableNormalization:!1}){return new p(this,{...E,imag:M,real:x})}createStereoPanner(){return new v(this)}createWaveShaper(){return new _(this)}decodeAudioData(x,M,E){return a(this._nativeContext,x).then(C=>(typeof M=="function"&&M(C),C),C=>{throw typeof E=="function"&&E(C),C})}},xd={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},jd=(b,t,c,e,g,y,l,i)=>class extends b{constructor(a,d){const f=y(a),s={...xd,...d},o=g(f,s),n=l(f),u=n?c():null;super(a,!1,o,u),this._Q=t(this,n,o.Q,pr,vr),this._detune=t(this,n,o.detune,1200*Math.log2(pr),-1200*Math.log2(pr)),this._frequency=t(this,n,o.frequency,a.sampleRate/2,0),this._gain=t(this,n,o.gain,40*Math.log10(pr),vr),this._nativeBiquadFilterNode=o,i(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(a){this._nativeBiquadFilterNode.type=a}getFrequencyResponse(a,d,f){try{this._nativeBiquadFilterNode.getFrequencyResponse(a,d,f)}catch(s){throw s.code===11?e():s}if(a.length!==d.length||d.length!==f.length)throw e()}},Sd=(b,t,c,e,g)=>()=>{const y=new WeakMap,l=async(i,r)=>{let a=c(i);const d=fr(a,r);if(!d){const f={Q:a.Q.value,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,detune:a.detune.value,frequency:a.frequency.value,gain:a.gain.value,type:a.type};a=t(r,f)}return y.set(r,a),d?(await b(r,i.Q,a.Q),await b(r,i.detune,a.detune),await b(r,i.frequency,a.frequency),await b(r,i.gain,a.gain)):(await e(r,i.Q,a.Q),await e(r,i.detune,a.detune),await e(r,i.frequency,a.frequency),await e(r,i.gain,a.gain)),await g(i,r,a),a};return{render(i,r){const a=y.get(r);return a!==void 0?Promise.resolve(a):l(i,r)}}},Td=(b,t)=>(c,e)=>{const g=t.get(c);if(g!==void 0)return g;const y=b.get(c);if(y!==void 0)return y;try{const l=e();return l instanceof Promise?(b.set(c,l),l.catch(()=>!1).then(i=>(b.delete(c),t.set(c,i),i))):(t.set(c,l),l)}catch{return t.set(c,!1),!1}},Ed={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Md=(b,t,c,e,g)=>class extends b{constructor(l,i){const r=e(l),a={...Ed,...i},d=c(r,a),f=g(r)?t():null;super(l,!1,d,f)}},Cd=(b,t,c)=>()=>{const e=new WeakMap,g=async(y,l)=>{let i=t(y);if(!fr(i,l)){const a={channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,numberOfInputs:i.numberOfInputs};i=b(l,a)}return e.set(l,i),await c(y,l,i),i};return{render(y,l){const i=e.get(l);return i!==void 0?Promise.resolve(i):g(y,l)}}},kd={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},Ad=(b,t,c,e,g,y)=>class extends b{constructor(i,r){const a=e(i),d=y({...kd,...r}),f=c(a,d),s=g(a)?t():null;super(i,!1,f,s)}},Od=(b,t,c)=>()=>{const e=new WeakMap,g=async(y,l)=>{let i=t(y);if(!fr(i,l)){const a={channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,numberOfOutputs:i.numberOfOutputs};i=b(l,a)}return e.set(l,i),await c(y,l,i),i};return{render(y,l){const i=e.get(l);return i!==void 0?Promise.resolve(i):g(y,l)}}},Rd=b=>(t,c,e)=>b(c,t,e),Pd=b=>(t,c,e=0,g=0)=>{const y=t[e];if(y===void 0)throw b();return Eo(c)?y.connect(c,0,g):y.connect(c,0)},Ld=b=>(t,c)=>{const e=b(t,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),g=t.createBuffer(1,2,44100);return e.buffer=g,e.loop=!0,e.connect(c),e.start(),()=>{e.stop(),e.disconnect(c)}},Id={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},Dd=(b,t,c,e,g,y,l)=>class extends b{constructor(r,a){const d=g(r),f={...Id,...a},s=e(d,f),o=y(d),n=o?c():null;super(r,!1,s,n),this._constantSourceNodeRenderer=n,this._nativeConstantSourceNode=s,this._offset=t(this,o,s.offset,pr,vr),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(r){const a=typeof r=="function"?l(this,r):null;this._nativeConstantSourceNode.onended=a;const d=this._nativeConstantSourceNode.onended;this._onended=d!==null&&d===a?r:d}start(r=0){if(this._nativeConstantSourceNode.start(r),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=r),this.context.state!=="closed"){Yn(this);const a=()=>{this._nativeConstantSourceNode.removeEventListener("ended",a),rn(this)&&qs(this)};this._nativeConstantSourceNode.addEventListener("ended",a)}}stop(r=0){this._nativeConstantSourceNode.stop(r),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=r)}},Nd=(b,t,c,e,g)=>()=>{const y=new WeakMap;let l=null,i=null;const r=async(a,d)=>{let f=c(a);const s=fr(f,d);if(!s){const o={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,offset:f.offset.value};f=t(d,o),l!==null&&f.start(l),i!==null&&f.stop(i)}return y.set(d,f),s?await b(d,a.offset,f.offset):await e(d,a.offset,f.offset),await g(a,d,f),f};return{set start(a){l=a},set stop(a){i=a},render(a,d){const f=y.get(d);return f!==void 0?Promise.resolve(f):r(a,d)}}},Fd=b=>t=>(b[0]=t,b[0]),Ud={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},Bd=(b,t,c,e,g,y)=>class extends b{constructor(i,r){const a=e(i),d={...Ud,...r},f=c(a,d),o=g(a)?t():null;super(i,!1,f,o),this._isBufferNullified=!1,this._nativeConvolverNode=f,d.buffer!==null&&y(this,d.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(i){if(this._nativeConvolverNode.buffer=i,i===null&&this._nativeConvolverNode.buffer!==null){const r=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=r.createBuffer(1,1,r.sampleRate),this._isBufferNullified=!0,y(this,0)}else this._isBufferNullified=!1,y(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(i){this._nativeConvolverNode.normalize=i}},Vd=(b,t,c)=>()=>{const e=new WeakMap,g=async(y,l)=>{let i=t(y);if(!fr(i,l)){const a={buffer:i.buffer,channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,disableNormalization:!i.normalize};i=b(l,a)}return e.set(l,i),rs(i)?await c(y,l,i.inputs[0]):await c(y,l,i),i};return{render(y,l){const i=e.get(l);return i!==void 0?Promise.resolve(i):g(y,l)}}},Gd=(b,t)=>(c,e,g)=>{if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new t(c,e,g)}catch(y){throw y.name==="SyntaxError"?b():y}},qd=()=>new DOMException("","DataCloneError"),el=b=>{const{port1:t,port2:c}=new MessageChannel;return new Promise(e=>{const g=()=>{c.onmessage=null,t.close(),c.close(),e()};c.onmessage=()=>g();try{t.postMessage(b,[b])}finally{g()}})},zd=(b,t,c,e,g,y,l,i,r,a,d)=>(f,s)=>{const o=l(f)?f:y(f);if(g.has(s)){const n=c();return Promise.reject(n)}try{g.add(s)}catch{}return t(r,()=>r(o))?o.decodeAudioData(s).then(n=>(el(s).catch(()=>{}),t(i,()=>i(n))||d(n),b.add(n),n)):new Promise((n,u)=>{const h=async()=>{try{await el(s)}catch{}},p=v=>{u(v),h()};try{o.decodeAudioData(s,v=>{typeof v.copyFromChannel!="function"&&(a(v),Ci(v)),b.add(v),h().then(()=>n(v))},v=>{p(v===null?e():v)})}catch(v){p(v)}})},Wd=(b,t,c,e,g,y,l,i)=>(r,a)=>{const d=t.get(r);if(d===void 0)throw new Error("Missing the expected cycle count.");const f=y(r.context),s=i(f);if(d===a){if(t.delete(r),!s&&l(r)){const o=e(r),{outputs:n}=c(r);for(const u of n)if(Ws(u)){const h=e(u[0]);b(o,h,u[1],u[2])}else{const h=g(u[0]);o.connect(h,u[1])}}}else t.set(r,d-a)},Hd={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},Xd=(b,t,c,e,g,y,l)=>class extends b{constructor(r,a){const d=g(r),f={...Hd,...a},s=e(d,f),o=y(d),n=o?c(f.maxDelayTime):null;super(r,!1,s,n),this._delayTime=t(this,o,s.delayTime),l(this,f.maxDelayTime)}get delayTime(){return this._delayTime}},Yd=(b,t,c,e,g)=>y=>{const l=new WeakMap,i=async(r,a)=>{let d=c(r);const f=fr(d,a);if(!f){const s={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,delayTime:d.delayTime.value,maxDelayTime:y};d=t(a,s)}return l.set(a,d),f?await b(a,r.delayTime,d.delayTime):await e(a,r.delayTime,d.delayTime),await g(r,a,d),d};return{render(r,a){const d=l.get(a);return d!==void 0?Promise.resolve(d):i(r,a)}}},$d=b=>(t,c,e,g)=>b(t[g],y=>y[0]===c&&y[1]===e),Zd=b=>(t,c)=>{b(t).delete(c)},Qd=b=>"delayTime"in b,Kd=(b,t,c)=>function e(g,y){const l=jo(y)?y:c(b,y);if(Qd(l))return[];if(g[0]===l)return[g];if(g.includes(l))return[];const{outputs:i}=t(l);return Array.from(i).map(r=>e([...g,l],r[0])).reduce((r,a)=>r.concat(a),[])},oo=(b,t,c)=>{const e=t[c];if(e===void 0)throw b();return e},Jd=b=>(t,c=void 0,e=void 0,g=0)=>c===void 0?t.forEach(y=>y.disconnect()):typeof c=="number"?oo(b,t,c).disconnect():Eo(c)?e===void 0?t.forEach(y=>y.disconnect(c)):g===void 0?oo(b,t,e).disconnect(c,0):oo(b,t,e).disconnect(c,0,g):e===void 0?t.forEach(y=>y.disconnect(c)):oo(b,t,e).disconnect(c,0),eh={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},th=(b,t,c,e,g,y,l,i)=>class extends b{constructor(a,d){const f=y(a),s={...eh,...d},o=e(f,s),n=l(f),u=n?c():null;super(a,!1,o,u),this._attack=t(this,n,o.attack),this._knee=t(this,n,o.knee),this._nativeDynamicsCompressorNode=o,this._ratio=t(this,n,o.ratio),this._release=t(this,n,o.release),this._threshold=t(this,n,o.threshold),i(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(a){const d=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=a,a>2)throw this._nativeDynamicsCompressorNode.channelCount=d,g()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(a){const d=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=a,a==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=d,g()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},rh=(b,t,c,e,g)=>()=>{const y=new WeakMap,l=async(i,r)=>{let a=c(i);const d=fr(a,r);if(!d){const f={attack:a.attack.value,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,knee:a.knee.value,ratio:a.ratio.value,release:a.release.value,threshold:a.threshold.value};a=t(r,f)}return y.set(r,a),d?(await b(r,i.attack,a.attack),await b(r,i.knee,a.knee),await b(r,i.ratio,a.ratio),await b(r,i.release,a.release),await b(r,i.threshold,a.threshold)):(await e(r,i.attack,a.attack),await e(r,i.knee,a.knee),await e(r,i.ratio,a.ratio),await e(r,i.release,a.release),await e(r,i.threshold,a.threshold)),await g(i,r,a),a};return{render(i,r){const a=y.get(r);return a!==void 0?Promise.resolve(a):l(i,r)}}},nh=()=>new DOMException("","EncodingError"),sh=b=>t=>new Promise((c,e)=>{if(b===null){e(new SyntaxError);return}const g=b.document.head;if(g===null)e(new SyntaxError);else{const y=b.document.createElement("script"),l=new Blob([t],{type:"application/javascript"}),i=URL.createObjectURL(l),r=b.onerror,a=()=>{b.onerror=r,URL.revokeObjectURL(i)};b.onerror=(d,f,s,o,n)=>{if(f===i||f===b.location.href&&s===1&&o===1)return a(),e(n),!1;if(r!==null)return r(d,f,s,o,n)},y.onerror=()=>{a(),e(new SyntaxError)},y.onload=()=>{a(),c()},y.src=i,y.type="module",g.appendChild(y)}}),oh=b=>class{constructor(c){this._nativeEventTarget=c,this._listeners=new WeakMap}addEventListener(c,e,g){if(e!==null){let y=this._listeners.get(e);y===void 0&&(y=b(this,e),typeof e=="function"&&this._listeners.set(e,y)),this._nativeEventTarget.addEventListener(c,y,g)}}dispatchEvent(c){return this._nativeEventTarget.dispatchEvent(c)}removeEventListener(c,e,g){const y=e===null?void 0:this._listeners.get(e);this._nativeEventTarget.removeEventListener(c,y===void 0?null:y,g)}},ih=b=>(t,c,e)=>{Object.defineProperties(b,{currentFrame:{configurable:!0,get(){return Math.round(t*c)}},currentTime:{configurable:!0,get(){return t}}});try{return e()}finally{b!==null&&(delete b.currentFrame,delete b.currentTime)}},ah=b=>async t=>{try{const c=await fetch(t);if(c.ok)return[await c.text(),c.url]}catch{}throw b()},lh={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},ch=(b,t,c,e,g,y)=>class extends b{constructor(i,r){const a=g(i),d={...lh,...r},f=e(a,d),s=y(a),o=s?c():null;super(i,!1,f,o),this._gain=t(this,s,f.gain,pr,vr)}get gain(){return this._gain}},uh=(b,t,c,e,g)=>()=>{const y=new WeakMap,l=async(i,r)=>{let a=c(i);const d=fr(a,r);if(!d){const f={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,gain:a.gain.value};a=t(r,f)}return y.set(r,a),d?await b(r,i.gain,a.gain):await e(r,i.gain,a.gain),await g(i,r,a),a};return{render(i,r){const a=y.get(r);return a!==void 0?Promise.resolve(a):l(i,r)}}},dh=(b,t)=>c=>t(b,c),hh=b=>t=>{const c=b(t);if(c.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return c.renderer},fh=b=>t=>{var c;return(c=b.get(t))!==null&&c!==void 0?c:0},ph=b=>t=>{const c=b(t);if(c.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return c.renderer},mh=b=>t=>b.get(t),sr=()=>new DOMException("","InvalidStateError"),yh=b=>t=>{const c=b.get(t);if(c===void 0)throw sr();return c},gh=(b,t)=>c=>{let e=b.get(c);if(e!==void 0)return e;if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");return e=new t(1,1,44100),b.set(c,e),e},vh=b=>t=>{const c=b.get(t);if(c===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return c},Go=()=>new DOMException("","InvalidAccessError"),bh=b=>{b.getFrequencyResponse=(t=>(c,e,g)=>{if(c.length!==e.length||e.length!==g.length)throw Go();return t.call(b,c,e,g)})(b.getFrequencyResponse)},_h={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},wh=(b,t,c,e,g,y)=>class extends b{constructor(i,r){const a=e(i),d=g(a),f={..._h,...r},s=t(a,d?null:i.baseLatency,f),o=d?c(f.feedback,f.feedforward):null;super(i,!1,s,o),bh(s),this._nativeIIRFilterNode=s,y(this,1)}getFrequencyResponse(i,r,a){return this._nativeIIRFilterNode.getFrequencyResponse(i,r,a)}},Il=(b,t,c,e,g,y,l,i,r,a,d)=>{const f=a.length;let s=i;for(let o=0;o<f;o+=1){let n=c[0]*a[o];for(let u=1;u<g;u+=1){const h=s-u&r-1;n+=c[u]*y[h],n-=b[u]*l[h]}for(let u=g;u<e;u+=1)n+=c[u]*y[s-u&r-1];for(let u=g;u<t;u+=1)n-=b[u]*l[s-u&r-1];y[s]=a[o],l[s]=n,s=s+1&r-1,d[o]=n}return s},xh=(b,t,c,e)=>{const g=c instanceof Float64Array?c:new Float64Array(c),y=e instanceof Float64Array?e:new Float64Array(e),l=g.length,i=y.length,r=Math.min(l,i);if(g[0]!==1){for(let n=0;n<l;n+=1)y[n]/=g[0];for(let n=1;n<i;n+=1)g[n]/=g[0]}const a=32,d=new Float32Array(a),f=new Float32Array(a),s=t.createBuffer(b.numberOfChannels,b.length,b.sampleRate),o=b.numberOfChannels;for(let n=0;n<o;n+=1){const u=b.getChannelData(n),h=s.getChannelData(n);d.fill(0),f.fill(0),Il(g,l,y,i,r,d,f,0,a,u,h)}return s},jh=(b,t,c,e,g)=>(y,l)=>{const i=new WeakMap;let r=null;const a=async(d,f)=>{let s=null,o=t(d);const n=fr(o,f);if(f.createIIRFilter===void 0?s=b(f,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):n||(o=f.createIIRFilter(l,y)),i.set(f,s===null?o:s),s!==null){if(r===null){if(c===null)throw new Error("Missing the native OfflineAudioContext constructor.");const h=new c(d.context.destination.channelCount,d.context.length,f.sampleRate);r=(async()=>{await e(d,h,h.destination);const p=await g(h);return xh(p,f,y,l)})()}const u=await r;return s.buffer=u,s.start(0),s}return await e(d,f,o),o};return{render(d,f){const s=i.get(f);return s!==void 0?Promise.resolve(s):a(d,f)}}},Sh=(b,t,c,e,g,y)=>l=>(i,r)=>{const a=b.get(i);if(a===void 0){if(!l&&y(i)){const d=e(i),{outputs:f}=c(i);for(const s of f)if(Ws(s)){const o=e(s[0]);t(d,o,s[1],s[2])}else{const o=g(s[0]);d.disconnect(o,s[1])}}b.set(i,r)}else b.set(i,a+r)},Th=(b,t)=>c=>{const e=b.get(c);return t(e)||t(c)},Eh=(b,t)=>c=>b.has(c)||t(c),Mh=(b,t)=>c=>b.has(c)||t(c),Ch=(b,t)=>c=>{const e=b.get(c);return t(e)||t(c)},kh=b=>t=>b!==null&&t instanceof b,Ah=b=>t=>b!==null&&typeof b.AudioNode=="function"&&t instanceof b.AudioNode,Oh=b=>t=>b!==null&&typeof b.AudioParam=="function"&&t instanceof b.AudioParam,Rh=(b,t)=>c=>b(c)||t(c),Ph=b=>t=>b!==null&&t instanceof b,Lh=b=>b!==null&&b.isSecureContext,Ih=(b,t,c,e)=>class extends b{constructor(y,l){const i=c(y),r=t(i,l);if(e(i))throw TypeError();super(y,!0,r,null),this._nativeMediaElementAudioSourceNode=r}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},Dh={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},Nh=(b,t,c,e)=>class extends b{constructor(y,l){const i=c(y);if(e(i))throw new TypeError;const r={...Dh,...l},a=t(i,r);super(y,!1,a,null),this._nativeMediaStreamAudioDestinationNode=a}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},Fh=(b,t,c,e)=>class extends b{constructor(y,l){const i=c(y),r=t(i,l);if(e(i))throw new TypeError;super(y,!0,r,null),this._nativeMediaStreamAudioSourceNode=r}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},Uh=(b,t,c)=>class extends b{constructor(g,y){const l=c(g),i=t(l,y);super(g,!0,i,null)}},Bh=(b,t,c,e,g,y)=>class extends c{constructor(i,r){super(i),this._nativeContext=i,Bo.set(this,i),e(i)&&g.set(i,new Set),this._destination=new b(this,r),this._listener=t(this,i),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(i){const r=typeof i=="function"?y(this,i):null;this._nativeContext.onstatechange=r;const a=this._nativeContext.onstatechange;this._onstatechange=a!==null&&a===r?i:a}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Cs=b=>{const t=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const c=b.decodeAudioData(t.buffer,()=>{});return c===void 0?!1:(c.catch(()=>{}),!0)}catch{}return!1},Vh=(b,t)=>(c,e,g)=>{const y=new Set;return c.connect=(l=>(i,r=0,a=0)=>{const d=y.size===0;if(t(i))return l.call(c,i,r,a),b(y,[i,r,a],f=>f[0]===i&&f[1]===r&&f[2]===a,!0),d&&e(),i;l.call(c,i,r),b(y,[i,r],f=>f[0]===i&&f[1]===r,!0),d&&e()})(c.connect),c.disconnect=(l=>(i,r,a)=>{const d=y.size>0;if(i===void 0)l.apply(c),y.clear();else if(typeof i=="number"){l.call(c,i);for(const s of y)s[1]===i&&y.delete(s)}else{t(i)?l.call(c,i,r,a):l.call(c,i,r);for(const s of y)s[0]===i&&(r===void 0||s[1]===r)&&(a===void 0||s[2]===a)&&y.delete(s)}const f=y.size===0;d&&f&&g()})(c.disconnect),c},Rt=(b,t,c)=>{const e=t[c];e!==void 0&&e!==b[c]&&(b[c]=e)},Zt=(b,t)=>{Rt(b,t,"channelCount"),Rt(b,t,"channelCountMode"),Rt(b,t,"channelInterpretation")},tl=b=>typeof b.getFloatTimeDomainData=="function",Gh=b=>{b.getFloatTimeDomainData=t=>{const c=new Uint8Array(t.length);b.getByteTimeDomainData(c);const e=Math.max(c.length,b.fftSize);for(let g=0;g<e;g+=1)t[g]=(c[g]-128)*.0078125;return t}},qh=(b,t)=>(c,e)=>{const g=c.createAnalyser();if(Zt(g,e),!(e.maxDecibels>e.minDecibels))throw t();return Rt(g,e,"fftSize"),Rt(g,e,"maxDecibels"),Rt(g,e,"minDecibels"),Rt(g,e,"smoothingTimeConstant"),b(tl,()=>tl(g))||Gh(g),g},zh=b=>b===null?null:b.hasOwnProperty("AudioBuffer")?b.AudioBuffer:null,Dt=(b,t,c)=>{const e=t[c];e!==void 0&&e!==b[c].value&&(b[c].value=e)},Wh=b=>{b.start=(t=>{let c=!1;return(e=0,g=0,y)=>{if(c)throw sr();t.call(b,e,g,y),c=!0}})(b.start)},Oi=b=>{b.start=(t=>(c=0,e=0,g)=>{if(typeof g=="number"&&g<0||e<0||c<0)throw new RangeError("The parameters can't be negative.");t.call(b,c,e,g)})(b.start)},Ri=b=>{b.stop=(t=>(c=0)=>{if(c<0)throw new RangeError("The parameter can't be negative.");t.call(b,c)})(b.stop)},Hh=(b,t,c,e,g,y,l,i,r,a,d)=>(f,s)=>{const o=f.createBufferSource();return Zt(o,s),Dt(o,s,"playbackRate"),Rt(o,s,"buffer"),Rt(o,s,"loop"),Rt(o,s,"loopEnd"),Rt(o,s,"loopStart"),t(c,()=>c(f))||Wh(o),t(e,()=>e(f))||r(o),t(g,()=>g(f))||a(o,f),t(y,()=>y(f))||Oi(o),t(l,()=>l(f))||d(o,f),t(i,()=>i(f))||Ri(o),b(f,o),o},Xh=b=>b===null?null:b.hasOwnProperty("AudioContext")?b.AudioContext:b.hasOwnProperty("webkitAudioContext")?b.webkitAudioContext:null,Yh=(b,t)=>(c,e,g)=>{const y=c.destination;if(y.channelCount!==e)try{y.channelCount=e}catch{}g&&y.channelCountMode!=="explicit"&&(y.channelCountMode="explicit"),y.maxChannelCount===0&&Object.defineProperty(y,"maxChannelCount",{value:e});const l=b(c,{channelCount:e,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,gain:1});return t(l,"channelCount",i=>()=>i.call(l),i=>r=>{i.call(l,r);try{y.channelCount=r}catch(a){if(r>y.maxChannelCount)throw a}}),t(l,"channelCountMode",i=>()=>i.call(l),i=>r=>{i.call(l,r),y.channelCountMode=r}),t(l,"channelInterpretation",i=>()=>i.call(l),i=>r=>{i.call(l,r),y.channelInterpretation=r}),Object.defineProperty(l,"maxChannelCount",{get:()=>y.maxChannelCount}),l.connect(y),l},$h=b=>b===null?null:b.hasOwnProperty("AudioWorkletNode")?b.AudioWorkletNode:null,Zh=b=>{const{port1:t}=new MessageChannel;try{t.postMessage(b)}finally{t.close()}},Qh=(b,t,c,e,g)=>(y,l,i,r,a,d)=>{if(i!==null)try{const f=new i(y,r,d),s=new Map;let o=null;if(Object.defineProperties(f,{channelCount:{get:()=>d.channelCount,set:()=>{throw b()}},channelCountMode:{get:()=>"explicit",set:()=>{throw b()}},onprocessorerror:{get:()=>o,set:n=>{typeof o=="function"&&f.removeEventListener("processorerror",o),o=typeof n=="function"?n:null,typeof o=="function"&&f.addEventListener("processorerror",o)}}}),f.addEventListener=(n=>(...u)=>{if(u[0]==="processorerror"){const h=typeof u[1]=="function"?u[1]:typeof u[1]=="object"&&u[1]!==null&&typeof u[1].handleEvent=="function"?u[1].handleEvent:null;if(h!==null){const p=s.get(u[1]);p!==void 0?u[1]=p:(u[1]=v=>{v.type==="error"?(Object.defineProperties(v,{type:{value:"processorerror"}}),h(v)):h(new ErrorEvent(u[0],{...v}))},s.set(h,u[1]))}}return n.call(f,"error",u[1],u[2]),n.call(f,...u)})(f.addEventListener),f.removeEventListener=(n=>(...u)=>{if(u[0]==="processorerror"){const h=s.get(u[1]);h!==void 0&&(s.delete(u[1]),u[1]=h)}return n.call(f,"error",u[1],u[2]),n.call(f,u[0],u[1],u[2])})(f.removeEventListener),d.numberOfOutputs!==0){const n=c(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return f.connect(n).connect(y.destination),g(f,()=>n.disconnect(),()=>n.connect(y.destination))}return f}catch(f){throw f.code===11?e():f}if(a===void 0)throw e();return Zh(d),t(y,l,a,d)},Dl=(b,t)=>b===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(b*t))))),Kh=b=>new Promise((t,c)=>{const{port1:e,port2:g}=new MessageChannel;e.onmessage=({data:y})=>{e.close(),g.close(),t(y)},e.onmessageerror=({data:y})=>{e.close(),g.close(),c(y)},g.postMessage(b)}),Jh=async(b,t)=>{const c=await Kh(t);return new b(c)},ef=(b,t,c,e)=>{let g=pi.get(b);g===void 0&&(g=new WeakMap,pi.set(b,g));const y=Jh(c,e);return g.set(t,y),y},tf=(b,t,c,e,g,y,l,i,r,a,d,f,s)=>(o,n,u,h)=>{if(h.numberOfInputs===0&&h.numberOfOutputs===0)throw r();const p=Array.isArray(h.outputChannelCount)?h.outputChannelCount:Array.from(h.outputChannelCount);if(p.some(ie=>ie<1))throw r();if(p.length!==h.numberOfOutputs)throw t();if(h.channelCountMode!=="explicit")throw r();const v=h.channelCount*h.numberOfInputs,_=p.reduce((ie,ue)=>ie+ue,0),j=u.parameterDescriptors===void 0?0:u.parameterDescriptors.length;if(v+j>6||_>6)throw r();const x=new MessageChannel,M=[],E=[];for(let ie=0;ie<h.numberOfInputs;ie+=1)M.push(l(o,{channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,gain:1})),E.push(g(o,{channelCount:h.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:h.channelCount}));const C=[];if(u.parameterDescriptors!==void 0)for(const{defaultValue:ie,maxValue:ue,minValue:me,name:pe}of u.parameterDescriptors){const Te=y(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:h.parameterData[pe]!==void 0?h.parameterData[pe]:ie===void 0?0:ie});Object.defineProperties(Te.offset,{defaultValue:{get:()=>ie===void 0?0:ie},maxValue:{get:()=>ue===void 0?pr:ue},minValue:{get:()=>me===void 0?vr:me}}),C.push(Te)}const R=e(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,v+j)}),O=Dl(n,o.sampleRate),P=i(o,O,v+j,Math.max(1,_)),I=g(o,{channelCount:Math.max(1,_),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,_)}),N=[];for(let ie=0;ie<h.numberOfOutputs;ie+=1)N.push(e(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:p[ie]}));for(let ie=0;ie<h.numberOfInputs;ie+=1){M[ie].connect(E[ie]);for(let ue=0;ue<h.channelCount;ue+=1)E[ie].connect(R,ue,ie*h.channelCount+ue)}const U=new Pl(u.parameterDescriptors===void 0?[]:u.parameterDescriptors.map(({name:ie},ue)=>{const me=C[ue];return me.connect(R,0,v+ue),me.start(0),[ie,me.offset]}));R.connect(P);let W=h.channelInterpretation,z=null;const q=h.numberOfOutputs===0?[P]:N,Y={get bufferSize(){return O},get channelCount(){return h.channelCount},set channelCount(ie){throw c()},get channelCountMode(){return h.channelCountMode},set channelCountMode(ie){throw c()},get channelInterpretation(){return W},set channelInterpretation(ie){for(const ue of M)ue.channelInterpretation=ie;W=ie},get context(){return P.context},get inputs(){return M},get numberOfInputs(){return h.numberOfInputs},get numberOfOutputs(){return h.numberOfOutputs},get onprocessorerror(){return z},set onprocessorerror(ie){typeof z=="function"&&Y.removeEventListener("processorerror",z),z=typeof ie=="function"?ie:null,typeof z=="function"&&Y.addEventListener("processorerror",z)},get parameters(){return U},get port(){return x.port2},addEventListener(...ie){return P.addEventListener(ie[0],ie[1],ie[2])},connect:b.bind(null,q),disconnect:a.bind(null,q),dispatchEvent(...ie){return P.dispatchEvent(ie[0])},removeEventListener(...ie){return P.removeEventListener(ie[0],ie[1],ie[2])}},G=new Map;x.port1.addEventListener=(ie=>(...ue)=>{if(ue[0]==="message"){const me=typeof ue[1]=="function"?ue[1]:typeof ue[1]=="object"&&ue[1]!==null&&typeof ue[1].handleEvent=="function"?ue[1].handleEvent:null;if(me!==null){const pe=G.get(ue[1]);pe!==void 0?ue[1]=pe:(ue[1]=Te=>{d(o.currentTime,o.sampleRate,()=>me(Te))},G.set(me,ue[1]))}}return ie.call(x.port1,ue[0],ue[1],ue[2])})(x.port1.addEventListener),x.port1.removeEventListener=(ie=>(...ue)=>{if(ue[0]==="message"){const me=G.get(ue[1]);me!==void 0&&(G.delete(ue[1]),ue[1]=me)}return ie.call(x.port1,ue[0],ue[1],ue[2])})(x.port1.removeEventListener);let X=null;Object.defineProperty(x.port1,"onmessage",{get:()=>X,set:ie=>{typeof X=="function"&&x.port1.removeEventListener("message",X),X=typeof ie=="function"?ie:null,typeof X=="function"&&(x.port1.addEventListener("message",X),x.port1.start())}}),u.prototype.port=x.port1;let $=null;ef(o,Y,u,h).then(ie=>$=ie);const k=Co(h.numberOfInputs,h.channelCount),L=Co(h.numberOfOutputs,p),F=u.parameterDescriptors===void 0?[]:u.parameterDescriptors.reduce((ie,{name:ue})=>({...ie,[ue]:new Float32Array(128)}),{});let H=!0;const ee=()=>{h.numberOfOutputs>0&&P.disconnect(I);for(let ie=0,ue=0;ie<h.numberOfOutputs;ie+=1){const me=N[ie];for(let pe=0;pe<p[ie];pe+=1)I.disconnect(me,ue+pe,pe);ue+=p[ie]}},re=new Map;P.onaudioprocess=({inputBuffer:ie,outputBuffer:ue})=>{if($!==null){const me=f(Y);for(let pe=0;pe<O;pe+=128){for(let Te=0;Te<h.numberOfInputs;Te+=1)for(let we=0;we<h.channelCount;we+=1)Mo(ie,k[Te],we,we,pe);u.parameterDescriptors!==void 0&&u.parameterDescriptors.forEach(({name:Te},we)=>{Mo(ie,F,Te,v+we,pe)});for(let Te=0;Te<h.numberOfInputs;Te+=1)for(let we=0;we<p[Te];we+=1)L[Te][we].byteLength===0&&(L[Te][we]=new Float32Array(128));try{const Te=k.map((Re,Ee)=>{if(me[Ee].size>0)return re.set(Ee,O/128),Re;const ze=re.get(Ee);return ze===void 0?[]:(Re.every(Ge=>Ge.every(Ze=>Ze===0))&&(ze===1?re.delete(Ee):re.set(Ee,ze-1)),Re)});H=d(o.currentTime+pe/o.sampleRate,o.sampleRate,()=>$.process(Te,L,F));for(let Re=0,Ee=0;Re<h.numberOfOutputs;Re+=1){for(let Ue=0;Ue<p[Re];Ue+=1)Ll(ue,L[Re],Ue,Ee+Ue,pe);Ee+=p[Re]}}catch(Te){H=!1,Y.dispatchEvent(new ErrorEvent("processorerror",{colno:Te.colno,filename:Te.filename,lineno:Te.lineno,message:Te.message}))}if(!H){for(let Te=0;Te<h.numberOfInputs;Te+=1){M[Te].disconnect(E[Te]);for(let we=0;we<h.channelCount;we+=1)E[pe].disconnect(R,we,Te*h.channelCount+we)}if(u.parameterDescriptors!==void 0){const Te=u.parameterDescriptors.length;for(let we=0;we<Te;we+=1){const Re=C[we];Re.disconnect(R,0,v+we),Re.stop()}}R.disconnect(P),P.onaudioprocess=null,le?ee():ce();break}}}};let le=!1;const fe=l(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),ae=()=>P.connect(fe).connect(o.destination),ce=()=>{P.disconnect(fe),fe.disconnect()},ge=()=>{if(H){ce(),h.numberOfOutputs>0&&P.connect(I);for(let ie=0,ue=0;ie<h.numberOfOutputs;ie+=1){const me=N[ie];for(let pe=0;pe<p[ie];pe+=1)I.connect(me,ue+pe,pe);ue+=p[ie]}}le=!0},J=()=>{H&&(ae(),ee()),le=!1};return ae(),s(Y,ge,J)},Nl=(b,t)=>{const c=b.createBiquadFilter();return Zt(c,t),Dt(c,t,"Q"),Dt(c,t,"detune"),Dt(c,t,"frequency"),Dt(c,t,"gain"),Rt(c,t,"type"),c},rf=(b,t)=>(c,e)=>{const g=c.createChannelMerger(e.numberOfInputs);return b!==null&&b.name==="webkitAudioContext"&&t(c,g),Zt(g,e),g},nf=b=>{const t=b.numberOfOutputs;Object.defineProperty(b,"channelCount",{get:()=>t,set:c=>{if(c!==t)throw sr()}}),Object.defineProperty(b,"channelCountMode",{get:()=>"explicit",set:c=>{if(c!=="explicit")throw sr()}}),Object.defineProperty(b,"channelInterpretation",{get:()=>"discrete",set:c=>{if(c!=="discrete")throw sr()}})},Hs=(b,t)=>{const c=b.createChannelSplitter(t.numberOfOutputs);return Zt(c,t),nf(c),c},sf=(b,t,c,e,g)=>(y,l)=>{if(y.createConstantSource===void 0)return c(y,l);const i=y.createConstantSource();return Zt(i,l),Dt(i,l,"offset"),t(e,()=>e(y))||Oi(i),t(g,()=>g(y))||Ri(i),b(y,i),i},ns=(b,t)=>(b.connect=t.connect.bind(t),b.disconnect=t.disconnect.bind(t),b),of=(b,t,c,e)=>(g,{offset:y,...l})=>{const i=g.createBuffer(1,2,44100),r=t(g,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),a=c(g,{...l,gain:y}),d=i.getChannelData(0);d[0]=1,d[1]=1,r.buffer=i,r.loop=!0;const f={get bufferSize(){},get channelCount(){return a.channelCount},set channelCount(n){a.channelCount=n},get channelCountMode(){return a.channelCountMode},set channelCountMode(n){a.channelCountMode=n},get channelInterpretation(){return a.channelInterpretation},set channelInterpretation(n){a.channelInterpretation=n},get context(){return a.context},get inputs(){return[]},get numberOfInputs(){return r.numberOfInputs},get numberOfOutputs(){return a.numberOfOutputs},get offset(){return a.gain},get onended(){return r.onended},set onended(n){r.onended=n},addEventListener(...n){return r.addEventListener(n[0],n[1],n[2])},dispatchEvent(...n){return r.dispatchEvent(n[0])},removeEventListener(...n){return r.removeEventListener(n[0],n[1],n[2])},start(n=0){r.start.call(r,n)},stop(n=0){r.stop.call(r,n)}},s=()=>r.connect(a),o=()=>r.disconnect(a);return b(g,r),e(ns(f,a),s,o)},af=(b,t)=>(c,e)=>{const g=c.createConvolver();if(Zt(g,e),e.disableNormalization===g.normalize&&(g.normalize=!e.disableNormalization),Rt(g,e,"buffer"),e.channelCount>2||(t(g,"channelCount",y=>()=>y.call(g),y=>l=>{if(l>2)throw b();return y.call(g,l)}),e.channelCountMode==="max"))throw b();return t(g,"channelCountMode",y=>()=>y.call(g),y=>l=>{if(l==="max")throw b();return y.call(g,l)}),g},Fl=(b,t)=>{const c=b.createDelay(t.maxDelayTime);return Zt(c,t),Dt(c,t,"delayTime"),c},lf=b=>(t,c)=>{const e=t.createDynamicsCompressor();if(Zt(e,c),c.channelCount>2||c.channelCountMode==="max")throw b();return Dt(e,c,"attack"),Dt(e,c,"knee"),Dt(e,c,"ratio"),Dt(e,c,"release"),Dt(e,c,"threshold"),e},_r=(b,t)=>{const c=b.createGain();return Zt(c,t),Dt(c,t,"gain"),c},cf=b=>(t,c,e)=>{if(t.createIIRFilter===void 0)return b(t,c,e);const g=t.createIIRFilter(e.feedforward,e.feedback);return Zt(g,e),g};function uf(b,t){const c=t[0]*t[0]+t[1]*t[1];return[(b[0]*t[0]+b[1]*t[1])/c,(b[1]*t[0]-b[0]*t[1])/c]}function df(b,t){return[b[0]*t[0]-b[1]*t[1],b[0]*t[1]+b[1]*t[0]]}function rl(b,t){let c=[0,0];for(let e=b.length-1;e>=0;e-=1)c=df(c,t),c[0]+=b[e];return c}const hf=(b,t,c,e)=>(g,y,{channelCount:l,channelCountMode:i,channelInterpretation:r,feedback:a,feedforward:d})=>{const f=Dl(y,g.sampleRate),s=a instanceof Float64Array?a:new Float64Array(a),o=d instanceof Float64Array?d:new Float64Array(d),n=s.length,u=o.length,h=Math.min(n,u);if(n===0||n>20)throw e();if(s[0]===0)throw t();if(u===0||u>20)throw e();if(o[0]===0)throw t();if(s[0]!==1){for(let C=0;C<u;C+=1)o[C]/=s[0];for(let C=1;C<n;C+=1)s[C]/=s[0]}const p=c(g,f,l,l);p.channelCount=l,p.channelCountMode=i,p.channelInterpretation=r;const v=32,_=[],j=[],x=[];for(let C=0;C<l;C+=1){_.push(0);const R=new Float32Array(v),O=new Float32Array(v);R.fill(0),O.fill(0),j.push(R),x.push(O)}p.onaudioprocess=C=>{const R=C.inputBuffer,O=C.outputBuffer,P=R.numberOfChannels;for(let I=0;I<P;I+=1){const N=R.getChannelData(I),U=O.getChannelData(I);_[I]=Il(s,n,o,u,h,j[I],x[I],_[I],v,N,U)}};const M=g.sampleRate/2;return ns({get bufferSize(){return f},get channelCount(){return p.channelCount},set channelCount(C){p.channelCount=C},get channelCountMode(){return p.channelCountMode},set channelCountMode(C){p.channelCountMode=C},get channelInterpretation(){return p.channelInterpretation},set channelInterpretation(C){p.channelInterpretation=C},get context(){return p.context},get inputs(){return[p]},get numberOfInputs(){return p.numberOfInputs},get numberOfOutputs(){return p.numberOfOutputs},addEventListener(...C){return p.addEventListener(C[0],C[1],C[2])},dispatchEvent(...C){return p.dispatchEvent(C[0])},getFrequencyResponse(C,R,O){if(C.length!==R.length||R.length!==O.length)throw b();const P=C.length;for(let I=0;I<P;I+=1){const N=-Math.PI*(C[I]/M),U=[Math.cos(N),Math.sin(N)],W=rl(o,U),z=rl(s,U),q=uf(W,z);R[I]=Math.sqrt(q[0]*q[0]+q[1]*q[1]),O[I]=Math.atan2(q[1],q[0])}},removeEventListener(...C){return p.removeEventListener(C[0],C[1],C[2])}},p)},ff=(b,t)=>b.createMediaElementSource(t.mediaElement),pf=(b,t)=>{const c=b.createMediaStreamDestination();return Zt(c,t),c.numberOfOutputs===1&&Object.defineProperty(c,"numberOfOutputs",{get:()=>0}),c},mf=(b,{mediaStream:t})=>{const c=t.getAudioTracks();c.sort((y,l)=>y.id<l.id?-1:y.id>l.id?1:0);const e=c.slice(0,1),g=b.createMediaStreamSource(new MediaStream(e));return Object.defineProperty(g,"mediaStream",{value:t}),g},yf=(b,t)=>(c,{mediaStreamTrack:e})=>{if(typeof c.createMediaStreamTrackSource=="function")return c.createMediaStreamTrackSource(e);const g=new MediaStream([e]),y=c.createMediaStreamSource(g);if(e.kind!=="audio")throw b();if(t(c))throw new TypeError;return y},gf=b=>b===null?null:b.hasOwnProperty("OfflineAudioContext")?b.OfflineAudioContext:b.hasOwnProperty("webkitOfflineAudioContext")?b.webkitOfflineAudioContext:null,vf=(b,t,c,e,g,y)=>(l,i)=>{const r=l.createOscillator();return Zt(r,i),Dt(r,i,"detune"),Dt(r,i,"frequency"),i.periodicWave!==void 0?r.setPeriodicWave(i.periodicWave):Rt(r,i,"type"),t(c,()=>c(l))||Oi(r),t(e,()=>e(l))||y(r,l),t(g,()=>g(l))||Ri(r),b(l,r),r},bf=b=>(t,c)=>{const e=t.createPanner();return e.orientationX===void 0?b(t,c):(Zt(e,c),Dt(e,c,"orientationX"),Dt(e,c,"orientationY"),Dt(e,c,"orientationZ"),Dt(e,c,"positionX"),Dt(e,c,"positionY"),Dt(e,c,"positionZ"),Rt(e,c,"coneInnerAngle"),Rt(e,c,"coneOuterAngle"),Rt(e,c,"coneOuterGain"),Rt(e,c,"distanceModel"),Rt(e,c,"maxDistance"),Rt(e,c,"panningModel"),Rt(e,c,"refDistance"),Rt(e,c,"rolloffFactor"),e)},_f=(b,t,c,e,g,y,l,i,r,a)=>(d,{coneInnerAngle:f,coneOuterAngle:s,coneOuterGain:o,distanceModel:n,maxDistance:u,orientationX:h,orientationY:p,orientationZ:v,panningModel:_,positionX:j,positionY:x,positionZ:M,refDistance:E,rolloffFactor:C,...R})=>{const O=d.createPanner();if(R.channelCount>2||R.channelCountMode==="max")throw l();Zt(O,R);const P={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},I=c(d,{...P,channelInterpretation:"speakers",numberOfInputs:6}),N=e(d,{...R,gain:1}),U=e(d,{...P,gain:1}),W=e(d,{...P,gain:0}),z=e(d,{...P,gain:0}),q=e(d,{...P,gain:0}),Y=e(d,{...P,gain:0}),G=e(d,{...P,gain:0}),X=g(d,256,6,1),$=y(d,{...P,curve:new Float32Array([1,1]),oversample:"none"});let ne=[h,p,v],k=[j,x,M];const L=new Float32Array(1);X.onaudioprocess=({inputBuffer:re})=>{const le=[r(re,L,0),r(re,L,1),r(re,L,2)];le.some((ae,ce)=>ae!==ne[ce])&&(O.setOrientation(...le),ne=le);const fe=[r(re,L,3),r(re,L,4),r(re,L,5)];fe.some((ae,ce)=>ae!==k[ce])&&(O.setPosition(...fe),k=fe)},Object.defineProperty(W.gain,"defaultValue",{get:()=>0}),Object.defineProperty(z.gain,"defaultValue",{get:()=>0}),Object.defineProperty(q.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Y.gain,"defaultValue",{get:()=>0}),Object.defineProperty(G.gain,"defaultValue",{get:()=>0});const F={get bufferSize(){},get channelCount(){return O.channelCount},set channelCount(re){if(re>2)throw l();N.channelCount=re,O.channelCount=re},get channelCountMode(){return O.channelCountMode},set channelCountMode(re){if(re==="max")throw l();N.channelCountMode=re,O.channelCountMode=re},get channelInterpretation(){return O.channelInterpretation},set channelInterpretation(re){N.channelInterpretation=re,O.channelInterpretation=re},get coneInnerAngle(){return O.coneInnerAngle},set coneInnerAngle(re){O.coneInnerAngle=re},get coneOuterAngle(){return O.coneOuterAngle},set coneOuterAngle(re){O.coneOuterAngle=re},get coneOuterGain(){return O.coneOuterGain},set coneOuterGain(re){if(re<0||re>1)throw t();O.coneOuterGain=re},get context(){return O.context},get distanceModel(){return O.distanceModel},set distanceModel(re){O.distanceModel=re},get inputs(){return[N]},get maxDistance(){return O.maxDistance},set maxDistance(re){if(re<0)throw new RangeError;O.maxDistance=re},get numberOfInputs(){return O.numberOfInputs},get numberOfOutputs(){return O.numberOfOutputs},get orientationX(){return U.gain},get orientationY(){return W.gain},get orientationZ(){return z.gain},get panningModel(){return O.panningModel},set panningModel(re){O.panningModel=re},get positionX(){return q.gain},get positionY(){return Y.gain},get positionZ(){return G.gain},get refDistance(){return O.refDistance},set refDistance(re){if(re<0)throw new RangeError;O.refDistance=re},get rolloffFactor(){return O.rolloffFactor},set rolloffFactor(re){if(re<0)throw new RangeError;O.rolloffFactor=re},addEventListener(...re){return N.addEventListener(re[0],re[1],re[2])},dispatchEvent(...re){return N.dispatchEvent(re[0])},removeEventListener(...re){return N.removeEventListener(re[0],re[1],re[2])}};f!==F.coneInnerAngle&&(F.coneInnerAngle=f),s!==F.coneOuterAngle&&(F.coneOuterAngle=s),o!==F.coneOuterGain&&(F.coneOuterGain=o),n!==F.distanceModel&&(F.distanceModel=n),u!==F.maxDistance&&(F.maxDistance=u),h!==F.orientationX.value&&(F.orientationX.value=h),p!==F.orientationY.value&&(F.orientationY.value=p),v!==F.orientationZ.value&&(F.orientationZ.value=v),_!==F.panningModel&&(F.panningModel=_),j!==F.positionX.value&&(F.positionX.value=j),x!==F.positionY.value&&(F.positionY.value=x),M!==F.positionZ.value&&(F.positionZ.value=M),E!==F.refDistance&&(F.refDistance=E),C!==F.rolloffFactor&&(F.rolloffFactor=C),(ne[0]!==1||ne[1]!==0||ne[2]!==0)&&O.setOrientation(...ne),(k[0]!==0||k[1]!==0||k[2]!==0)&&O.setPosition(...k);const H=()=>{N.connect(O),b(N,$,0,0),$.connect(U).connect(I,0,0),$.connect(W).connect(I,0,1),$.connect(z).connect(I,0,2),$.connect(q).connect(I,0,3),$.connect(Y).connect(I,0,4),$.connect(G).connect(I,0,5),I.connect(X).connect(d.destination)},ee=()=>{N.disconnect(O),i(N,$,0,0),$.disconnect(U),U.disconnect(I),$.disconnect(W),W.disconnect(I),$.disconnect(z),z.disconnect(I),$.disconnect(q),q.disconnect(I),$.disconnect(Y),Y.disconnect(I),$.disconnect(G),G.disconnect(I),I.disconnect(X),X.disconnect(d.destination)};return a(ns(F,O),H,ee)},wf=b=>(t,{disableNormalization:c,imag:e,real:g})=>{const y=e instanceof Float32Array?e:new Float32Array(e),l=g instanceof Float32Array?g:new Float32Array(g),i=t.createPeriodicWave(l,y,{disableNormalization:c});if(Array.from(e).length<2)throw b();return i},Xs=(b,t,c,e)=>b.createScriptProcessor(t,c,e),xf=(b,t)=>(c,e)=>{const g=e.channelCountMode;if(g==="clamped-max")throw t();if(c.createStereoPanner===void 0)return b(c,e);const y=c.createStereoPanner();return Zt(y,e),Dt(y,e,"pan"),Object.defineProperty(y,"channelCountMode",{get:()=>g,set:l=>{if(l!==g)throw t()}}),y},jf=(b,t,c,e,g,y)=>{const i=new Float32Array([1,1]),r=Math.PI/2,a={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},d={...a,oversample:"none"},f=(n,u,h,p)=>{const v=new Float32Array(16385),_=new Float32Array(16385);for(let R=0;R<16385;R+=1){const O=R/16384*r;v[R]=Math.cos(O),_[R]=Math.sin(O)}const j=c(n,{...a,gain:0}),x=e(n,{...d,curve:v}),M=e(n,{...d,curve:i}),E=c(n,{...a,gain:0}),C=e(n,{...d,curve:_});return{connectGraph(){u.connect(j),u.connect(M.inputs===void 0?M:M.inputs[0]),u.connect(E),M.connect(h),h.connect(x.inputs===void 0?x:x.inputs[0]),h.connect(C.inputs===void 0?C:C.inputs[0]),x.connect(j.gain),C.connect(E.gain),j.connect(p,0,0),E.connect(p,0,1)},disconnectGraph(){u.disconnect(j),u.disconnect(M.inputs===void 0?M:M.inputs[0]),u.disconnect(E),M.disconnect(h),h.disconnect(x.inputs===void 0?x:x.inputs[0]),h.disconnect(C.inputs===void 0?C:C.inputs[0]),x.disconnect(j.gain),C.disconnect(E.gain),j.disconnect(p,0,0),E.disconnect(p,0,1)}}},s=(n,u,h,p)=>{const v=new Float32Array(16385),_=new Float32Array(16385),j=new Float32Array(16385),x=new Float32Array(16385),M=Math.floor(16385/2);for(let q=0;q<16385;q+=1)if(q>M){const Y=(q-M)/(16384-M)*r;v[q]=Math.cos(Y),_[q]=Math.sin(Y),j[q]=0,x[q]=1}else{const Y=q/(16384-M)*r;v[q]=1,_[q]=0,j[q]=Math.cos(Y),x[q]=Math.sin(Y)}const E=t(n,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),C=c(n,{...a,gain:0}),R=e(n,{...d,curve:v}),O=c(n,{...a,gain:0}),P=e(n,{...d,curve:_}),I=e(n,{...d,curve:i}),N=c(n,{...a,gain:0}),U=e(n,{...d,curve:j}),W=c(n,{...a,gain:0}),z=e(n,{...d,curve:x});return{connectGraph(){u.connect(E),u.connect(I.inputs===void 0?I:I.inputs[0]),E.connect(C,0),E.connect(O,0),E.connect(N,1),E.connect(W,1),I.connect(h),h.connect(R.inputs===void 0?R:R.inputs[0]),h.connect(P.inputs===void 0?P:P.inputs[0]),h.connect(U.inputs===void 0?U:U.inputs[0]),h.connect(z.inputs===void 0?z:z.inputs[0]),R.connect(C.gain),P.connect(O.gain),U.connect(N.gain),z.connect(W.gain),C.connect(p,0,0),N.connect(p,0,0),O.connect(p,0,1),W.connect(p,0,1)},disconnectGraph(){u.disconnect(E),u.disconnect(I.inputs===void 0?I:I.inputs[0]),E.disconnect(C,0),E.disconnect(O,0),E.disconnect(N,1),E.disconnect(W,1),I.disconnect(h),h.disconnect(R.inputs===void 0?R:R.inputs[0]),h.disconnect(P.inputs===void 0?P:P.inputs[0]),h.disconnect(U.inputs===void 0?U:U.inputs[0]),h.disconnect(z.inputs===void 0?z:z.inputs[0]),R.disconnect(C.gain),P.disconnect(O.gain),U.disconnect(N.gain),z.disconnect(W.gain),C.disconnect(p,0,0),N.disconnect(p,0,0),O.disconnect(p,0,1),W.disconnect(p,0,1)}}},o=(n,u,h,p,v)=>{if(u===1)return f(n,h,p,v);if(u===2)return s(n,h,p,v);throw g()};return(n,{channelCount:u,channelCountMode:h,pan:p,...v})=>{if(h==="max")throw g();const _=b(n,{...v,channelCount:1,channelCountMode:h,numberOfInputs:2}),j=c(n,{...v,channelCount:u,channelCountMode:h,gain:1}),x=c(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:p});let{connectGraph:M,disconnectGraph:E}=o(n,u,j,x,_);Object.defineProperty(x.gain,"defaultValue",{get:()=>0}),Object.defineProperty(x.gain,"maxValue",{get:()=>1}),Object.defineProperty(x.gain,"minValue",{get:()=>-1});const C={get bufferSize(){},get channelCount(){return j.channelCount},set channelCount(I){j.channelCount!==I&&(R&&E(),{connectGraph:M,disconnectGraph:E}=o(n,I,j,x,_),R&&M()),j.channelCount=I},get channelCountMode(){return j.channelCountMode},set channelCountMode(I){if(I==="clamped-max"||I==="max")throw g();j.channelCountMode=I},get channelInterpretation(){return j.channelInterpretation},set channelInterpretation(I){j.channelInterpretation=I},get context(){return j.context},get inputs(){return[j]},get numberOfInputs(){return j.numberOfInputs},get numberOfOutputs(){return j.numberOfOutputs},get pan(){return x.gain},addEventListener(...I){return j.addEventListener(I[0],I[1],I[2])},dispatchEvent(...I){return j.dispatchEvent(I[0])},removeEventListener(...I){return j.removeEventListener(I[0],I[1],I[2])}};let R=!1;const O=()=>{M(),R=!0},P=()=>{E(),R=!1};return y(ns(C,_),O,P)}},Sf=(b,t,c,e,g,y,l)=>(i,r)=>{const a=i.createWaveShaper();if(y!==null&&y.name==="webkitAudioContext"&&i.createGain().gain.automationRate===void 0)return c(i,r);Zt(a,r);const d=r.curve===null||r.curve instanceof Float32Array?r.curve:new Float32Array(r.curve);if(d!==null&&d.length<2)throw t();Rt(a,{curve:d},"curve"),Rt(a,r,"oversample");let f=null,s=!1;return l(a,"curve",u=>()=>u.call(a),u=>h=>(u.call(a,h),s&&(e(h)&&f===null?f=b(i,a):!e(h)&&f!==null&&(f(),f=null)),h)),g(a,()=>{s=!0,e(a.curve)&&(f=b(i,a))},()=>{s=!1,f!==null&&(f(),f=null)})},Tf=(b,t,c,e,g)=>(y,{curve:l,oversample:i,...r})=>{const a=y.createWaveShaper(),d=y.createWaveShaper();Zt(a,r),Zt(d,r);const f=c(y,{...r,gain:1}),s=c(y,{...r,gain:-1}),o=c(y,{...r,gain:1}),n=c(y,{...r,gain:-1});let u=null,h=!1,p=null;const v={get bufferSize(){},get channelCount(){return a.channelCount},set channelCount(x){f.channelCount=x,s.channelCount=x,a.channelCount=x,o.channelCount=x,d.channelCount=x,n.channelCount=x},get channelCountMode(){return a.channelCountMode},set channelCountMode(x){f.channelCountMode=x,s.channelCountMode=x,a.channelCountMode=x,o.channelCountMode=x,d.channelCountMode=x,n.channelCountMode=x},get channelInterpretation(){return a.channelInterpretation},set channelInterpretation(x){f.channelInterpretation=x,s.channelInterpretation=x,a.channelInterpretation=x,o.channelInterpretation=x,d.channelInterpretation=x,n.channelInterpretation=x},get context(){return a.context},get curve(){return p},set curve(x){if(x!==null&&x.length<2)throw t();if(x===null)a.curve=x,d.curve=x;else{const M=x.length,E=new Float32Array(M+2-M%2),C=new Float32Array(M+2-M%2);E[0]=x[0],C[0]=-x[M-1];const R=Math.ceil((M+1)/2),O=(M+1)/2-1;for(let P=1;P<R;P+=1){const I=P/R*O,N=Math.floor(I),U=Math.ceil(I);E[P]=N===U?x[N]:(1-(I-N))*x[N]+(1-(U-I))*x[U],C[P]=N===U?-x[M-1-N]:-((1-(I-N))*x[M-1-N])-(1-(U-I))*x[M-1-U]}E[R]=M%2===1?x[R-1]:(x[R-2]+x[R-1])/2,a.curve=E,d.curve=C}p=x,h&&(e(p)&&u===null?u=b(y,f):u!==null&&(u(),u=null))},get inputs(){return[f]},get numberOfInputs(){return a.numberOfInputs},get numberOfOutputs(){return a.numberOfOutputs},get oversample(){return a.oversample},set oversample(x){a.oversample=x,d.oversample=x},addEventListener(...x){return f.addEventListener(x[0],x[1],x[2])},dispatchEvent(...x){return f.dispatchEvent(x[0])},removeEventListener(...x){return f.removeEventListener(x[0],x[1],x[2])}};l!==null&&(v.curve=l instanceof Float32Array?l:new Float32Array(l)),i!==v.oversample&&(v.oversample=i);const _=()=>{f.connect(a).connect(o),f.connect(s).connect(d).connect(n).connect(o),h=!0,e(p)&&(u=b(y,f))},j=()=>{f.disconnect(a),a.disconnect(o),f.disconnect(s),s.disconnect(d),d.disconnect(n),n.disconnect(o),h=!1,u!==null&&(u(),u=null)};return g(ns(v,o),_,j)},gr=()=>new DOMException("","NotSupportedError"),Ef={numberOfChannels:1},Mf=(b,t,c,e,g)=>class extends b{constructor(l,i,r){let a;if(typeof l=="number"&&i!==void 0&&r!==void 0)a={length:i,numberOfChannels:l,sampleRate:r};else if(typeof l=="object")a=l;else throw new Error("The given parameters are not valid.");const{length:d,numberOfChannels:f,sampleRate:s}={...Ef,...a},o=e(f,d,s);t(Cs,()=>Cs(o))||o.addEventListener("statechange",(()=>{let n=0;const u=h=>{this._state==="running"&&(n>0?(o.removeEventListener("statechange",u),h.stopImmediatePropagation(),this._waitForThePromiseToSettle(h)):n+=1)};return u})()),super(o,f),this._length=d,this._nativeOfflineAudioContext=o,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(c()):(this._state="running",g(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,kl(this)}))}_waitForThePromiseToSettle(l){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(l):setTimeout(()=>this._waitForThePromiseToSettle(l))}},Cf={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},kf=(b,t,c,e,g,y,l)=>class extends b{constructor(r,a){const d=g(r),f={...Cf,...a},s=c(d,f),o=y(d),n=o?e():null,u=r.sampleRate/2;super(r,!1,s,n),this._detune=t(this,o,s.detune,153600,-153600),this._frequency=t(this,o,s.frequency,u,-u),this._nativeOscillatorNode=s,this._onended=null,this._oscillatorNodeRenderer=n,this._oscillatorNodeRenderer!==null&&f.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=f.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(r){const a=typeof r=="function"?l(this,r):null;this._nativeOscillatorNode.onended=a;const d=this._nativeOscillatorNode.onended;this._onended=d!==null&&d===a?r:d}get type(){return this._nativeOscillatorNode.type}set type(r){this._nativeOscillatorNode.type=r,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(r){this._nativeOscillatorNode.setPeriodicWave(r),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=r)}start(r=0){if(this._nativeOscillatorNode.start(r),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=r),this.context.state!=="closed"){Yn(this);const a=()=>{this._nativeOscillatorNode.removeEventListener("ended",a),rn(this)&&qs(this)};this._nativeOscillatorNode.addEventListener("ended",a)}}stop(r=0){this._nativeOscillatorNode.stop(r),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=r)}},Af=(b,t,c,e,g)=>()=>{const y=new WeakMap;let l=null,i=null,r=null;const a=async(d,f)=>{let s=c(d);const o=fr(s,f);if(!o){const n={channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,detune:s.detune.value,frequency:s.frequency.value,periodicWave:l===null?void 0:l,type:s.type};s=t(f,n),i!==null&&s.start(i),r!==null&&s.stop(r)}return y.set(f,s),o?(await b(f,d.detune,s.detune),await b(f,d.frequency,s.frequency)):(await e(f,d.detune,s.detune),await e(f,d.frequency,s.frequency)),await g(d,f,s),s};return{set periodicWave(d){l=d},set start(d){i=d},set stop(d){r=d},render(d,f){const s=y.get(f);return s!==void 0?Promise.resolve(s):a(d,f)}}},Of={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},Rf=(b,t,c,e,g,y,l)=>class extends b{constructor(r,a){const d=g(r),f={...Of,...a},s=c(d,f),o=y(d),n=o?e():null;super(r,!1,s,n),this._nativePannerNode=s,this._orientationX=t(this,o,s.orientationX,pr,vr),this._orientationY=t(this,o,s.orientationY,pr,vr),this._orientationZ=t(this,o,s.orientationZ,pr,vr),this._positionX=t(this,o,s.positionX,pr,vr),this._positionY=t(this,o,s.positionY,pr,vr),this._positionZ=t(this,o,s.positionZ,pr,vr),l(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(r){this._nativePannerNode.coneInnerAngle=r}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(r){this._nativePannerNode.coneOuterAngle=r}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(r){this._nativePannerNode.coneOuterGain=r}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(r){this._nativePannerNode.distanceModel=r}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(r){this._nativePannerNode.maxDistance=r}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(r){this._nativePannerNode.panningModel=r}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(r){this._nativePannerNode.refDistance=r}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(r){this._nativePannerNode.rolloffFactor=r}},Pf=(b,t,c,e,g,y,l,i,r,a)=>()=>{const d=new WeakMap;let f=null;const s=async(o,n)=>{let u=null,h=y(o);const p={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation},v={...p,coneInnerAngle:h.coneInnerAngle,coneOuterAngle:h.coneOuterAngle,coneOuterGain:h.coneOuterGain,distanceModel:h.distanceModel,maxDistance:h.maxDistance,panningModel:h.panningModel,refDistance:h.refDistance,rolloffFactor:h.rolloffFactor},_=fr(h,n);if("bufferSize"in h)u=e(n,{...p,gain:1});else if(!_){const j={...v,orientationX:h.orientationX.value,orientationY:h.orientationY.value,orientationZ:h.orientationZ.value,positionX:h.positionX.value,positionY:h.positionY.value,positionZ:h.positionZ.value};h=g(n,j)}if(d.set(n,u===null?h:u),u!==null){if(f===null){if(l===null)throw new Error("Missing the native OfflineAudioContext constructor.");const P=new l(6,o.context.length,n.sampleRate),I=t(P,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});I.connect(P.destination),f=(async()=>{const N=await Promise.all([o.orientationX,o.orientationY,o.orientationZ,o.positionX,o.positionY,o.positionZ].map(async(U,W)=>{const z=c(P,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:W===0?1:0});return await i(P,U,z.offset),z}));for(let U=0;U<6;U+=1)N[U].connect(I,0,U),N[U].start(0);return a(P)})()}const j=await f,x=e(n,{...p,gain:1});await r(o,n,x);const M=[];for(let P=0;P<j.numberOfChannels;P+=1)M.push(j.getChannelData(P));let E=[M[0][0],M[1][0],M[2][0]],C=[M[3][0],M[4][0],M[5][0]],R=e(n,{...p,gain:1}),O=g(n,{...v,orientationX:E[0],orientationY:E[1],orientationZ:E[2],positionX:C[0],positionY:C[1],positionZ:C[2]});x.connect(R).connect(O.inputs[0]),O.connect(u);for(let P=128;P<j.length;P+=128){const I=[M[0][P],M[1][P],M[2][P]],N=[M[3][P],M[4][P],M[5][P]];if(I.some((U,W)=>U!==E[W])||N.some((U,W)=>U!==C[W])){E=I,C=N;const U=P/n.sampleRate;R.gain.setValueAtTime(0,U),R=e(n,{...p,gain:0}),O=g(n,{...v,orientationX:E[0],orientationY:E[1],orientationZ:E[2],positionX:C[0],positionY:C[1],positionZ:C[2]}),R.gain.setValueAtTime(1,U),x.connect(R).connect(O.inputs[0]),O.connect(u)}}return u}return _?(await b(n,o.orientationX,h.orientationX),await b(n,o.orientationY,h.orientationY),await b(n,o.orientationZ,h.orientationZ),await b(n,o.positionX,h.positionX),await b(n,o.positionY,h.positionY),await b(n,o.positionZ,h.positionZ)):(await i(n,o.orientationX,h.orientationX),await i(n,o.orientationY,h.orientationY),await i(n,o.orientationZ,h.orientationZ),await i(n,o.positionX,h.positionX),await i(n,o.positionY,h.positionY),await i(n,o.positionZ,h.positionZ)),rs(h)?await r(o,n,h.inputs[0]):await r(o,n,h),h};return{render(o,n){const u=d.get(n);return u!==void 0?Promise.resolve(u):s(o,n)}}},Lf={disableNormalization:!1},If=(b,t,c,e)=>class Ul{constructor(y,l){const i=t(y),r=e({...Lf,...l}),a=b(i,r);return c.add(a),a}static[Symbol.hasInstance](y){return y!==null&&typeof y=="object"&&Object.getPrototypeOf(y)===Ul.prototype||c.has(y)}},Df=(b,t)=>(c,e,g)=>(b(e).replay(g),t(e,c,g)),Nf=(b,t,c)=>async(e,g,y)=>{const l=b(e);await Promise.all(l.activeInputs.map((i,r)=>Array.from(i).map(async([a,d])=>{const s=await t(a).render(a,g),o=e.context.destination;!c(a)&&(e!==o||!c(e))&&s.connect(y,d,r)})).reduce((i,r)=>[...i,...r],[]))},Ff=(b,t,c)=>async(e,g,y)=>{const l=t(e);await Promise.all(Array.from(l.activeInputs).map(async([i,r])=>{const d=await b(i).render(i,g);c(i)||d.connect(y,r)}))},Uf=(b,t,c,e)=>g=>b(Cs,()=>Cs(g))?Promise.resolve(b(e,e)).then(y=>{if(!y){const l=c(g,512,0,1);g.oncomplete=()=>{l.onaudioprocess=null,l.disconnect()},l.onaudioprocess=()=>g.currentTime,l.connect(g.destination)}return g.startRendering()}):new Promise(y=>{const l=t(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});g.oncomplete=i=>{l.disconnect(),y(i.renderedBuffer)},l.connect(g.destination),g.startRendering()}),Bf=b=>(t,c)=>{b.set(t,c)},Vf=b=>(t,c)=>b.set(t,c),Gf=(b,t,c,e,g,y,l,i)=>(r,a)=>c(r).render(r,a).then(()=>Promise.all(Array.from(e(a)).map(d=>c(d).render(d,a)))).then(()=>g(a)).then(d=>(typeof d.copyFromChannel!="function"?(l(d),Ci(d)):t(y,()=>y(d))||i(d),b.add(d),d)),qf={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},zf=(b,t,c,e,g,y)=>class extends b{constructor(i,r){const a=g(i),d={...qf,...r},f=c(a,d),s=y(a),o=s?e():null;super(i,!1,f,o),this._pan=t(this,s,f.pan)}get pan(){return this._pan}},Wf=(b,t,c,e,g)=>()=>{const y=new WeakMap,l=async(i,r)=>{let a=c(i);const d=fr(a,r);if(!d){const f={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,pan:a.pan.value};a=t(r,f)}return y.set(r,a),d?await b(r,i.pan,a.pan):await e(r,i.pan,a.pan),rs(a)?await g(i,r,a.inputs[0]):await g(i,r,a),a};return{render(i,r){const a=y.get(r);return a!==void 0?Promise.resolve(a):l(i,r)}}},Hf=b=>()=>{if(b===null)return!1;try{new b({length:1,sampleRate:44100})}catch{return!1}return!0},Xf=(b,t)=>async()=>{if(b===null)return!0;if(t===null)return!1;const c=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),e=new t(1,128,44100),g=URL.createObjectURL(c);let y=!1,l=!1;try{await e.audioWorklet.addModule(g);const i=new b(e,"a",{numberOfOutputs:0}),r=e.createOscillator();i.port.onmessage=()=>y=!0,i.onprocessorerror=()=>l=!0,r.connect(i),r.start(0),await e.startRendering()}catch{}finally{URL.revokeObjectURL(g)}return y&&!l},Yf=(b,t)=>()=>{if(t===null)return Promise.resolve(!1);const c=new t(1,1,44100),e=b(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(g=>{c.oncomplete=()=>{e.disconnect(),g(c.currentTime!==0)},c.startRendering()})},$f=()=>new DOMException("","UnknownError"),Zf={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},Qf=(b,t,c,e,g,y,l)=>class extends b{constructor(r,a){const d=g(r),f={...Zf,...a},s=c(d,f),n=y(d)?e():null;super(r,!0,s,n),this._isCurveNullified=!1,this._nativeWaveShaperNode=s,l(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(r){if(r===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(r.length<2)throw t();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=r}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(r){this._nativeWaveShaperNode.oversample=r}},Kf=(b,t,c)=>()=>{const e=new WeakMap,g=async(y,l)=>{let i=t(y);if(!fr(i,l)){const a={channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,curve:i.curve,oversample:i.oversample};i=b(l,a)}return e.set(l,i),rs(i)?await c(y,l,i.inputs[0]):await c(y,l,i),i};return{render(y,l){const i=e.get(l);return i!==void 0?Promise.resolve(i):g(y,l)}}},Jf=()=>typeof window>"u"?null:window,ep=(b,t)=>c=>{c.copyFromChannel=(e,g,y=0)=>{const l=b(y),i=b(g);if(i>=c.numberOfChannels)throw t();const r=c.length,a=c.getChannelData(i),d=e.length;for(let f=l<0?-l:0;f+l<r&&f<d;f+=1)e[f]=a[f+l]},c.copyToChannel=(e,g,y=0)=>{const l=b(y),i=b(g);if(i>=c.numberOfChannels)throw t();const r=c.length,a=c.getChannelData(i),d=e.length;for(let f=l<0?-l:0;f+l<r&&f<d;f+=1)a[f+l]=e[f]}},tp=b=>t=>{t.copyFromChannel=(c=>(e,g,y=0)=>{const l=b(y),i=b(g);if(l<t.length)return c.call(t,e,i,l)})(t.copyFromChannel),t.copyToChannel=(c=>(e,g,y=0)=>{const l=b(y),i=b(g);if(l<t.length)return c.call(t,e,i,l)})(t.copyToChannel)},rp=b=>(t,c)=>{const e=c.createBuffer(1,1,44100);t.buffer===null&&(t.buffer=e),b(t,"buffer",g=>()=>{const y=g.call(t);return y===e?null:y},g=>y=>g.call(t,y===null?e:y))},np=(b,t)=>(c,e)=>{e.channelCount=1,e.channelCountMode="explicit",Object.defineProperty(e,"channelCount",{get:()=>1,set:()=>{throw b()}}),Object.defineProperty(e,"channelCountMode",{get:()=>"explicit",set:()=>{throw b()}});const g=c.createBufferSource();t(e,()=>{const i=e.numberOfInputs;for(let r=0;r<i;r+=1)g.connect(e,0,r)},()=>g.disconnect(e))},Bl=(b,t,c)=>b.copyFromChannel===void 0?b.getChannelData(c)[0]:(b.copyFromChannel(t,c),t[0]),Vl=b=>{if(b===null)return!1;const t=b.length;return t%2!==0?b[Math.floor(t/2)]!==0:b[t/2-1]+b[t/2]!==0},Ys=(b,t,c,e)=>{let g=b;for(;!g.hasOwnProperty(t);)g=Object.getPrototypeOf(g);const{get:y,set:l}=Object.getOwnPropertyDescriptor(g,t);Object.defineProperty(b,t,{get:c(y),set:e(l)})},sp=b=>({...b,outputChannelCount:b.outputChannelCount!==void 0?b.outputChannelCount:b.numberOfInputs===1&&b.numberOfOutputs===1?[b.channelCount]:Array.from({length:b.numberOfOutputs},()=>1)}),op=b=>({...b,channelCount:b.numberOfOutputs}),ip=b=>{const{imag:t,real:c}=b;return t===void 0?c===void 0?{...b,imag:[0,0],real:[0,0]}:{...b,imag:Array.from(c,()=>0),real:c}:c===void 0?{...b,imag:t,real:Array.from(t,()=>0)}:{...b,imag:t,real:c}},Gl=(b,t,c)=>{try{b.setValueAtTime(t,c)}catch(e){if(e.code!==9)throw e;Gl(b,t,c+1e-7)}},ap=b=>{const t=b.createBufferSource();t.start();try{t.start()}catch{return!0}return!1},lp=b=>{const t=b.createBufferSource(),c=b.createBuffer(1,1,44100);t.buffer=c;try{t.start(0,1)}catch{return!1}return!0},cp=b=>{const t=b.createBufferSource();t.start();try{t.stop()}catch{return!1}return!0},Pi=b=>{const t=b.createOscillator();try{t.start(-1)}catch(c){return c instanceof RangeError}return!1},ql=b=>{const t=b.createBuffer(1,1,44100),c=b.createBufferSource();c.buffer=t,c.start(),c.stop();try{return c.stop(),!0}catch{return!1}},Li=b=>{const t=b.createOscillator();try{t.stop(-1)}catch(c){return c instanceof RangeError}return!1},up=b=>{const{port1:t,port2:c}=new MessageChannel;try{t.postMessage(b)}finally{t.close(),c.close()}},dp=b=>{b.start=(t=>(c=0,e=0,g)=>{const y=b.buffer,l=y===null?e:Math.min(y.duration,e);y!==null&&l>y.duration-.5/b.context.sampleRate?t.call(b,c,0,0):t.call(b,c,l,g)})(b.start)},zl=(b,t)=>{const c=t.createGain();b.connect(c);const e=(g=>()=>{g.call(b,c),b.removeEventListener("ended",e)})(b.disconnect);b.addEventListener("ended",e),ns(b,c),b.stop=(g=>{let y=!1;return(l=0)=>{if(y)try{g.call(b,l)}catch{c.gain.setValueAtTime(0,l)}else g.call(b,l),y=!0}})(b.stop)},ss=(b,t)=>c=>{const e={value:b};return Object.defineProperties(c,{currentTarget:e,target:e}),typeof t=="function"?t.call(b,c):t.handleEvent.call(b,c)},hp=Ou(In),fp=Nu(In),pp=$d(Vo),Wl=new WeakMap,mp=fh(Wl),Dr=Td(new Map,new WeakMap),zr=Jf(),Hl=qh(Dr,Xr),Ii=hh(mr),lr=Nf(mr,Ii,An),yp=Gu(Hl,At,lr),Et=yh(Bo),ln=gf(zr),bt=Ph(ln),Xl=new WeakMap,Yl=oh(ss),$s=Xh(zr),Di=kh($s),Ni=Ah(zr),$l=Oh(zr),ks=$h(zr),qt=fd(Ru(xl),Du(hp,fp,So,pp,To,mr,mp,Gs,At,In,rn,An,mo),Dr,Sh(hi,To,mr,At,Ms,rn),Xr,Go,gr,Wd(So,hi,mr,At,Ms,Et,rn,bt),Kd(Xl,mr,Ir),Yl,Et,Di,Ni,$l,bt,ks),gp=Vu(qt,yp,Xr,Hl,Et,bt),Fi=new WeakSet,nl=zh(zr),Zl=Fd(new Uint32Array(1)),Ui=ep(Zl,Xr),Bi=tp(Zl),vp=zu(Fi,Dr,gr,nl,ln,Hf(nl),Ui,Bi),qo=Fu(_r),Ql=Ff(Ii,zs,An),Yr=Rd(Ql),os=Hh(qo,Dr,ap,lp,cp,Pi,ql,Li,dp,rp(Ys),zl),$r=Df(ph(zs),Ql),bp=Xu(Yr,os,At,$r,lr),Nr=pd(Pu(jl),Xl,Mi,md,Tu,Eu,Mu,Cu,ku,ci,_l,$s,Gl),_p=Hu(qt,bp,Nr,sr,os,Et,bt,ss),wp=rd(qt,nd,Xr,sr,Yh(_r,Ys),Et,bt,lr),xp=Sd(Yr,Nl,At,$r,lr),Dn=Vf(Wl),jp=jd(qt,Nr,xp,Go,Nl,Et,bt,Dn),wn=Vh(In,Ni),Sp=np(sr,wn),xn=rf($s,Sp),Tp=Cd(xn,At,lr),Ep=Md(qt,Tp,xn,Et,bt),Mp=Od(Hs,At,lr),Cp=Ad(qt,Mp,Hs,Et,bt,op),kp=of(qo,os,_r,wn),is=sf(qo,Dr,kp,Pi,Li),Ap=Nd(Yr,is,At,$r,lr),Op=Dd(qt,Nr,Ap,is,Et,bt,ss),Kl=af(gr,Ys),Rp=Vd(Kl,At,lr),Pp=Bd(qt,Rp,Kl,Et,bt,Dn),Lp=Yd(Yr,Fl,At,$r,lr),Ip=Xd(qt,Nr,Lp,Fl,Et,bt,Dn),Jl=lf(gr),Dp=rh(Yr,Jl,At,$r,lr),Np=th(qt,Nr,Dp,Jl,gr,Et,bt,Dn),Fp=uh(Yr,_r,At,$r,lr),Up=ch(qt,Nr,Fp,_r,Et,bt),Bp=hf(Go,sr,Xs,gr),zo=Uf(Dr,_r,Xs,Yf(_r,ln)),Vp=jh(os,At,ln,lr,zo),Gp=cf(Bp),qp=wh(qt,Gp,Vp,Et,bt,Dn),zp=sd(Nr,xn,is,Xs,gr,Bl,bt,Ys),ec=new WeakMap,Wp=Bh(wp,zp,Yl,bt,ec,ss),tc=vf(qo,Dr,Pi,ql,Li,zl),Hp=Af(Yr,tc,At,$r,lr),Xp=kf(qt,Nr,tc,Hp,Et,bt,ss),rc=Ld(os),Yp=Tf(rc,sr,_r,Vl,wn),Wo=Sf(rc,sr,Yp,Vl,wn,$s,Ys),$p=_f(So,sr,xn,_r,Xs,Wo,gr,To,Bl,wn),nc=bf($p),Zp=Pf(Yr,xn,is,_r,nc,At,ln,$r,lr,zo),Qp=Rf(qt,Nr,nc,Zp,Et,bt,Dn),Kp=wf(Xr),Jp=If(Kp,Et,new WeakSet,ip),em=jf(xn,Hs,_r,Wo,gr,wn),sc=xf(em,gr),tm=Wf(Yr,sc,At,$r,lr),rm=zf(qt,Nr,sc,tm,Et,bt),nm=Kf(Wo,At,lr),sm=Qf(qt,sr,Wo,nm,Et,bt,Dn),oc=Lh(zr),Vi=ih(zr),ic=new WeakMap,om=gh(ic,ln),im=oc?Iu(Dr,gr,sh(zr),Vi,ah(Au),Et,om,bt,ks,new WeakMap,new WeakMap,Xf(ks,ln),zr):void 0,am=Rh(Di,bt),lm=zd(Fi,Dr,qd,nh,new WeakSet,Et,am,xo,Cs,Ui,Bi),ac=wd(im,gp,vp,_p,jp,Ep,Cp,Op,Pp,lm,Ip,Np,Up,qp,Wp,Xp,Qp,Jp,rm,sm),cm=Ih(qt,ff,Et,bt),um=Nh(qt,pf,Et,bt),dm=Fh(qt,mf,Et,bt),hm=yf(sr,bt),fm=Uh(qt,hm,Et),pm=td(ac,sr,gr,$f,cm,um,dm,fm,$s),Gi=vh(ec),mm=Uu(Gi),lc=Pd(Xr),ym=Zd(Gi),cc=Jd(Xr),uc=new WeakMap,gm=dh(uc,Ir),vm=tf(lc,Xr,sr,xn,Hs,is,_r,Xs,gr,cc,Vi,gm,wn),bm=Qh(sr,vm,_r,gr,wn),_m=_d(Yr,lc,os,xn,Hs,is,_r,ym,cc,Vi,At,ks,ln,$r,lr,zo),wm=mh(ic),xm=Bf(uc),sl=oc?gd(mm,qt,Nr,_m,bm,mr,wm,Et,bt,ks,sp,xm,up,ss):void 0,jm=Gd(gr,ln),Sm=Gf(Fi,Dr,Ii,Gi,zo,xo,Ui,Bi),Tm=Mf(ac,Dr,sr,jm,Sm),Em=Th(Bo,Di),Mm=Eh(Ei,Ni),Cm=Mh(Mi,$l),km=Ch(Bo,bt);function at(b,t){if(!b)throw new Error(t)}function vn(b,t,c=1/0){if(!(t<=b&&b<=c))throw new RangeError(`Value must be within [${t}, ${c}], got: ${b}`)}function dc(b){!b.isOffline&&b.state!=="running"&&qi('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let hc=console;function Am(...b){hc.log(...b)}function qi(...b){hc.warn(...b)}function Mr(b){return typeof b>"u"}function ht(b){return!Mr(b)}function Om(b){return typeof b=="function"}function bn(b){return typeof b=="number"}function Mn(b){return Object.prototype.toString.call(b)==="[object Object]"&&b.constructor===Object}function Rm(b){return typeof b=="boolean"}function Sr(b){return Array.isArray(b)}function Wr(b){return typeof b=="string"}function io(b){return Wr(b)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(b)}function Pm(b){return new pm(b)}function Lm(b,t,c){return new Tm(b,t,c)}const Cn=typeof self=="object"?self:null,Im=Cn&&(Cn.hasOwnProperty("AudioContext")||Cn.hasOwnProperty("webkitAudioContext"));function Dm(b,t,c){return at(ht(sl),"This node only works in a secure context (https or localhost)"),new sl(b,t,c)}function Fr(b,t,c,e){var g=arguments.length,y=g<3?t:e===null?e=Object.getOwnPropertyDescriptor(t,c):e,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(b,t,c,e);else for(var i=b.length-1;i>=0;i--)(l=b[i])&&(y=(g<3?l(y):g>3?l(t,c,y):l(t,c))||y);return g>3&&y&&Object.defineProperty(t,c,y),y}function Xt(b,t,c,e){function g(y){return y instanceof c?y:new c(function(l){l(y)})}return new(c||(c=Promise))(function(y,l){function i(d){try{a(e.next(d))}catch(f){l(f)}}function r(d){try{a(e.throw(d))}catch(f){l(f)}}function a(d){d.done?y(d.value):g(d.value).then(i,r)}a((e=e.apply(b,t||[])).next())})}class Nm{constructor(t,c,e){this._callback=t,this._type=c,this._updateInterval=e,this._createClock()}_createWorker(){const t=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),c=URL.createObjectURL(t),e=new Worker(c);e.onmessage=this._callback.bind(this),this._worker=e}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(t){this._updateInterval=Math.max(t,128/44100),this._type==="worker"&&this._worker.postMessage(Math.max(t*1e3,1))}get type(){return this._type}set type(t){this._disposeClock(),this._type=t,this._createClock()}dispose(){this._disposeClock()}}function On(b){return Cm(b)}function gn(b){return Mm(b)}function yo(b){return km(b)}function Gn(b){return Em(b)}function fc(b){return b instanceof AudioBuffer}function Fm(b,t){return b==="value"||On(t)||gn(t)||fc(t)}function kn(b,...t){if(!t.length)return b;const c=t.shift();if(Mn(b)&&Mn(c))for(const e in c)Fm(e,c[e])?b[e]=c[e]:Mn(c[e])?(b[e]||Object.assign(b,{[e]:{}}),kn(b[e],c[e])):Object.assign(b,{[e]:c[e]});return kn(b,...t)}function Um(b,t){return b.length===t.length&&b.every((c,e)=>t[e]===c)}function $e(b,t,c=[],e){const g={},y=Array.from(t);if(Mn(y[0])&&e&&!Reflect.has(y[0],e)&&(Object.keys(y[0]).some(i=>Reflect.has(b,i))||(kn(g,{[e]:y[0]}),c.splice(c.indexOf(e),1),y.shift())),y.length===1&&Mn(y[0]))kn(g,y[0]);else for(let l=0;l<c.length;l++)ht(y[l])&&(g[c[l]]=y[l]);return kn(b,g)}function Bm(b){return b.constructor.getDefaults()}function zn(b,t){return Mr(b)?t:b}function gi(b,t){return t.forEach(c=>{Reflect.has(b,c)&&delete b[c]}),b}class cn{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...t){(this.debug||Cn&&this.toString()===Cn.TONE_DEBUG_CLASS)&&Am(this,...t)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}cn.version=bl;const zi=1e-6;function ko(b,t){return b>t+zi}function vi(b,t){return ko(b,t)||Rr(b,t)}function pc(b,t){return b+zi<t}function Rr(b,t){return Math.abs(b-t)<zi}function Vm(b,t,c){return Math.max(Math.min(b,c),t)}class Zr extends cn{constructor(){super(),this.name="Timeline",this._timeline=[];const t=$e(Zr.getDefaults(),arguments,["memory"]);this.memory=t.memory,this.increasing=t.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(t){if(at(Reflect.has(t,"time"),"Timeline: events must have a time attribute"),t.time=t.time.valueOf(),this.increasing&&this.length){const c=this._timeline[this.length-1];at(vi(t.time,c.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(t)}else{const c=this._search(t.time);this._timeline.splice(c+1,0,t)}if(this.length>this.memory){const c=this.length-this.memory;this._timeline.splice(0,c)}return this}remove(t){const c=this._timeline.indexOf(t);return c!==-1&&this._timeline.splice(c,1),this}get(t,c="time"){const e=this._search(t,c);return e!==-1?this._timeline[e]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(t,c="time"){const e=this._search(t,c);return e+1<this._timeline.length?this._timeline[e+1]:null}getBefore(t){const c=this._timeline.length;if(c>0&&this._timeline[c-1].time<t)return this._timeline[c-1];const e=this._search(t);return e-1>=0?this._timeline[e-1]:null}cancel(t){if(this._timeline.length>1){let c=this._search(t);if(c>=0)if(Rr(this._timeline[c].time,t)){for(let e=c;e>=0&&Rr(this._timeline[e].time,t);e--)c=e;this._timeline=this._timeline.slice(0,c)}else this._timeline=this._timeline.slice(0,c+1);else this._timeline=[]}else this._timeline.length===1&&vi(this._timeline[0].time,t)&&(this._timeline=[]);return this}cancelBefore(t){const c=this._search(t);return c>=0&&(this._timeline=this._timeline.slice(c+1)),this}previousEvent(t){const c=this._timeline.indexOf(t);return c>0?this._timeline[c-1]:null}_search(t,c="time"){if(this._timeline.length===0)return-1;let e=0;const g=this._timeline.length;let y=g;if(g>0&&this._timeline[g-1][c]<=t)return g-1;for(;e<y;){let l=Math.floor(e+(y-e)/2);const i=this._timeline[l],r=this._timeline[l+1];if(Rr(i[c],t)){for(let a=l;a<this._timeline.length;a++){const d=this._timeline[a];if(Rr(d[c],t))l=a;else break}return l}else{if(pc(i[c],t)&&ko(r[c],t))return l;ko(i[c],t)?y=l:e=l+1}}return-1}_iterate(t,c=0,e=this._timeline.length-1){this._timeline.slice(c,e+1).forEach(t)}forEach(t){return this._iterate(t),this}forEachBefore(t,c){const e=this._search(t);return e!==-1&&this._iterate(c,0,e),this}forEachAfter(t,c){const e=this._search(t);return this._iterate(c,e+1),this}forEachBetween(t,c,e){let g=this._search(t),y=this._search(c);return g!==-1&&y!==-1?(this._timeline[g].time!==t&&(g+=1),this._timeline[y].time===c&&(y-=1),this._iterate(e,g,y)):g===-1&&this._iterate(e,0,y),this}forEachFrom(t,c){let e=this._search(t);for(;e>=0&&this._timeline[e].time>=t;)e--;return this._iterate(c,e+1),this}forEachAtTime(t,c){const e=this._search(t);if(e!==-1&&Rr(this._timeline[e].time,t)){let g=e;for(let y=e;y>=0&&Rr(this._timeline[y].time,t);y--)g=y;this._iterate(y=>{c(y)},g,e)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const mc=[];function Ho(b){mc.push(b)}function Gm(b){mc.forEach(t=>t(b))}const yc=[];function Xo(b){yc.push(b)}function qm(b){yc.forEach(t=>t(b))}let Yo=class extends cn{constructor(){super(...arguments),this.name="Emitter"}on(t,c){return t.split(/\W+/).forEach(g=>{Mr(this._events)&&(this._events={}),this._events.hasOwnProperty(g)||(this._events[g]=[]),this._events[g].push(c)}),this}once(t,c){const e=(...g)=>{c(...g),this.off(t,e)};return this.on(t,e),this}off(t,c){return t.split(/\W+/).forEach(g=>{if(Mr(this._events)&&(this._events={}),this._events.hasOwnProperty(t))if(Mr(c))this._events[t]=[];else{const y=this._events[t];for(let l=y.length-1;l>=0;l--)y[l]===c&&y.splice(l,1)}}),this}emit(t,...c){if(this._events&&this._events.hasOwnProperty(t)){const e=this._events[t].slice(0);for(let g=0,y=e.length;g<y;g++)e[g].apply(this,c)}return this}static mixin(t){["on","once","off","emit"].forEach(c=>{const e=Object.getOwnPropertyDescriptor(Yo.prototype,c);Object.defineProperty(t.prototype,c,e)})}dispose(){return super.dispose(),this._events=void 0,this}};class gc extends Yo{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Zs extends gc{constructor(){super(),this.name="Context",this._constants=new Map,this._timeouts=new Zr,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletModules=new Map;const t=$e(Zs.getDefaults(),arguments,["context"]);t.context?this._context=t.context:this._context=Pm({latencyHint:t.latencyHint}),this._ticker=new Nm(this.emit.bind(this,"tick"),t.clockSource,t.updateInterval),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this._setLatencyHint(t.latencyHint),this.lookAhead=t.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(Gm(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(t,c,e){return this._context.createBuffer(t,c,e)}createChannelMerger(t){return this._context.createChannelMerger(t)}createChannelSplitter(t){return this._context.createChannelSplitter(t)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(t){return this._context.createDelay(t)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(t,c){return this._context.createIIRFilter(t,c)}createPanner(){return this._context.createPanner()}createPeriodicWave(t,c,e){return this._context.createPeriodicWave(t,c,e)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(t){return at(Gn(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(t)}createMediaElementSource(t){return at(Gn(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(t)}createMediaStreamDestination(){return at(Gn(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(t){return this._context.decodeAudioData(t)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(t){at(!this._initialized,"The listener cannot be set after initialization."),this._listener=t}get transport(){return this.initialize(),this._transport}set transport(t){at(!this._initialized,"The transport cannot be set after initialization."),this._transport=t}get draw(){return this.initialize(),this._draw}set draw(t){at(!this._initialized,"Draw cannot be set after initialization."),this._draw=t}get destination(){return this.initialize(),this._destination}set destination(t){at(!this._initialized,"The destination cannot be set after initialization."),this._destination=t}createAudioWorkletNode(t,c){return Dm(this.rawContext,t,c)}addAudioWorkletModule(t,c){return Xt(this,void 0,void 0,function*(){at(ht(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletModules.has(c)||this._workletModules.set(c,this.rawContext.audioWorklet.addModule(t)),yield this._workletModules.get(c)})}workletsAreReady(){return Xt(this,void 0,void 0,function*(){const t=[];this._workletModules.forEach(c=>t.push(c)),yield Promise.all(t)})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(t){this._ticker.updateInterval=t}get clockSource(){return this._ticker.type}set clockSource(t){this._ticker.type=t}get latencyHint(){return this._latencyHint}_setLatencyHint(t){let c=0;if(this._latencyHint=t,Wr(t))switch(t){case"interactive":c=.1;break;case"playback":c=.5;break;case"balanced":c=.25;break}this.lookAhead=c,this.updateInterval=c/2}get rawContext(){return this._context}now(){return this._context.currentTime+this.lookAhead}immediate(){return this._context.currentTime}resume(){return Gn(this._context)?this._context.resume():Promise.resolve()}close(){return Xt(this,void 0,void 0,function*(){Gn(this._context)&&(yield this._context.close()),this._initialized&&qm(this)})}getConstant(t){if(this._constants.has(t))return this._constants.get(t);{const c=this._context.createBuffer(1,128,this._context.sampleRate),e=c.getChannelData(0);for(let y=0;y<e.length;y++)e[y]=t;const g=this._context.createBufferSource();return g.channelCount=1,g.channelCountMode="explicit",g.buffer=c,g.loop=!0,g.start(0),this._constants.set(t,g),g}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(t=>this._constants[t].disconnect()),this}_timeoutLoop(){const t=this.now();let c=this._timeouts.peek();for(;this._timeouts.length&&c&&c.time<=t;)c.callback(),this._timeouts.shift(),c=this._timeouts.peek()}setTimeout(t,c){this._timeoutIds++;const e=this.now();return this._timeouts.add({callback:t,id:this._timeoutIds,time:e+c}),this._timeoutIds}clearTimeout(t){return this._timeouts.forEach(c=>{c.id===t&&this._timeouts.remove(c)}),this}clearInterval(t){return this.clearTimeout(t)}setInterval(t,c){const e=++this._timeoutIds,g=()=>{const y=this.now();this._timeouts.add({callback:()=>{t(),g()},id:e,time:y+c})};return g(),e}}class zm extends gc{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(t,c,e){return{}}createChannelMerger(t){return{}}createChannelSplitter(t){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(t){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(t,c){return{}}createPanner(){return{}}createPeriodicWave(t,c,e){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(t){return{}}createMediaElementSource(t){return{}}createMediaStreamDestination(){return{}}decodeAudioData(t){return Promise.resolve({})}createAudioWorkletNode(t,c){return{}}get rawContext(){return{}}addAudioWorkletModule(t,c){return Xt(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(t,c){return 0}clearTimeout(t){return this}setInterval(t,c){return 0}clearInterval(t){return this}getConstant(t){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(t){}get destination(){return{}}set destination(t){}now(){return 0}immediate(){return 0}}function Nt(b,t){Sr(t)?t.forEach(c=>Nt(b,c)):Object.defineProperty(b,t,{enumerable:!0,writable:!1})}function vc(b,t){Sr(t)?t.forEach(c=>vc(b,c)):Object.defineProperty(b,t,{writable:!0})}const xt=()=>{};class Tt extends cn{constructor(){super(),this.name="ToneAudioBuffer",this.onload=xt;const t=$e(Tt.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=t.reverse,this.onload=t.onload,t.url&&fc(t.url)||t.url instanceof Tt?this.set(t.url):Wr(t.url)&&this.load(t.url).catch(t.onerror)}static getDefaults(){return{onerror:xt,onload:xt,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Pr().sampleRate}set(t){return t instanceof Tt?t.loaded?this._buffer=t.get():t.onload=()=>{this.set(t),this.onload(this)}:this._buffer=t,this._reversed&&this._reverse(),this}get(){return this._buffer}load(t){return Xt(this,void 0,void 0,function*(){const c=Tt.load(t).then(e=>{this.set(e),this.onload(this)});Tt.downloads.push(c);try{yield c}finally{const e=Tt.downloads.indexOf(c);Tt.downloads.splice(e,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(t){const c=Sr(t)&&t[0].length>0,e=c?t.length:1,g=c?t[0].length:t.length,y=Pr(),l=y.createBuffer(e,g,y.sampleRate),i=!c&&e===1?[t]:t;for(let r=0;r<e;r++)l.copyToChannel(i[r],r);return this._buffer=l,this}toMono(t){if(bn(t))this.fromArray(this.toArray(t));else{let c=new Float32Array(this.length);const e=this.numberOfChannels;for(let g=0;g<e;g++){const y=this.toArray(g);for(let l=0;l<y.length;l++)c[l]+=y[l]}c=c.map(g=>g/e),this.fromArray(c)}return this}toArray(t){if(bn(t))return this.getChannelData(t);if(this.numberOfChannels===1)return this.toArray(0);{const c=[];for(let e=0;e<this.numberOfChannels;e++)c[e]=this.getChannelData(e);return c}}getChannelData(t){return this._buffer?this._buffer.getChannelData(t):new Float32Array(0)}slice(t,c=this.duration){const e=Math.floor(t*this.sampleRate),g=Math.floor(c*this.sampleRate);at(e<g,"The start time must be less than the end time");const y=g-e,l=Pr().createBuffer(this.numberOfChannels,y,this.sampleRate);for(let i=0;i<this.numberOfChannels;i++)l.copyToChannel(this.getChannelData(i).subarray(e,g),i);return new Tt(l)}_reverse(){if(this.loaded)for(let t=0;t<this.numberOfChannels;t++)this.getChannelData(t).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(t){this._reversed!==t&&(this._reversed=t,this._reverse())}static fromArray(t){return new Tt().fromArray(t)}static fromUrl(t){return Xt(this,void 0,void 0,function*(){return yield new Tt().load(t)})}static load(t){return Xt(this,void 0,void 0,function*(){const c=t.match(/\[([^\]\[]+\|.+)\]$/);if(c){const i=c[1].split("|");let r=i[0];for(const a of i)if(Tt.supportsType(a)){r=a;break}t=t.replace(c[0],r)}const e=Tt.baseUrl===""||Tt.baseUrl.endsWith("/")?Tt.baseUrl:Tt.baseUrl+"/",g=yield fetch(e+t);if(!g.ok)throw new Error(`could not load url: ${t}`);const y=yield g.arrayBuffer();return yield Pr().decodeAudioData(y)})}static supportsType(t){const c=t.split("."),e=c[c.length-1];return document.createElement("audio").canPlayType("audio/"+e)!==""}static loaded(){return Xt(this,void 0,void 0,function*(){for(yield Promise.resolve();Tt.downloads.length;)yield Tt.downloads[0]})}}Tt.baseUrl="";Tt.downloads=[];class Wi extends Zs{constructor(){super({clockSource:"offline",context:yo(arguments[0])?arguments[0]:Lm(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:yo(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=yo(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(t){return Xt(this,void 0,void 0,function*(){let c=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,c++;const e=Math.floor(this.sampleRate/128);t&&c%e===0&&(yield new Promise(g=>setTimeout(g,1)))}})}render(t=!0){return Xt(this,void 0,void 0,function*(){yield this.workletsAreReady(),yield this._renderClock(t);const c=yield this._context.startRendering();return new Tt(c)})}close(){return Promise.resolve()}}const bc=new zm;let xs=bc;function Pr(){return xs===bc&&Im&&Wm(new Zs),xs}function Wm(b){Gn(b)?xs=new Zs(b):yo(b)?xs=new Wi(b):xs=b}if(Cn&&!Cn.TONE_SILENCE_LOGGING){const t=` * Tone.js v${bl} * `;console.log(`%c${t}`,"background: #000; color: #fff")}function Hm(b){return Math.pow(10,b/20)}function Xm(b){return 20*(Math.log(b)/Math.LN10)}function _c(b){return Math.pow(2,b/12)}let $o=440;function Ym(){return $o}function $m(b){$o=b}function En(b){return Math.round(wc(b))}function wc(b){return 69+12*Math.log2(b/$o)}function xc(b){return $o*Math.pow(2,(b-69)/12)}class Hi extends cn{constructor(t,c,e){super(),this.defaultUnits="s",this._val=c,this._units=e,this.context=t,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:t=>this._frequencyToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:t=>this._ticksToUnits(parseInt(t,10)),regexp:/^(\d+)i$/i},m:{method:t=>this._beatsToUnits(parseInt(t,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(t,c)=>{const e=parseInt(t,10),g=c==="."?1.5:1;return e===1?this._beatsToUnits(this._getTimeSignature())*g:this._beatsToUnits(4/e)*g},regexp:/^(\d+)n(\.?)$/i},number:{method:t=>this._expressions[this.defaultUnits].method.call(this,t),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:t=>this._secondsToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:t=>parseInt(t,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:t=>{const c=parseInt(t,10);return this._beatsToUnits(8/(Math.floor(c)*3))},regexp:/^(\d+)t$/i},tr:{method:(t,c,e)=>{let g=0;return t&&t!=="0"&&(g+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),c&&c!=="0"&&(g+=this._beatsToUnits(parseFloat(c))),e&&e!=="0"&&(g+=this._beatsToUnits(parseFloat(e)/4)),g},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Hi&&this.fromType(this._val),Mr(this._val))return this._noArg();if(Wr(this._val)&&Mr(this._units)){for(const t in this._expressions)if(this._expressions[t].regexp.test(this._val.trim())){this._units=t;break}}else if(Mn(this._val)){let t=0;for(const c in this._val)if(ht(this._val[c])){const e=this._val[c],g=new this.constructor(this.context,c).valueOf()*e;t+=g}return t}if(ht(this._units)){const t=this._expressions[this._units],c=this._val.toString().trim().match(t.regexp);return c?t.method.apply(this,c.slice(1)):t.method.call(this,this._val)}else return Wr(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(t){return 1/t}_beatsToUnits(t){return 60/this._getBpm()*t}_secondsToUnits(t){return t}_ticksToUnits(t){return t*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(t){switch(this._units=void 0,this.defaultUnits){case"s":this._val=t.toSeconds();break;case"i":this._val=t.toTicks();break;case"hz":this._val=t.toFrequency();break;case"midi":this._val=t.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class Lr extends Hi{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:t=>this._now()+new this.constructor(this.context,t).valueOf(),regexp:/^\+(.+)/},quantize:{method:t=>{const c=new Lr(this.context,t).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(c))},regexp:/^@(.+)/}})}quantize(t,c=1){const e=new this.constructor(this.context,t).valueOf(),g=this.valueOf(),i=Math.round(g/e)*e-g;return g+i*c}toNotation(){const t=this.toSeconds(),c=["1m"];for(let y=1;y<9;y++){const l=Math.pow(2,y);c.push(l+"n."),c.push(l+"n"),c.push(l+"t")}c.push("0");let e=c[0],g=new Lr(this.context,c[0]).toSeconds();return c.forEach(y=>{const l=new Lr(this.context,y).toSeconds();Math.abs(l-t)<Math.abs(g-t)&&(e=y,g=l)}),e}toBarsBeatsSixteenths(){const t=this._beatsToUnits(1);let c=this.valueOf()/t;c=parseFloat(c.toFixed(4));const e=Math.floor(c/this._getTimeSignature());let g=c%1*4;c=Math.floor(c)%this._getTimeSignature();const y=g.toString();return y.length>3&&(g=parseFloat(parseFloat(y).toFixed(3))),[e,c,g].join(":")}toTicks(){const t=this._beatsToUnits(1),c=this.valueOf()/t;return Math.round(c*this._getPPQ())}toSeconds(){return this.valueOf()}toMidi(){return En(this.toFrequency())}_now(){return this.context.now()}}class jr extends Lr{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return Ym()}static set A4(t){$m(t)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(t){return this.defaultUnits==="midi"?t:jr.mtof(t)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method(t,c){const g=Zm[t.toLowerCase()]+(parseInt(c,10)+1)*12;return this.defaultUnits==="midi"?g:jr.mtof(g)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(t,c,e){let g=1;return t&&t!=="0"&&(g*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),c&&c!=="0"&&(g*=this._beatsToUnits(parseFloat(c))),e&&e!=="0"&&(g*=this._beatsToUnits(parseFloat(e)/4)),g}}})}transpose(t){return new jr(this.context,this.valueOf()*_c(t))}harmonize(t){return t.map(c=>this.transpose(c))}toMidi(){return En(this.valueOf())}toNote(){const t=this.toFrequency(),c=Math.log2(t/jr.A4);let e=Math.round(12*c)+57;const g=Math.floor(e/12);return g<0&&(e+=-12*g),Qm[e%12]+g.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const t=this._beatsToUnits(1),c=this.valueOf()/t;return Math.floor(c*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(t){return t}_ticksToUnits(t){return 1/(t*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(t){return 1/super._beatsToUnits(t)}_secondsToUnits(t){return 1/t}static mtof(t){return xc(t)}static ftom(t){return En(t)}}const Zm={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},Qm=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class js extends Lr{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class br extends cn{constructor(){super();const t=$e(br.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=t.context}static getDefaults(){return{context:Pr()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(t){return new Lr(this.context,t).toSeconds()}toFrequency(t){return new jr(this.context,t).toFrequency()}toTicks(t){return new js(this.context,t).toTicks()}_getPartialProperties(t){const c=this.get();return Object.keys(c).forEach(e=>{Mr(t[e])&&delete c[e]}),c}get(){const t=Bm(this);return Object.keys(t).forEach(c=>{if(Reflect.has(this,c)){const e=this[c];ht(e)&&ht(e.value)&&ht(e.setValueAtTime)?t[c]=e.value:e instanceof br?t[c]=e._getPartialProperties(t[c]):Sr(e)||bn(e)||Wr(e)||Rm(e)?t[c]=e:delete t[c]}}),t}set(t){return Object.keys(t).forEach(c=>{Reflect.has(this,c)&&ht(this[c])&&(this[c]&&ht(this[c].value)&&ht(this[c].setValueAtTime)?this[c].value!==t[c]&&(this[c].value=t[c]):this[c]instanceof br?this[c].set(t[c]):this[c]=t[c])}),this}}class Xi extends Zr{constructor(t="stopped"){super(),this.name="StateTimeline",this._initial=t,this.setStateAtTime(this._initial,0)}getValueAtTime(t){const c=this.get(t);return c!==null?c.state:this._initial}setStateAtTime(t,c,e){return vn(c,0),this.add(Object.assign({},e,{state:t,time:c})),this}getLastState(t,c){const e=this._search(c);for(let g=e;g>=0;g--){const y=this._timeline[g];if(y.state===t)return y}}getNextState(t,c){const e=this._search(c);if(e!==-1)for(let g=e;g<this._timeline.length;g++){const y=this._timeline[g];if(y.state===t)return y}}}class Ot extends br{constructor(){super($e(Ot.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const t=$e(Ot.getDefaults(),arguments,["param","units","convert"]);for(at(ht(t.param)&&(On(t.param)||t.param instanceof Ot),"param must be an AudioParam");!On(t.param);)t.param=t.param._param;this._swappable=ht(t.swappable)?t.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=t.param,this.input.connect(this._param)):this._param=this.input=t.param,this._events=new Zr(1e3),this._initialValue=this._param.defaultValue,this.units=t.units,this.convert=t.convert,this._minValue=t.minValue,this._maxValue=t.maxValue,ht(t.value)&&t.value!==this._toType(this._initialValue)&&this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(br.getDefaults(),{convert:!0,units:"number"})}get value(){const t=this.now();return this.getValueAtTime(t)}set value(t){this.cancelScheduledValues(this.now()),this.setValueAtTime(t,this.now())}get minValue(){return ht(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return ht(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(t,c){return this.units===c}_assertRange(t){return ht(this.maxValue)&&ht(this.minValue)&&vn(t,this._fromType(this.minValue),this._fromType(this.maxValue)),t}_fromType(t){return this.convert&&!this.overridden?this._is(t,"time")?this.toSeconds(t):this._is(t,"decibels")?Hm(t):this._is(t,"frequency")?this.toFrequency(t):t:this.overridden?0:t}_toType(t){return this.convert&&this.units==="decibels"?Xm(t):t}setValueAtTime(t,c){const e=this.toSeconds(c),g=this._fromType(t);return at(isFinite(g)&&isFinite(e),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(c)}`),this._assertRange(g),this.log(this.units,"setValueAtTime",t,e),this._events.add({time:e,type:"setValueAtTime",value:g}),this._param.setValueAtTime(g,e),this}getValueAtTime(t){const c=Math.max(this.toSeconds(t),0),e=this._events.getAfter(c),g=this._events.get(c);let y=this._initialValue;if(g===null)y=this._initialValue;else if(g.type==="setTargetAtTime"&&(e===null||e.type==="setValueAtTime")){const l=this._events.getBefore(g.time);let i;l===null?i=this._initialValue:i=l.value,g.type==="setTargetAtTime"&&(y=this._exponentialApproach(g.time,i,g.value,g.constant,c))}else if(e===null)y=g.value;else if(e.type==="linearRampToValueAtTime"||e.type==="exponentialRampToValueAtTime"){let l=g.value;if(g.type==="setTargetAtTime"){const i=this._events.getBefore(g.time);i===null?l=this._initialValue:l=i.value}e.type==="linearRampToValueAtTime"?y=this._linearInterpolate(g.time,l,e.time,e.value,c):y=this._exponentialInterpolate(g.time,l,e.time,e.value,c)}else y=g.value;return this._toType(y)}setRampPoint(t){t=this.toSeconds(t);let c=this.getValueAtTime(t);return this.cancelAndHoldAtTime(t),this._fromType(c)===0&&(c=this._toType(this._minOutput)),this.setValueAtTime(c,t),this}linearRampToValueAtTime(t,c){const e=this._fromType(t),g=this.toSeconds(c);return at(isFinite(e)&&isFinite(g),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(c)}`),this._assertRange(e),this._events.add({time:g,type:"linearRampToValueAtTime",value:e}),this.log(this.units,"linearRampToValueAtTime",t,g),this._param.linearRampToValueAtTime(e,g),this}exponentialRampToValueAtTime(t,c){let e=this._fromType(t);e=Rr(e,0)?this._minOutput:e,this._assertRange(e);const g=this.toSeconds(c);return at(isFinite(e)&&isFinite(g),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(c)}`),this._events.add({time:g,type:"exponentialRampToValueAtTime",value:e}),this.log(this.units,"exponentialRampToValueAtTime",t,g),this._param.exponentialRampToValueAtTime(e,g),this}exponentialRampTo(t,c,e){return e=this.toSeconds(e),this.setRampPoint(e),this.exponentialRampToValueAtTime(t,e+this.toSeconds(c)),this}linearRampTo(t,c,e){return e=this.toSeconds(e),this.setRampPoint(e),this.linearRampToValueAtTime(t,e+this.toSeconds(c)),this}targetRampTo(t,c,e){return e=this.toSeconds(e),this.setRampPoint(e),this.exponentialApproachValueAtTime(t,e,c),this}exponentialApproachValueAtTime(t,c,e){c=this.toSeconds(c),e=this.toSeconds(e);const g=Math.log(e+1)/Math.log(200);return this.setTargetAtTime(t,c,g),this.cancelAndHoldAtTime(c+e*.9),this.linearRampToValueAtTime(t,c+e),this}setTargetAtTime(t,c,e){const g=this._fromType(t);at(isFinite(e)&&e>0,"timeConstant must be a number greater than 0");const y=this.toSeconds(c);return this._assertRange(g),at(isFinite(g)&&isFinite(y),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(t)}, ${JSON.stringify(c)}`),this._events.add({constant:e,time:y,type:"setTargetAtTime",value:g}),this.log(this.units,"setTargetAtTime",t,y,e),this._param.setTargetAtTime(g,y,e),this}setValueCurveAtTime(t,c,e,g=1){e=this.toSeconds(e),c=this.toSeconds(c);const y=this._fromType(t[0])*g;this.setValueAtTime(this._toType(y),c);const l=e/(t.length-1);for(let i=1;i<t.length;i++){const r=this._fromType(t[i])*g;this.linearRampToValueAtTime(this._toType(r),c+i*l)}return this}cancelScheduledValues(t){const c=this.toSeconds(t);return at(isFinite(c),`Invalid argument to cancelScheduledValues: ${JSON.stringify(t)}`),this._events.cancel(c),this._param.cancelScheduledValues(c),this.log(this.units,"cancelScheduledValues",c),this}cancelAndHoldAtTime(t){const c=this.toSeconds(t),e=this._fromType(this.getValueAtTime(c));at(isFinite(c),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(t)}`),this.log(this.units,"cancelAndHoldAtTime",c,"value="+e);const g=this._events.get(c),y=this._events.getAfter(c);return g&&Rr(g.time,c)?y?(this._param.cancelScheduledValues(y.time),this._events.cancel(y.time)):(this._param.cancelAndHoldAtTime(c),this._events.cancel(c+this.sampleTime)):y&&(this._param.cancelScheduledValues(y.time),this._events.cancel(y.time),y.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(e),c):y.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(e),c)),this._events.add({time:c,type:"setValueAtTime",value:e}),this._param.setValueAtTime(e,c),this}rampTo(t,c=.1,e){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(t,c,e):this.linearRampTo(t,c,e),this}apply(t){const c=this.context.currentTime;t.setValueAtTime(this.getValueAtTime(c),c);const e=this._events.get(c);if(e&&e.type==="setTargetAtTime"){const g=this._events.getAfter(e.time),y=g?g.time:c+2,l=(y-c)/10;for(let i=c;i<y;i+=l)t.linearRampToValueAtTime(this.getValueAtTime(i),i)}return this._events.forEachAfter(this.context.currentTime,g=>{g.type==="cancelScheduledValues"?t.cancelScheduledValues(g.time):g.type==="setTargetAtTime"?t.setTargetAtTime(g.value,g.time,g.constant):t[g.type](g.value,g.time)}),this}setParam(t){at(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const c=this.input;return c.disconnect(this._param),this.apply(t),this._param=t,c.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(t,c,e,g,y){return e+(c-e)*Math.exp(-(y-t)/g)}_linearInterpolate(t,c,e,g,y){return c+(g-c)*((y-t)/(e-t))}_exponentialInterpolate(t,c,e,g,y){return c*Math.pow(g/c,(y-t)/(e-t))}}class ut extends br{constructor(){super(...arguments),this.name="ToneAudioNode",this._internalChannels=[]}get numberOfInputs(){return ht(this.input)?On(this.input)||this.input instanceof Ot?1:this.input.numberOfInputs:0}get numberOfOutputs(){return ht(this.output)?this.output.numberOfOutputs:0}_isAudioNode(t){return ht(t)&&(t instanceof ut||gn(t))}_getInternalNodes(){const t=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&t.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&t.push(this.output),t}_setChannelProperties(t){this._getInternalNodes().forEach(e=>{e.channelCount=t.channelCount,e.channelCountMode=t.channelCountMode,e.channelInterpretation=t.channelInterpretation})}_getChannelProperties(){const t=this._getInternalNodes();at(t.length>0,"ToneAudioNode does not have any internal nodes");const c=t[0];return{channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(t){const c=this._getChannelProperties();this._setChannelProperties(Object.assign(c,{channelCount:t}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(t){const c=this._getChannelProperties();this._setChannelProperties(Object.assign(c,{channelCountMode:t}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(t){const c=this._getChannelProperties();this._setChannelProperties(Object.assign(c,{channelInterpretation:t}))}connect(t,c=0,e=0){return as(this,t,c,e),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return qi("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(t,c=0,e=0){return Km(this,t,c,e),this}chain(...t){return bi(this,...t),this}fan(...t){return t.forEach(c=>this.connect(c)),this}dispose(){return super.dispose(),ht(this.input)&&(this.input instanceof ut?this.input.dispose():gn(this.input)&&this.input.disconnect()),ht(this.output)&&(this.output instanceof ut?this.output.dispose():gn(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function bi(...b){const t=b.shift();b.reduce((c,e)=>(c instanceof ut?c.connect(e):gn(c)&&as(c,e),e),t)}function as(b,t,c=0,e=0){for(at(ht(b),"Cannot connect from undefined node"),at(ht(t),"Cannot connect to undefined node"),(t instanceof ut||gn(t))&&at(t.numberOfInputs>0,"Cannot connect to node with no inputs"),at(b.numberOfOutputs>0,"Cannot connect from node with no outputs");t instanceof ut||t instanceof Ot;)ht(t.input)&&(t=t.input);for(;b instanceof ut;)ht(b.output)&&(b=b.output);On(t)?b.connect(t,c):b.connect(t,c,e)}function Km(b,t,c=0,e=0){if(ht(t))for(;t instanceof ut;)t=t.input;for(;!gn(b);)ht(b.output)&&(b=b.output);On(t)?b.disconnect(t,c):gn(t)?b.disconnect(t,c,e):b.disconnect()}class yr extends ut{constructor(){super($e(yr.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const t=$e(yr.getDefaults(),arguments,["gain","units"]);this.gain=new Ot({context:this.context,convert:t.convert,param:this._gainNode.gain,units:t.units,value:t.gain,minValue:t.minValue,maxValue:t.maxValue}),Nt(this,"gain")}static getDefaults(){return Object.assign(ut.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class $n extends ut{constructor(t){super(t),this.onended=xt,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new yr({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(c){const e=this.toSeconds(c);return this._startTime!==-1&&e>=this._startTime&&(this._stopTime===-1||e<=this._stopTime)?"started":"stopped"},this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut,this._curve=t.curve,this.onended=t.onended}static getDefaults(){return Object.assign(ut.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:xt})}_startGain(t,c=1){at(this._startTime===-1,"Source cannot be started more than once");const e=this.toSeconds(this._fadeIn);return this._startTime=t+e,this._startTime=Math.max(this._startTime,this.context.currentTime),e>0?(this._gainNode.gain.setValueAtTime(0,t),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(c,t+e):this._gainNode.gain.exponentialApproachValueAtTime(c,t,e)):this._gainNode.gain.setValueAtTime(c,t),this}stop(t){return this.log("stop",t),this._stopGain(this.toSeconds(t)),this}_stopGain(t){at(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const c=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(t)+c,this._stopTime=Math.max(this._stopTime,this.context.currentTime),c>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,c,t):this._gainNode.gain.targetRampTo(0,c,t):(this._gainNode.gain.cancelAndHoldAtTime(t),this._gainNode.gain.setValueAtTime(0,t)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const e=this._curve==="exponential"?c*2:0;this._stopSource(this.now()+e),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==xt&&(this.onended(this),this.onended=xt,!this.context.isOffline)){const t=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(t):setTimeout(t,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),at(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}}class Ao extends $n{constructor(){super($e(Ao.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const t=$e(Ao.getDefaults(),arguments,["offset"]);as(this._source,this._gainNode),this.offset=new Ot({context:this.context,convert:t.convert,param:this._source.offset,units:t.units,value:t.offset,minValue:t.minValue,maxValue:t.maxValue})}static getDefaults(){return Object.assign($n.getDefaults(),{convert:!0,offset:1,units:"number"})}start(t){const c=this.toSeconds(t);return this.log("start",c),this._startGain(c),this._source.start(c),this}_stopSource(t){this._source.stop(t)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Qt extends ut{constructor(){super($e(Qt.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const t=$e(Qt.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new Ao({context:this.context,convert:t.convert,offset:t.value,units:t.units,minValue:t.minValue,maxValue:t.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(ut.getDefaults(),{convert:!0,units:"number",value:0})}connect(t,c=0,e=0){return Yi(this,t,c,e),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(t,c){return this._param.setValueAtTime(t,c),this}getValueAtTime(t){return this._param.getValueAtTime(t)}setRampPoint(t){return this._param.setRampPoint(t),this}linearRampToValueAtTime(t,c){return this._param.linearRampToValueAtTime(t,c),this}exponentialRampToValueAtTime(t,c){return this._param.exponentialRampToValueAtTime(t,c),this}exponentialRampTo(t,c,e){return this._param.exponentialRampTo(t,c,e),this}linearRampTo(t,c,e){return this._param.linearRampTo(t,c,e),this}targetRampTo(t,c,e){return this._param.targetRampTo(t,c,e),this}exponentialApproachValueAtTime(t,c,e){return this._param.exponentialApproachValueAtTime(t,c,e),this}setTargetAtTime(t,c,e){return this._param.setTargetAtTime(t,c,e),this}setValueCurveAtTime(t,c,e,g){return this._param.setValueCurveAtTime(t,c,e,g),this}cancelScheduledValues(t){return this._param.cancelScheduledValues(t),this}cancelAndHoldAtTime(t){return this._param.cancelAndHoldAtTime(t),this}rampTo(t,c,e){return this._param.rampTo(t,c,e),this}get value(){return this._param.value}set value(t){this._param.value=t}get convert(){return this._param.convert}set convert(t){this._param.convert=t}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(t){this._param.overridden=t}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(t){return this._param.apply(t),this}}function Yi(b,t,c,e){(t instanceof Ot||On(t)||t instanceof Qt&&t.override)&&(t.cancelScheduledValues(0),t.setValueAtTime(0,0),t instanceof Qt&&(t.overridden=!0)),as(b,t,c,e)}class Oo extends Ot{constructor(){super($e(Oo.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new Zr(1/0),this._multiplier=1;const t=$e(Oo.getDefaults(),arguments,["value"]);this._multiplier=t.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(t.value)}),this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Ot.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(t,c,e){c=this.toSeconds(c),this.setRampPoint(c);const g=this._fromType(t),y=this._events.get(c),l=Math.round(Math.max(1/e,1));for(let i=0;i<=l;i++){const r=e*i+c,a=this._exponentialApproach(y.time,y.value,g,e,r);this.linearRampToValueAtTime(this._toType(a),r)}return this}setValueAtTime(t,c){const e=this.toSeconds(c);super.setValueAtTime(t,c);const g=this._events.get(e),y=this._events.previousEvent(g),l=this._getTicksUntilEvent(y,e);return g.ticks=Math.max(l,0),this}linearRampToValueAtTime(t,c){const e=this.toSeconds(c);super.linearRampToValueAtTime(t,c);const g=this._events.get(e),y=this._events.previousEvent(g),l=this._getTicksUntilEvent(y,e);return g.ticks=Math.max(l,0),this}exponentialRampToValueAtTime(t,c){c=this.toSeconds(c);const e=this._fromType(t),g=this._events.get(c),y=Math.round(Math.max((c-g.time)*10,1)),l=(c-g.time)/y;for(let i=0;i<=y;i++){const r=l*i+g.time,a=this._exponentialInterpolate(g.time,g.value,c,e,r);this.linearRampToValueAtTime(this._toType(a),r)}return this}_getTicksUntilEvent(t,c){if(t===null)t={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Mr(t.ticks)){const l=this._events.previousEvent(t);t.ticks=this._getTicksUntilEvent(l,t.time)}const e=this._fromType(this.getValueAtTime(t.time));let g=this._fromType(this.getValueAtTime(c));const y=this._events.get(c);return y&&y.time===c&&y.type==="setValueAtTime"&&(g=this._fromType(this.getValueAtTime(c-this.sampleTime))),.5*(c-t.time)*(e+g)+t.ticks}getTicksAtTime(t){const c=this.toSeconds(t),e=this._events.get(c);return Math.max(this._getTicksUntilEvent(e,c),0)}getDurationOfTicks(t,c){const e=this.toSeconds(c),g=this.getTicksAtTime(c);return this.getTimeOfTick(g+t)-e}getTimeOfTick(t){const c=this._events.get(t,"ticks"),e=this._events.getAfter(t,"ticks");if(c&&c.ticks===t)return c.time;if(c&&e&&e.type==="linearRampToValueAtTime"&&c.value!==e.value){const g=this._fromType(this.getValueAtTime(c.time)),l=(this._fromType(this.getValueAtTime(e.time))-g)/(e.time-c.time),i=Math.sqrt(Math.pow(g,2)-2*l*(c.ticks-t)),r=(-g+i)/l,a=(-g-i)/l;return(r>0?r:a)+c.time}else return c?c.value===0?1/0:c.time+(t-c.ticks)/c.value:t/this._initialValue}ticksToTime(t,c){return this.getDurationOfTicks(t,c)}timeToTicks(t,c){const e=this.toSeconds(c),g=this.toSeconds(t),y=this.getTicksAtTime(e);return this.getTicksAtTime(e+g)-y}_fromType(t){return this.units==="bpm"&&this.multiplier?1/(60/t/this.multiplier):super._fromType(t)}_toType(t){return this.units==="bpm"&&this.multiplier?t/this.multiplier*60:super._toType(t)}get multiplier(){return this._multiplier}set multiplier(t){const c=this.value;this._multiplier=t,this.cancelScheduledValues(0),this.setValueAtTime(c,0)}}class Ro extends Qt{constructor(){super($e(Ro.getDefaults(),arguments,["value"])),this.name="TickSignal";const t=$e(Ro.getDefaults(),arguments,["value"]);this.input=this._param=new Oo({context:this.context,convert:t.convert,multiplier:t.multiplier,param:this._constantSource.offset,units:t.units,value:t.value})}static getDefaults(){return Object.assign(Qt.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(t,c){return this._param.ticksToTime(t,c)}timeToTicks(t,c){return this._param.timeToTicks(t,c)}getTimeOfTick(t){return this._param.getTimeOfTick(t)}getDurationOfTicks(t,c){return this._param.getDurationOfTicks(t,c)}getTicksAtTime(t){return this._param.getTicksAtTime(t)}get multiplier(){return this._param.multiplier}set multiplier(t){this._param.multiplier=t}dispose(){return super.dispose(),this._param.dispose(),this}}class Po extends br{constructor(){super($e(Po.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new Xi,this._tickOffset=new Zr;const t=$e(Po.getDefaults(),arguments,["frequency"]);this.frequency=new Ro({context:this.context,units:t.units,value:t.frequency}),Nt(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},br.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(t,c){const e=this.toSeconds(t);return this._state.getValueAtTime(e)!=="started"&&(this._state.setStateAtTime("started",e),ht(c)&&this.setTicksAtTime(c,e)),this}stop(t){const c=this.toSeconds(t);if(this._state.getValueAtTime(c)==="stopped"){const e=this._state.get(c);e&&e.time>0&&(this._tickOffset.cancel(e.time),this._state.cancel(e.time))}return this._state.cancel(c),this._state.setStateAtTime("stopped",c),this.setTicksAtTime(0,c),this}pause(t){const c=this.toSeconds(t);return this._state.getValueAtTime(c)==="started"&&this._state.setStateAtTime("paused",c),this}cancel(t){return t=this.toSeconds(t),this._state.cancel(t),this._tickOffset.cancel(t),this}getTicksAtTime(t){const c=this.toSeconds(t),e=this._state.getLastState("stopped",c),g={state:"paused",time:c};this._state.add(g);let y=e,l=0;return this._state.forEachBetween(e.time,c+this.sampleTime,i=>{let r=y.time;const a=this._tickOffset.get(i.time);a&&a.time>=y.time&&(l=a.ticks,r=a.time),y.state==="started"&&i.state!=="started"&&(l+=this.frequency.getTicksAtTime(i.time)-this.frequency.getTicksAtTime(r)),y=i}),this._state.remove(g),l}get ticks(){return this.getTicksAtTime(this.now())}set ticks(t){this.setTicksAtTime(t,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(t){const c=this.now(),e=this.frequency.timeToTicks(t,c);this.setTicksAtTime(e,c)}getSecondsAtTime(t){t=this.toSeconds(t);const c=this._state.getLastState("stopped",t),e={state:"paused",time:t};this._state.add(e);let g=c,y=0;return this._state.forEachBetween(c.time,t+this.sampleTime,l=>{let i=g.time;const r=this._tickOffset.get(l.time);r&&r.time>=g.time&&(y=r.seconds,i=r.time),g.state==="started"&&l.state!=="started"&&(y+=l.time-i),g=l}),this._state.remove(e),y}setTicksAtTime(t,c){return c=this.toSeconds(c),this._tickOffset.cancel(c),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(t,c),ticks:t,time:c}),this}getStateAtTime(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)}getTimeOfTick(t,c=this.now()){const e=this._tickOffset.get(c),g=this._state.get(c),y=Math.max(e.time,g.time),l=this.frequency.getTicksAtTime(y)+t-e.ticks;return this.frequency.getTimeOfTick(l)}forEachTickBetween(t,c,e){let g=this._state.get(t);this._state.forEachBetween(t,c,l=>{g&&g.state==="started"&&l.state!=="started"&&this.forEachTickBetween(Math.max(g.time,t),l.time-this.sampleTime,e),g=l});let y=null;if(g&&g.state==="started"){const l=Math.max(g.time,t),i=this.frequency.getTicksAtTime(l),r=this.frequency.getTicksAtTime(g.time),a=i-r;let d=Math.ceil(a)-a;d=Rr(d,1)?0:d;let f=this.frequency.getTimeOfTick(i+d);for(;f<c;){try{e(f,Math.round(this.getTicksAtTime(f)))}catch(s){y=s;break}f+=this.frequency.getDurationOfTicks(1,f)}}if(y)throw y;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this.frequency.dispose(),this}}class As extends br{constructor(){super($e(As.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=xt,this._lastUpdate=0,this._state=new Xi("stopped"),this._boundLoop=this._loop.bind(this);const t=$e(As.getDefaults(),arguments,["callback","frequency"]);this.callback=t.callback,this._tickSource=new Po({context:this.context,frequency:t.frequency,units:t.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Nt(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(br.getDefaults(),{callback:xt,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(t,c){dc(this.context);const e=this.toSeconds(t);return this.log("start",e),this._state.getValueAtTime(e)!=="started"&&(this._state.setStateAtTime("started",e),this._tickSource.start(e,c),e<this._lastUpdate&&this.emit("start",e,c)),this}stop(t){const c=this.toSeconds(t);return this.log("stop",c),this._state.cancel(c),this._state.setStateAtTime("stopped",c),this._tickSource.stop(c),c<this._lastUpdate&&this.emit("stop",c),this}pause(t){const c=this.toSeconds(t);return this._state.getValueAtTime(c)==="started"&&(this._state.setStateAtTime("paused",c),this._tickSource.pause(c),c<this._lastUpdate&&this.emit("pause",c)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(t){this._tickSource.ticks=t}get seconds(){return this._tickSource.seconds}set seconds(t){this._tickSource.seconds=t}getSecondsAtTime(t){return this._tickSource.getSecondsAtTime(t)}setTicksAtTime(t,c){return this._tickSource.setTicksAtTime(t,c),this}getTimeOfTick(t,c=this.now()){return this._tickSource.getTimeOfTick(t,c)}getTicksAtTime(t){return this._tickSource.getTicksAtTime(t)}nextTickTime(t,c){const e=this.toSeconds(c),g=this.getTicksAtTime(e);return this._tickSource.getTimeOfTick(g+t,e)}_loop(){const t=this._lastUpdate,c=this.now();this._lastUpdate=c,this.log("loop",t,c),t!==c&&(this._state.forEachBetween(t,c,e=>{switch(e.state){case"started":const g=this._tickSource.getTicksAtTime(e.time);this.emit("start",e.time,g);break;case"stopped":e.time!==0&&this.emit("stop",e.time);break;case"paused":this.emit("pause",e.time);break}}),this._tickSource.forEachTickBetween(t,c,(e,g)=>{this.callback(e,g)}))}getStateAtTime(t){const c=this.toSeconds(t);return this._state.getValueAtTime(c)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Yo.mixin(As);class $i extends cn{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const t=$e($i.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=t.baseUrl,Object.keys(t.urls).forEach(c=>{this._loadingCount++;const e=t.urls[c];this.add(c,e,this._bufferLoaded.bind(this,t.onload),t.onerror)})}static getDefaults(){return{baseUrl:"",onerror:xt,onload:xt,urls:{}}}has(t){return this._buffers.has(t.toString())}get(t){return at(this.has(t),`ToneAudioBuffers has no buffer named: ${t}`),this._buffers.get(t.toString())}_bufferLoaded(t){this._loadingCount--,this._loadingCount===0&&t&&t()}get loaded(){return Array.from(this._buffers).every(([t,c])=>c.loaded)}add(t,c,e=xt,g=xt){return Wr(c)?this._buffers.set(t.toString(),new Tt(this.baseUrl+c,e,g)):this._buffers.set(t.toString(),new Tt(c,e,g)),this}dispose(){return super.dispose(),this._buffers.forEach(t=>t.dispose()),this._buffers.clear(),this}}class Lo extends jr{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(t){return En(super._frequencyToUnits(t))}_ticksToUnits(t){return En(super._ticksToUnits(t))}_beatsToUnits(t){return En(super._beatsToUnits(t))}_secondsToUnits(t){return En(super._secondsToUnits(t))}toMidi(){return this.valueOf()}toFrequency(){return xc(this.toMidi())}transpose(t){return new Lo(this.context,this.toMidi()+t)}}class en extends js{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(t){return this._getPPQ()*t}_secondsToUnits(t){return Math.floor(t/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(t){return t}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class Jm extends br{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Zr,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(t,c){return this._events.add({callback:t,time:this.toSeconds(c)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(t){return this._events.cancel(this.toSeconds(t)),this}_drawLoop(){const t=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=t;){const c=this._events.shift();c&&t-c.time<=this.expiration&&c.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Ho(b=>{b.draw=new Jm({context:b})});Xo(b=>{b.draw.dispose()});class ey extends cn{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(t){at(ht(t.time),"Events must have a time property"),at(ht(t.duration),"Events must have a duration parameter"),t.time=t.time.valueOf();let c=new ty(t.time,t.time+t.duration,t);for(this._root===null?this._root=c:this._root.insert(c),this._length++;c!==null;)c.updateHeight(),c.updateMax(),this._rebalance(c),c=c.parent;return this}remove(t){if(this._root!==null){const c=[];this._root.search(t.time,c);for(const e of c)if(e.event===t){this._removeNode(e),this._length--;break}}return this}get length(){return this._length}cancel(t){return this.forEachFrom(t,c=>this.remove(c)),this}_setRoot(t){this._root=t,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(t,c){t.parent!==null?(t.isLeftChild()?t.parent.left=c:t.parent.right=c,this._rebalance(t.parent)):this._setRoot(c)}_removeNode(t){if(t.left===null&&t.right===null)this._replaceNodeInParent(t,null);else if(t.right===null)this._replaceNodeInParent(t,t.left);else if(t.left===null)this._replaceNodeInParent(t,t.right);else{const c=t.getBalance();let e,g=null;if(c>0)if(t.left.right===null)e=t.left,e.right=t.right,g=e;else{for(e=t.left.right;e.right!==null;)e=e.right;e.parent&&(e.parent.right=e.left,g=e.parent,e.left=t.left,e.right=t.right)}else if(t.right.left===null)e=t.right,e.left=t.left,g=e;else{for(e=t.right.left;e.left!==null;)e=e.left;e.parent&&(e.parent.left=e.right,g=e.parent,e.left=t.left,e.right=t.right)}t.parent!==null?t.isLeftChild()?t.parent.left=e:t.parent.right=e:this._setRoot(e),g&&this._rebalance(g)}t.dispose()}_rotateLeft(t){const c=t.parent,e=t.isLeftChild(),g=t.right;g&&(t.right=g.left,g.left=t),c!==null?e?c.left=g:c.right=g:this._setRoot(g)}_rotateRight(t){const c=t.parent,e=t.isLeftChild(),g=t.left;g&&(t.left=g.right,g.right=t),c!==null?e?c.left=g:c.right=g:this._setRoot(g)}_rebalance(t){const c=t.getBalance();c>1&&t.left?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):c<-1&&t.right&&(t.right.getBalance()>0?this._rotateRight(t.right):this._rotateLeft(t))}get(t){if(this._root!==null){const c=[];if(this._root.search(t,c),c.length>0){let e=c[0];for(let g=1;g<c.length;g++)c[g].low>e.low&&(e=c[g]);return e.event}}return null}forEach(t){if(this._root!==null){const c=[];this._root.traverse(e=>c.push(e)),c.forEach(e=>{e.event&&t(e.event)})}return this}forEachAtTime(t,c){if(this._root!==null){const e=[];this._root.search(t,e),e.forEach(g=>{g.event&&c(g.event)})}return this}forEachFrom(t,c){if(this._root!==null){const e=[];this._root.searchAfter(t,e),e.forEach(g=>{g.event&&c(g.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(t=>t.dispose()),this._root=null,this}}class ty{constructor(t,c,e){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=e,this.low=t,this.high=c,this.max=this.high}insert(t){t.low<=this.low?this.left===null?this.left=t:this.left.insert(t):this.right===null?this.right=t:this.right.insert(t)}search(t,c){t>this.max||(this.left!==null&&this.left.search(t,c),this.low<=t&&this.high>t&&c.push(this),!(this.low>t)&&this.right!==null&&this.right.search(t,c))}searchAfter(t,c){this.low>=t&&(c.push(this),this.left!==null&&this.left.searchAfter(t,c)),this.right!==null&&this.right.searchAfter(t,c)}traverse(t){t(this),this.left!==null&&this.left.traverse(t),this.right!==null&&this.right.traverse(t)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let t=0;return this.left!==null&&this.right!==null?t=this.left.height-this.right.height:this.left!==null?t=this.left.height+1:this.right!==null&&(t=-(this.right.height+1)),t}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(t){this._left=t,t!==null&&(t.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(t){this._right=t,t!==null&&(t.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class Rn extends ut{constructor(){super($e(Rn.getDefaults(),arguments,["volume"])),this.name="Volume";const t=$e(Rn.getDefaults(),arguments,["volume"]);this.input=this.output=new yr({context:this.context,gain:t.volume,units:"decibels"}),this.volume=this.output.gain,Nt(this,"volume"),this._unmutedVolume=t.volume,this.mute=t.mute}static getDefaults(){return Object.assign(ut.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(t){!this.mute&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!t&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Io extends ut{constructor(){super($e(Io.getDefaults(),arguments)),this.name="Destination",this.input=new Rn({context:this.context}),this.output=new yr({context:this.context}),this.volume=this.input.volume;const t=$e(Io.getDefaults(),arguments);bi(this.input,this.output,this.context.rawContext.destination),this.mute=t.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(ut.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(t){this.input.mute=t}chain(...t){return this.input.disconnect(),t.unshift(this.input),t.push(this.output),bi(...t),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Ho(b=>{b.destination=new Io({context:b})});Xo(b=>{b.destination.dispose()});class ry extends cn{constructor(t){super(),this.name="TimelineValue",this._timeline=new Zr({memory:10}),this._initialValue=t}set(t,c){return this._timeline.add({value:t,time:c}),this}get(t){const c=this._timeline.get(t);return c?c.value:this._initialValue}}class _n{constructor(t,c){this.id=_n._eventId++;const e=Object.assign(_n.getDefaults(),c);this.transport=t,this.callback=e.callback,this._once=e.once,this.time=e.time}static getDefaults(){return{callback:xt,once:!1,time:0}}invoke(t){this.callback&&(this.callback(t),this._once&&this.transport.clear(this.id))}dispose(){return this.callback=void 0,this}}_n._eventId=0;class Zi extends _n{constructor(t,c){super(t,c),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const e=Object.assign(Zi.getDefaults(),c);this.duration=new en(t.context,e.duration).valueOf(),this._interval=new en(t.context,e.interval).valueOf(),this._nextTick=e.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},_n.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(t){this._createEvents(t),super.invoke(t)}_createEvents(t){const c=this.transport.getTicksAtTime(t);c>=this.time&&c>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new en(this.context,this._nextTick).toSeconds()))}_restart(t){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.time;const c=this.transport.getTicksAtTime(t);c>this.time&&(this._nextTick=this.time+Math.ceil((c-this.time)/this._interval)*this._interval),this._currentId=this.transport.scheduleOnce(this.invoke.bind(this),new en(this.context,this._nextTick).toSeconds()),this._nextTick+=this._interval,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new en(this.context,this._nextTick).toSeconds())}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this}}let Do=class extends br{constructor(){super($e(Do.getDefaults(),arguments)),this.name="Transport",this._loop=new ry(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Zr,this._repeatedEvents=new ey,this._syncedSignals=[],this._swingAmount=0;const t=$e(Do.getDefaults(),arguments);this._ppq=t.ppq,this._clock=new As({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=t.ppq,this.bpm.setValueAtTime(t.bpm,0),Nt(this,"bpm"),this._timeSignature=t.timeSignature,this._swingTicks=t.ppq/2}static getDefaults(){return Object.assign(br.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(t,c){if(this._loop.get(t)&&c>=this._loopEnd&&(this.emit("loopEnd",t),this._clock.setTicksAtTime(this._loopStart,t),c=this._loopStart,this.emit("loopStart",t,this._clock.getSecondsAtTime(t)),this.emit("loop",t)),this._swingAmount>0&&c%this._ppq!==0&&c%(this._swingTicks*2)!==0){const e=c%(this._swingTicks*2)/(this._swingTicks*2),g=Math.sin(e*Math.PI)*this._swingAmount;t+=new en(this.context,this._swingTicks*2/3).toSeconds()*g}this._timeline.forEachAtTime(c,e=>e.invoke(t))}schedule(t,c){const e=new _n(this,{callback:t,time:new js(this.context,c).toTicks()});return this._addEvent(e,this._timeline)}scheduleRepeat(t,c,e,g=1/0){const y=new Zi(this,{callback:t,duration:new Lr(this.context,g).toTicks(),interval:new Lr(this.context,c).toTicks(),time:new js(this.context,e).toTicks()});return this._addEvent(y,this._repeatedEvents)}scheduleOnce(t,c){const e=new _n(this,{callback:t,once:!0,time:new js(this.context,c).toTicks()});return this._addEvent(e,this._timeline)}clear(t){if(this._scheduledEvents.hasOwnProperty(t)){const c=this._scheduledEvents[t.toString()];c.timeline.remove(c.event),c.event.dispose(),delete this._scheduledEvents[t.toString()]}return this}_addEvent(t,c){return this._scheduledEvents[t.id.toString()]={event:t,timeline:c},c.add(t),t.id}cancel(t=0){const c=this.toTicks(t);return this._timeline.forEachFrom(c,e=>this.clear(e.id)),this._repeatedEvents.forEachFrom(c,e=>this.clear(e.id)),this}_bindClockEvents(){this._clock.on("start",(t,c)=>{c=new en(this.context,c).toSeconds(),this.emit("start",t,c)}),this._clock.on("stop",t=>{this.emit("stop",t)}),this._clock.on("pause",t=>{this.emit("pause",t)})}get state(){return this._clock.getStateAtTime(this.now())}start(t,c){let e;return ht(c)&&(e=this.toTicks(c)),this._clock.start(t,e),this}stop(t){return this._clock.stop(t),this}pause(t){return this._clock.pause(t),this}toggle(t){return t=this.toSeconds(t),this._clock.getStateAtTime(t)!=="started"?this.start(t):this.stop(t),this}get timeSignature(){return this._timeSignature}set timeSignature(t){Sr(t)&&(t=t[0]/t[1]*4),this._timeSignature=t}get loopStart(){return new Lr(this.context,this._loopStart,"i").toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t)}get loopEnd(){return new Lr(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t)}get loop(){return this._loop.get(this.now())}set loop(t){this._loop.set(t,this.now())}setLoopPoints(t,c){return this.loopStart=t,this.loopEnd=c,this}get swing(){return this._swingAmount}set swing(t){this._swingAmount=t}get swingSubdivision(){return new en(this.context,this._swingTicks).toNotation()}set swingSubdivision(t){this._swingTicks=this.toTicks(t)}get position(){const t=this.now(),c=this._clock.getTicksAtTime(t);return new en(this.context,c).toBarsBeatsSixteenths()}set position(t){const c=this.toTicks(t);this.ticks=c}get seconds(){return this._clock.seconds}set seconds(t){const c=this.now(),e=this._clock.frequency.timeToTicks(t,c);this.ticks=e}get progress(){if(this.loop){const t=this.now();return(this._clock.getTicksAtTime(t)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(t){if(this._clock.ticks!==t){const c=this.now();if(this.state==="started"){const e=this._clock.getTicksAtTime(c),g=this._clock.frequency.getDurationOfTicks(Math.ceil(e)-e,c),y=c+g;this.emit("stop",y),this._clock.setTicksAtTime(t,y),this.emit("start",y,this._clock.getSecondsAtTime(y))}else this._clock.setTicksAtTime(t,c)}}getTicksAtTime(t){return Math.round(this._clock.getTicksAtTime(t))}getSecondsAtTime(t){return this._clock.getSecondsAtTime(t)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(t){this._clock.frequency.multiplier=t}nextSubdivision(t){if(t=this.toTicks(t),this.state!=="started")return 0;{const c=this.now(),e=this.getTicksAtTime(c),g=t-e%t;return this._clock.nextTickTime(g,c)}}syncSignal(t,c){if(!c){const g=this.now();if(t.getValueAtTime(g)!==0){const l=1/(60/this.bpm.getValueAtTime(g)/this.PPQ);c=t.getValueAtTime(g)/l}else c=0}const e=new yr(c);return this.bpm.connect(e),e.connect(t._param),this._syncedSignals.push({initial:t.value,ratio:e,signal:t}),t.value=0,this}unsyncSignal(t){for(let c=this._syncedSignals.length-1;c>=0;c--){const e=this._syncedSignals[c];e.signal===t&&(e.ratio.dispose(),e.signal.value=e.initial,this._syncedSignals.splice(c,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),vc(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}};Yo.mixin(Do);Ho(b=>{b.transport=new Do({context:b})});Xo(b=>{b.transport.dispose()});class Tr extends ut{constructor(t){super(t),this.input=void 0,this._state=new Xi("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=xt,this._syncedStop=xt,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Rn({context:this.context,mute:t.mute,volume:t.volume}),this.volume=this._volume.volume,Nt(this,"volume"),this.onstop=t.onstop}static getDefaults(){return Object.assign(ut.getDefaults(),{mute:!1,onstop:xt,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}_clampToCurrentTime(t){return this._synced?t:Math.max(t,this.context.currentTime)}start(t,c,e){let g=Mr(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(g=this._clampToCurrentTime(g),!this._synced&&this._state.getValueAtTime(g)==="started")at(ko(g,this._state.get(g).time),"Start time must be strictly greater than previous start time"),this._state.cancel(g),this._state.setStateAtTime("started",g),this.log("restart",g),this.restart(g,c,e);else if(this.log("start",g),this._state.setStateAtTime("started",g),this._synced){const y=this._state.get(g);y&&(y.offset=this.toSeconds(zn(c,0)),y.duration=e?this.toSeconds(e):void 0);const l=this.context.transport.schedule(i=>{this._start(i,c,e)},g);this._scheduled.push(l),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>g&&this._syncedStart(this.now(),this.context.transport.seconds)}else dc(this.context),this._start(g,c,e);return this}stop(t){let c=Mr(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(c=this._clampToCurrentTime(c),this._state.getValueAtTime(c)==="started"||ht(this._state.getNextState("started",c))){if(this.log("stop",c),!this._synced)this._stop(c);else{const e=this.context.transport.schedule(this._stop.bind(this),c);this._scheduled.push(e)}this._state.cancel(c),this._state.setStateAtTime("stopped",c)}return this}restart(t,c,e){return t=this.toSeconds(t),this._state.getValueAtTime(t)==="started"&&(this._state.cancel(t),this._restart(t,c,e)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(t,c)=>{if(c>0){const e=this._state.get(c);if(e&&e.state==="started"&&e.time!==c){const g=c-this.toSeconds(e.time);let y;e.duration&&(y=this.toSeconds(e.duration)-g),this._start(t,this.toSeconds(e.offset)+g,y)}}},this._syncedStop=t=>{const c=this.context.transport.getSecondsAtTime(Math.max(t-this.sampleTime,0));this._state.getValueAtTime(c)==="started"&&this._stop(t)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(t=>this.context.transport.clear(t)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=xt,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class Os extends $n{constructor(){super($e(Os.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const t=$e(Os.getDefaults(),arguments,["url","onload"]);as(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Ot({context:this.context,param:this._source.playbackRate,units:"positive",value:t.playbackRate}),this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this._buffer=new Tt(t.url,t.onload,t.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign($n.getDefaults(),{url:new Tt,loop:!1,loopEnd:0,loopStart:0,onload:xt,onerror:xt,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t}get curve(){return this._curve}set curve(t){this._curve=t}start(t,c,e,g=1){at(this.buffer.loaded,"buffer is either not set or not loaded");const y=this.toSeconds(t);this._startGain(y,g),this.loop?c=zn(c,this.loopStart):c=zn(c,0);let l=Math.max(this.toSeconds(c),0);if(this.loop){const i=this.toSeconds(this.loopEnd)||this.buffer.duration,r=this.toSeconds(this.loopStart),a=i-r;vi(l,i)&&(l=(l-r)%a+r),Rr(l,this.buffer.duration)&&(l=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,pc(l,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(y,l)),ht(e)){let i=this.toSeconds(e);i=Math.max(i,0),this.stop(y+i)}return this}_stopSource(t){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(t)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(t){this._source.loopStart=this.toSeconds(t)}get loopEnd(){return this._source.loopEnd}set loopEnd(t){this._source.loopEnd=this.toSeconds(t)}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._source.loop}set loop(t){this._source.loop=t,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function Nn(b,t){return Xt(this,void 0,void 0,function*(){const c=t/b.context.sampleRate,e=new Wi(1,c,b.context.sampleRate);return new b.constructor(Object.assign(b.get(),{frequency:2/c,detune:0,context:e})).toDestination().start(0),(yield e.render()).getChannelData(0)})}class No extends $n{constructor(){super($e(No.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const t=$e(No.getDefaults(),arguments,["frequency","type"]);as(this._oscillator,this._gainNode),this.type=t.type,this.frequency=new Ot({context:this.context,param:this._oscillator.frequency,units:"frequency",value:t.frequency}),this.detune=new Ot({context:this.context,param:this._oscillator.detune,units:"cents",value:t.detune}),Nt(this,["frequency","detune"])}static getDefaults(){return Object.assign($n.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(t){const c=this.toSeconds(t);return this.log("start",c),this._startGain(c),this._oscillator.start(c),this}_stopSource(t){this._oscillator.stop(t)}setPeriodicWave(t){return this._oscillator.setPeriodicWave(t),this}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Bt extends Tr{constructor(){super($e(Bt.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const t=$e(Bt.getDefaults(),arguments,["frequency","type"]);this.frequency=new Qt({context:this.context,units:"frequency",value:t.frequency}),Nt(this,"frequency"),this.detune=new Qt({context:this.context,units:"cents",value:t.detune}),Nt(this,"detune"),this._partials=t.partials,this._partialCount=t.partialCount,this._type=t.type,t.partialCount&&t.type!=="custom"&&(this._type=this.baseType+t.partialCount.toString()),this.phase=t.phase}static getDefaults(){return Object.assign(Tr.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(t){const c=this.toSeconds(t),e=new No({context:this.context,onended:()=>this.onstop(this)});this._oscillator=e,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(c)}_stop(t){const c=this.toSeconds(t);this._oscillator&&this._oscillator.stop(c)}_restart(t){const c=this.toSeconds(t);return this.log("restart",c),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(c),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Bt._periodicWaveCache.find(c=>c.phase===this._phase&&Um(c.partials,this._partials));{const t=Bt._periodicWaveCache.find(c=>c.type===this._type&&c.phase===this._phase);return this._partialCount=t?t.partialCount:this._partialCount,t}}get type(){return this._type}set type(t){this._type=t;const c=["sine","square","sawtooth","triangle"].indexOf(t)!==-1;if(this._phase===0&&c)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=t);else{const e=this._getCachedPeriodicWave();if(ht(e)){const{partials:g,wave:y}=e;this._wave=y,this._partials=g,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[g,y]=this._getRealImaginary(t,this._phase),l=this.context.createPeriodicWave(g,y);this._wave=l,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Bt._periodicWaveCache.push({imag:y,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:g,type:this._type,wave:this._wave}),Bt._periodicWaveCache.length>100&&Bt._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(t){this.partialCount&&this._type!=="custom"&&t!=="custom"?this.type=t+this.partialCount:this.type=t}get partialCount(){return this._partialCount}set partialCount(t){vn(t,0);let c=this._type;const e=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(e&&(c=e[1]),this._type!=="custom")t===0?this.type=c:this.type=c+t.toString();else{const g=new Float32Array(t);this._partials.forEach((y,l)=>g[l]=y),this._partials=Array.from(g),this.type=this._type}}_getRealImaginary(t,c){let g=2048;const y=new Float32Array(g),l=new Float32Array(g);let i=1;if(t==="custom"){if(i=this._partials.length+1,this._partialCount=this._partials.length,g=i,this._partials.length===0)return[y,l]}else{const r=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(t);r?(i=parseInt(r[2],10)+1,this._partialCount=parseInt(r[2],10),t=r[1],i=Math.max(i,2),g=i):this._partialCount=0,this._partials=[]}for(let r=1;r<g;++r){const a=2/(r*Math.PI);let d;switch(t){case"sine":d=r<=i?1:0,this._partials[r-1]=d;break;case"square":d=r&1?2*a:0,this._partials[r-1]=d;break;case"sawtooth":d=a*(r&1?1:-1),this._partials[r-1]=d;break;case"triangle":r&1?d=2*(a*a)*(r-1>>1&1?-1:1):d=0,this._partials[r-1]=d;break;case"custom":d=this._partials[r-1];break;default:throw new TypeError("Oscillator: invalid type: "+t)}d!==0?(y[r]=-d*Math.sin(c*r),l[r]=d*Math.cos(c*r)):(y[r]=0,l[r]=0)}return[y,l]}_inverseFFT(t,c,e){let g=0;const y=t.length;for(let l=0;l<y;l++)g+=t[l]*Math.cos(l*e)+c[l]*Math.sin(l*e);return g}getInitialValue(){const[t,c]=this._getRealImaginary(this._type,0);let e=0;const g=Math.PI*2,y=32;for(let l=0;l<y;l++)e=Math.max(this._inverseFFT(t,c,l/y*g),e);return Vm(-this._inverseFFT(t,c,this._phase)/e,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(t){this._phase=t*Math.PI/180,this.type=this._type}asArray(t=1024){return Xt(this,void 0,void 0,function*(){return Nn(this,t)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Bt._periodicWaveCache=[];class Zo extends ut{constructor(){super(Object.assign($e(Zo.getDefaults(),arguments,["context"])))}connect(t,c=0,e=0){return Yi(this,t,c,e),this}}class Rs extends Zo{constructor(){super(Object.assign($e(Rs.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const t=$e(Rs.getDefaults(),arguments,["mapping","length"]);Sr(t.mapping)||t.mapping instanceof Float32Array?this.curve=Float32Array.from(t.mapping):Om(t.mapping)&&this.setMap(t.mapping,t.length)}static getDefaults(){return Object.assign(Qt.getDefaults(),{length:1024})}setMap(t,c=1024){const e=new Float32Array(c);for(let g=0,y=c;g<y;g++){const l=g/(y-1)*2-1;e[g]=t(l,g)}return this.curve=e,this}get curve(){return this._shaper.curve}set curve(t){this._shaper.curve=t}get oversample(){return this._shaper.oversample}set oversample(t){const c=["none","2x","4x"].some(e=>e.includes(t));at(c,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class ny extends Zo{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Rs({context:this.context,mapping:t=>(t+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Pn extends Qt{constructor(){super(Object.assign($e(Pn.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const t=$e(Pn.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new yr({context:this.context,minValue:t.minValue,maxValue:t.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Qt.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Ps extends Tr{constructor(){super($e(Ps.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new ny({context:this.context}),this._modulationNode=new yr({context:this.context});const t=$e(Ps.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Bt({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Bt({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new Pn({context:this.context,units:"positive",value:t.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Nt(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Bt.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){this._modulator.restart(t),this._carrier.restart(t)}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return Xt(this,void 0,void 0,function*(){return Nn(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Ls extends Tr{constructor(){super($e(Ls.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new yr({context:this.context,gain:0});const t=$e(Ls.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Bt({context:this.context,detune:t.detune,frequency:0,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.detune=this._carrier.detune,this.frequency=new Qt({context:this.context,units:"frequency",value:t.frequency}),this._modulator=new Bt({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new Pn({context:this.context,units:"positive",value:t.harmonicity}),this.modulationIndex=new Pn({context:this.context,units:"positive",value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Nt(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Bt.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){return this._modulator.restart(t),this._carrier.restart(t),this}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return Xt(this,void 0,void 0,function*(){return Nn(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Zn extends Tr{constructor(){super($e(Zn.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new yr({context:this.context,gain:0}),this._thresh=new Rs({context:this.context,mapping:c=>c<=0?-1:1});const t=$e(Zn.getDefaults(),arguments,["frequency","width"]);this.width=new Qt({context:this.context,units:"audioRange",value:t.width}),this._triangle=new Bt({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Nt(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Tr.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(t){t=this.toSeconds(t),this._triangle.start(t),this._widthGate.gain.setValueAtTime(1,t)}_stop(t){t=this.toSeconds(t),this._triangle.stop(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(0,t)}_restart(t){this._triangle.restart(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(1,t)}get phase(){return this._triangle.phase}set phase(t){this._triangle.phase=t}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(t){this._triangle.type=t}asArray(t=1024){return Xt(this,void 0,void 0,function*(){return Nn(this,t)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Is extends Tr{constructor(){super($e(Is.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const t=$e(Is.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new Qt({context:this.context,units:"frequency",value:t.frequency}),this.detune=new Qt({context:this.context,units:"cents",value:t.detune}),this._spread=t.spread,this._type=t.type,this._phase=t.phase,this._partials=t.partials,this._partialCount=t.partialCount,this.count=t.count,Nt(this,["frequency","detune"])}static getDefaults(){return Object.assign(Bt.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(t){t=this.toSeconds(t),this._forEach(c=>c.start(t))}_stop(t){t=this.toSeconds(t),this._forEach(c=>c.stop(t))}_restart(t){this._forEach(c=>c.restart(t))}_forEach(t){for(let c=0;c<this._oscillators.length;c++)t(this._oscillators[c],c)}get type(){return this._type}set type(t){this._type=t,this._forEach(c=>c.type=t)}get spread(){return this._spread}set spread(t){if(this._spread=t,this._oscillators.length>1){const c=-t/2,e=t/(this._oscillators.length-1);this._forEach((g,y)=>g.detune.value=c+e*y)}}get count(){return this._oscillators.length}set count(t){if(vn(t,1),this._oscillators.length!==t){this._forEach(c=>c.dispose()),this._oscillators=[];for(let c=0;c<t;c++){const e=new Bt({context:this.context,volume:-6-t*1.1,type:this._type,phase:this._phase+c/t*360,partialCount:this._partialCount,onstop:c===0?()=>this.onstop(this):xt});this.type==="custom"&&(e.partials=this._partials),this.frequency.connect(e.frequency),this.detune.connect(e.detune),e.detune.overridden=!1,e.connect(this.output),this._oscillators[c]=e}this.spread=this._spread,this.state==="started"&&this._forEach(c=>c.start())}}get phase(){return this._phase}set phase(t){this._phase=t,this._forEach((c,e)=>c.phase=this._phase+e/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(t){this._forEach(c=>c.baseType=t),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this._type="custom",this._forEach(c=>c.partials=t))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(t){this._partialCount=t,this._forEach(c=>c.partialCount=t),this._type=this._oscillators[0].type}asArray(t=1024){return Xt(this,void 0,void 0,function*(){return Nn(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(t=>t.dispose()),this}}class Ds extends Tr{constructor(){super($e(Ds.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Pn({context:this.context,value:2});const t=$e(Ds.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new Zn({context:this.context,frequency:t.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Bt({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Nt(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Tr.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)}_stop(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)}_restart(t){this._modulator.restart(t),this._pulse.restart(t)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(t){this._modulator.phase=t}asArray(t=1024){return Xt(this,void 0,void 0,function*(){return Nn(this,t)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const ol={am:Ps,fat:Is,fm:Ls,oscillator:Bt,pulse:Zn,pwm:Ds};class Ns extends Tr{constructor(){super($e(Ns.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const t=$e(Ns.getDefaults(),arguments,["frequency","type"]);this.frequency=new Qt({context:this.context,units:"frequency",value:t.frequency}),this.detune=new Qt({context:this.context,units:"cents",value:t.detune}),Nt(this,["frequency","detune"]),this.set(t)}static getDefaults(){return Object.assign(Bt.getDefaults(),Ls.getDefaults(),Ps.getDefaults(),Is.getDefaults(),Zn.getDefaults(),Ds.getDefaults())}_start(t){this._oscillator.start(t)}_stop(t){this._oscillator.stop(t)}_restart(t){return this._oscillator.restart(t),this}get type(){let t="";return["am","fm","fat"].some(c=>this._sourceType===c)&&(t=this._sourceType),t+this._oscillator.type}set type(t){t.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):t.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):t.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(3)):t==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):t==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=t)}get partials(){return this._oscillator.partials}set partials(t){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=t)}get partialCount(){return this._oscillator.partialCount}set partialCount(t){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=t)}set(t){return Reflect.has(t,"type")&&t.type&&(this.type=t.type),super.set(t),this}_createNewOscillator(t){if(t!==this._sourceType){this._sourceType=t;const c=ol[t],e=this.now();if(this._oscillator){const g=this._oscillator;g.stop(e),this.context.setTimeout(()=>g.dispose(),this.blockTime)}this._oscillator=new c({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(e)}}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t}get sourceType(){return this._sourceType}set sourceType(t){let c="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(c=this._oscillator.type),t==="fm"?this.type="fm"+c:t==="am"?this.type="am"+c:t==="fat"?this.type="fat"+c:t==="oscillator"?this.type=c:t==="pulse"?this.type="pulse":t==="pwm"&&(this.type="pwm")}_getOscType(t,c){return t instanceof ol[c]}get baseType(){return this._oscillator.baseType}set baseType(t){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&t!=="pulse"&&t!=="pwm"&&(this._oscillator.baseType=t)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(t){this._getOscType(this._oscillator,"fat")&&bn(t)&&(this._oscillator.count=t)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(t){this._getOscType(this._oscillator,"fat")&&bn(t)&&(this._oscillator.spread=t)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(t){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Wr(t)&&(this._oscillator.modulationType=t)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(t=1024){return Xt(this,void 0,void 0,function*(){return Nn(this,t)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function jc(b,t=1/0){const c=new WeakMap;return function(e,g){Reflect.defineProperty(e,g,{configurable:!0,enumerable:!0,get:function(){return c.get(this)},set:function(y){vn(y,b,t),c.set(this,y)}})}}function un(b,t=1/0){const c=new WeakMap;return function(e,g){Reflect.defineProperty(e,g,{configurable:!0,enumerable:!0,get:function(){return c.get(this)},set:function(y){vn(this.toSeconds(y),b,t),c.set(this,y)}})}}class Fs extends Tr{constructor(){super($e(Fs.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const t=$e(Fs.getDefaults(),arguments,["url","onload"]);this._buffer=new Tt({onload:this._onload.bind(this,t.onload),onerror:t.onerror,reverse:t.reverse,url:t.url}),this.autostart=t.autostart,this._loop=t.loop,this._loopStart=t.loopStart,this._loopEnd=t.loopEnd,this._playbackRate=t.playbackRate,this.fadeIn=t.fadeIn,this.fadeOut=t.fadeOut}static getDefaults(){return Object.assign(Tr.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:xt,onerror:xt,playbackRate:1,reverse:!1})}load(t){return Xt(this,void 0,void 0,function*(){return yield this._buffer.load(t),this._onload(),this})}_onload(t=xt){t(),this.autostart&&this.start()}_onSourceEnd(t){this.onstop(this),this._activeSources.delete(t),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(t,c,e){return super.start(t,c,e),this}_start(t,c,e){this._loop?c=zn(c,this._loopStart):c=zn(c,0);const g=this.toSeconds(c),y=e;e=zn(e,Math.max(this._buffer.duration-g,0));let l=this.toSeconds(e);l=l/this._playbackRate,t=this.toSeconds(t);const i=new Os({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(t+l),this._state.setStateAtTime("stopped",t+l,{implicitEnd:!0})),this._activeSources.add(i),this._loop&&Mr(y)?i.start(t,g):i.start(t,g,l-this.toSeconds(this.fadeOut))}_stop(t){const c=this.toSeconds(t);this._activeSources.forEach(e=>e.stop(c))}restart(t,c,e){return super.restart(t,c,e),this}_restart(t,c,e){this._stop(t),this._start(t,c,e)}seek(t,c){const e=this.toSeconds(c);if(this._state.getValueAtTime(e)==="started"){const g=this.toSeconds(t);this._stop(e),this._start(e,g)}return this}setLoopPoints(t,c){return this.loopStart=t,this.loopEnd=c,this}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this.buffer.loaded&&vn(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(c=>{c.loopStart=t})}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this.buffer.loaded&&vn(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(c=>{c.loopEnd=t})}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._loop}set loop(t){if(this._loop!==t&&(this._loop=t,this._activeSources.forEach(c=>{c.loop=t}),t)){const c=this._state.getNextState("stopped",this.now());c&&this._state.cancel(c.time)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t;const c=this.now(),e=this._state.getNextState("stopped",c);e&&e.implicitEnd&&(this._state.cancel(e.time),this._activeSources.forEach(g=>g.cancelStop())),this._activeSources.forEach(g=>{g.playbackRate.setValueAtTime(t,c)})}get reverse(){return this._buffer.reverse}set reverse(t){this._buffer.reverse=t}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(t=>t.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Fr([un(0)],Fs.prototype,"fadeIn",void 0);Fr([un(0)],Fs.prototype,"fadeOut",void 0);class on extends ut{constructor(){super($e(on.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new Qt({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const t=$e(on.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=t.attack,this.decay=t.decay,this.sustain=t.sustain,this.release=t.release,this.attackCurve=t.attackCurve,this.releaseCurve=t.releaseCurve,this.decayCurve=t.decayCurve}static getDefaults(){return Object.assign(ut.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(t,c){if(Wr(t))return t;{let e;for(e in ao)if(ao[e][c]===t)return e;return t}}_setCurve(t,c,e){if(Wr(e)&&Reflect.has(ao,e)){const g=ao[e];Mn(g)?t!=="_decayCurve"&&(this[t]=g[c]):this[t]=g}else if(Sr(e)&&t!=="_decayCurve")this[t]=e;else throw new Error("Envelope: invalid curve: "+e)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(t){this._setCurve("_attackCurve","In",t)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(t){this._setCurve("_releaseCurve","Out",t)}get decayCurve(){return this._decayCurve}set decayCurve(t){at(["linear","exponential"].some(c=>c===t),`Invalid envelope curve: ${t}`),this._decayCurve=t}triggerAttack(t,c=1){this.log("triggerAttack",t,c),t=this.toSeconds(t);let g=this.toSeconds(this.attack);const y=this.toSeconds(this.decay),l=this.getValueAtTime(t);if(l>0){const i=1/g;g=(1-l)/i}if(g<this.sampleTime)this._sig.cancelScheduledValues(t),this._sig.setValueAtTime(c,t);else if(this._attackCurve==="linear")this._sig.linearRampTo(c,g,t);else if(this._attackCurve==="exponential")this._sig.targetRampTo(c,g,t);else{this._sig.cancelAndHoldAtTime(t);let i=this._attackCurve;for(let r=1;r<i.length;r++)if(i[r-1]<=l&&l<=i[r]){i=this._attackCurve.slice(r),i[0]=l;break}this._sig.setValueCurveAtTime(i,t,g,c)}if(y&&this.sustain<1){const i=c*this.sustain,r=t+g;this.log("decay",r),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(i,y+r):this._sig.exponentialApproachValueAtTime(i,r,y)}return this}triggerRelease(t){this.log("triggerRelease",t),t=this.toSeconds(t);const c=this.getValueAtTime(t);if(c>0){const e=this.toSeconds(this.release);e<this.sampleTime?this._sig.setValueAtTime(0,t):this._releaseCurve==="linear"?this._sig.linearRampTo(0,e,t):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,e,t):(at(Sr(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(t),this._sig.setValueCurveAtTime(this._releaseCurve,t,e,c))}return this}getValueAtTime(t){return this._sig.getValueAtTime(t)}triggerAttackRelease(t,c,e=1){return c=this.toSeconds(c),this.triggerAttack(c,e),this.triggerRelease(c+this.toSeconds(t)),this}cancel(t){return this._sig.cancelScheduledValues(this.toSeconds(t)),this}connect(t,c=0,e=0){return Yi(this,t,c,e),this}asArray(t=1024){return Xt(this,void 0,void 0,function*(){const c=t/this.context.sampleRate,e=new Wi(1,c,this.context.sampleRate),g=this.toSeconds(this.attack)+this.toSeconds(this.decay),y=g+this.toSeconds(this.release),l=y*.1,i=y+l,r=new this.constructor(Object.assign(this.get(),{attack:c*this.toSeconds(this.attack)/i,decay:c*this.toSeconds(this.decay)/i,release:c*this.toSeconds(this.release)/i,context:e}));return r._sig.toDestination(),r.triggerAttackRelease(c*(g+l)/i,0),(yield e.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Fr([un(0)],on.prototype,"attack",void 0);Fr([un(0)],on.prototype,"decay",void 0);Fr([jc(0,1)],on.prototype,"sustain",void 0);Fr([un(0)],on.prototype,"release",void 0);const ao=(()=>{let t,c;const e=[];for(t=0;t<128;t++)e[t]=Math.sin(t/(128-1)*(Math.PI/2));const g=[],y=6.4;for(t=0;t<128-1;t++){c=t/(128-1);const s=Math.sin(c*(Math.PI*2)*y-Math.PI/2)+1;g[t]=s/10+c*.83}g[128-1]=1;const l=[],i=5;for(t=0;t<128;t++)l[t]=Math.ceil(t/(128-1)*i)/i;const r=[];for(t=0;t<128;t++)c=t/(128-1),r[t]=.5*(1-Math.cos(Math.PI*c));const a=[];for(t=0;t<128;t++){c=t/(128-1);const s=Math.pow(c,3)*4+.2,o=Math.cos(s*Math.PI*2*c);a[t]=Math.abs(o*(1-c))}function d(s){const o=new Array(s.length);for(let n=0;n<s.length;n++)o[n]=1-s[n];return o}function f(s){return s.slice(0).reverse()}return{bounce:{In:d(a),Out:a},cosine:{In:e,Out:f(e)},exponential:"exponential",linear:"linear",ripple:{In:g,Out:d(g)},sine:{In:r,Out:d(r)},step:{In:l,Out:d(l)}}})();class an extends ut{constructor(){super($e(an.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;const t=$e(an.getDefaults(),arguments);this._volume=this.output=new Rn({context:this.context,volume:t.volume}),this.volume=this._volume.volume,Nt(this,"volume")}static getDefaults(){return Object.assign(ut.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0)),this}_syncState(){let t=!1;return this._synced||(this._synced=!0,t=!0),t}_syncMethod(t,c){const e=this["_original_"+t]=this[t];this[t]=(...g)=>{const y=g[c],l=this.context.transport.schedule(i=>{g[c]=i,e.apply(this,g)},y);this._scheduledEvents.push(l)}}unsync(){return this._scheduledEvents.forEach(t=>this.context.transport.clear(t)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(t,c,e,g){const y=this.toSeconds(e),l=this.toSeconds(c);return this.triggerAttack(t,y,g),this.triggerRelease(y+l),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Ln extends an{constructor(){super($e(Ln.getDefaults(),arguments));const t=$e(Ln.getDefaults(),arguments);this.portamento=t.portamento,this.onsilence=t.onsilence}static getDefaults(){return Object.assign(an.getDefaults(),{detune:0,onsilence:xt,portamento:0})}triggerAttack(t,c,e=1){this.log("triggerAttack",t,c,e);const g=this.toSeconds(c);return this._triggerEnvelopeAttack(g,e),this.setNote(t,g),this}triggerRelease(t){this.log("triggerRelease",t);const c=this.toSeconds(t);return this._triggerEnvelopeRelease(c),this}setNote(t,c){const e=this.toSeconds(c),g=t instanceof jr?t.toFrequency():t;if(this.portamento>0&&this.getLevelAtTime(e)>.05){const y=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(g,y,e)}else this.frequency.setValueAtTime(g,e);return this}}Fr([un(0)],Ln.prototype,"portamento",void 0);class Qi extends on{constructor(){super($e(Qi.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new yr({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Qn extends Ln{constructor(){super($e(Qn.getDefaults(),arguments)),this.name="Synth";const t=$e(Qn.getDefaults(),arguments);this.oscillator=new Ns(Object.assign({context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)},t.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Qi(Object.assign({context:this.context},t.envelope)),this.oscillator.chain(this.envelope,this.output),Nt(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Ln.getDefaults(),{envelope:Object.assign(gi(on.getDefaults(),Object.keys(ut.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(gi(Ns.getDefaults(),[...Object.keys(Tr.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(t,c){if(this.envelope.triggerAttack(t,c),this.oscillator.start(t),this.envelope.sustain===0){const e=this.toSeconds(this.envelope.attack),g=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+e+g)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Us extends Qn{constructor(){super($e(Us.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const t=$e(Us.getDefaults(),arguments);this.pitchDecay=t.pitchDecay,this.octaves=t.octaves,Nt(this,["oscillator","envelope"])}static getDefaults(){return kn(Ln.getDefaults(),Qn.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(t,c){const e=this.toSeconds(c),g=this.toFrequency(t instanceof jr?t.toFrequency():t),y=g*this.octaves;return this.oscillator.frequency.setValueAtTime(y,e),this.oscillator.frequency.exponentialRampToValueAtTime(g,e+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Fr([jc(0)],Us.prototype,"octaves",void 0);Fr([un(0)],Us.prototype,"pitchDecay",void 0);const Sc=new Set;function Ki(b){Sc.add(b)}function Tc(b,t){const c=`registerProcessor("${b}", ${t})`;Sc.add(c)}const sy=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Ki(sy);const oy=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Ki(oy);const iy=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Ki(iy);const ay="feedback-comb-filter",ly=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;Tc(ay,ly);class Bs extends an{constructor(){super($e(Bs.getDefaults(),arguments,["voice","options"])),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0;const t=$e(Bs.getDefaults(),arguments,["voice","options"]);at(!bn(t.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const c=t.voice.getDefaults();this.options=Object.assign(c,t.options),this.voice=t.voice,this.maxPolyphony=t.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const e=this._voices.indexOf(this._dummyVoice);this._voices.splice(e,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(an.getDefaults(),{maxPolyphony:32,options:{},voice:Qn})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(t){this._availableVoices.push(t);const c=this._activeVoices.findIndex(e=>e.voice===t);this._activeVoices.splice(c,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const t=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return t.connect(this.output),this._voices.push(t),t}else qi("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const t=this._availableVoices.shift(),c=this._voices.indexOf(t);this._voices.splice(c,1),this.context.isOffline||t.dispose()}}_triggerAttack(t,c,e){t.forEach(g=>{const y=new Lo(this.context,g).toMidi(),l=this._getNextAvailableVoice();l&&(l.triggerAttack(g,c,e),this._activeVoices.push({midi:y,voice:l,released:!1}),this.log("triggerAttack",g,c))})}_triggerRelease(t,c){t.forEach(e=>{const g=new Lo(this.context,e).toMidi(),y=this._activeVoices.find(({midi:l,released:i})=>l===g&&!i);y&&(y.voice.triggerRelease(c),y.released=!0,this.log("triggerRelease",e,c))})}_scheduleEvent(t,c,e,g){at(!this.disposed,"Synth was already disposed"),e<=this.now()?t==="attack"?this._triggerAttack(c,e,g):this._triggerRelease(c,e):this.context.setTimeout(()=>{this._scheduleEvent(t,c,e,g)},e-this.now())}triggerAttack(t,c,e){Array.isArray(t)||(t=[t]);const g=this.toSeconds(c);return this._scheduleEvent("attack",t,g,e),this}triggerRelease(t,c){Array.isArray(t)||(t=[t]);const e=this.toSeconds(c);return this._scheduleEvent("release",t,e),this}triggerAttackRelease(t,c,e,g){const y=this.toSeconds(e);if(this.triggerAttack(t,y,g),Sr(c)){at(Sr(t),"If the duration is an array, the notes must also be an array"),t=t;for(let l=0;l<t.length;l++){const i=c[Math.min(l,c.length-1)],r=this.toSeconds(i);at(r>0,"The duration must be greater than 0"),this.triggerRelease(t[l],y+r)}}else{const l=this.toSeconds(c);at(l>0,"The duration must be greater than 0"),this.triggerRelease(t,y+l)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}set(t){const c=gi(t,["onsilence","context"]);return this.options=kn(this.options,c),this._voices.forEach(e=>e.set(c)),this._dummyVoice.set(c),this}get(){return this._dummyVoice.get()}releaseAll(t){const c=this.toSeconds(t);return this._activeVoices.forEach(({voice:e})=>{e.triggerRelease(c)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(t=>t.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class Vs extends an{constructor(){super($e(Vs.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const t=$e(Vs.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),c={};Object.keys(t.urls).forEach(e=>{const g=parseInt(e,10);if(at(io(e)||bn(g)&&isFinite(g),`url key is neither a note or midi pitch: ${e}`),io(e)){const y=new jr(this.context,e).toMidi();c[y]=t.urls[e]}else bn(g)&&isFinite(g)&&(c[g]=t.urls[g])}),this._buffers=new $i({urls:c,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.attack=t.attack,this.release=t.release,this.curve=t.curve,this._buffers.loaded&&Promise.resolve().then(t.onload)}static getDefaults(){return Object.assign(an.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:xt,onerror:xt,release:.1,urls:{}})}_findClosest(t){let e=0;for(;e<96;){if(this._buffers.has(t+e))return-e;if(this._buffers.has(t-e))return e;e++}throw new Error(`No available buffers for note: ${t}`)}triggerAttack(t,c,e=1){return this.log("triggerAttack",t,c,e),Array.isArray(t)||(t=[t]),t.forEach(g=>{const y=wc(new jr(this.context,g).toFrequency()),l=Math.round(y),i=y-l,r=this._findClosest(l),a=l-r,d=this._buffers.get(a),f=_c(r+i),s=new Os({url:d,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:f}).connect(this.output);s.start(c,0,d.duration/f,e),Sr(this._activeSources.get(l))||this._activeSources.set(l,[]),this._activeSources.get(l).push(s),s.onended=()=>{if(this._activeSources&&this._activeSources.has(l)){const o=this._activeSources.get(l),n=o.indexOf(s);n!==-1&&o.splice(n,1)}}}),this}triggerRelease(t,c){return this.log("triggerRelease",t,c),Array.isArray(t)||(t=[t]),t.forEach(e=>{const g=new jr(this.context,e).toMidi();if(this._activeSources.has(g)&&this._activeSources.get(g).length){const y=this._activeSources.get(g);c=this.toSeconds(c),y.forEach(l=>{l.stop(c)}),this._activeSources.set(g,[])}}),this}releaseAll(t){const c=this.toSeconds(t);return this._activeSources.forEach(e=>{for(;e.length;)e.shift().stop(c)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(t,c,e,g=1){const y=this.toSeconds(e);return this.triggerAttack(t,y,g),Sr(c)?(at(Sr(t),"notes must be an array when duration is array"),t.forEach((l,i)=>{const r=c[Math.min(i,c.length-1)];this.triggerRelease(l,y+this.toSeconds(r))})):this.triggerRelease(t,y+this.toSeconds(c)),this}add(t,c,e){if(at(io(t)||isFinite(t),`note must be a pitch or midi: ${t}`),io(t)){const g=new jr(this.context,t).toMidi();this._buffers.add(g,c,e)}else this._buffers.add(t,c,e);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(t=>{t.forEach(c=>c.dispose())}),this._activeSources.clear(),this}}Fr([un(0)],Vs.prototype,"attack",void 0);Fr([un(0)],Vs.prototype,"release",void 0);class Fo extends ut{constructor(){super(Object.assign($e(Fo.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const t=$e(Fo.getDefaults(),arguments,["pan"]);this.pan=new Ot({context:this.context,param:this._panner.pan,value:t.pan,minValue:-1,maxValue:1}),this._panner.channelCount=t.channelCount,this._panner.channelCountMode="explicit",Nt(this,"pan")}static getDefaults(){return Object.assign(ut.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const cy="bit-crusher",uy=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;Tc(cy,uy);class Ut extends ut{constructor(){super($e(Ut.getDefaults(),arguments,["solo"])),this.name="Solo";const t=$e(Ut.getDefaults(),arguments,["solo"]);this.input=this.output=new yr({context:this.context}),Ut._allSolos.has(this.context)||Ut._allSolos.set(this.context,new Set),Ut._allSolos.get(this.context).add(this),this.solo=t.solo}static getDefaults(){return Object.assign(ut.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(t){t?this._addSolo():this._removeSolo(),Ut._allSolos.get(this.context).forEach(c=>c._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Ut._soloed.has(this.context)||Ut._soloed.set(this.context,new Set),Ut._soloed.get(this.context).add(this)}_removeSolo(){Ut._soloed.has(this.context)&&Ut._soloed.get(this.context).delete(this)}_isSoloed(){return Ut._soloed.has(this.context)&&Ut._soloed.get(this.context).has(this)}_noSolos(){return!Ut._soloed.has(this.context)||Ut._soloed.has(this.context)&&Ut._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Ut._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Ut._allSolos=new Map;Ut._soloed=new Map;class Uo extends ut{constructor(){super($e(Uo.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const t=$e(Uo.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new Fo({context:this.context,pan:t.pan,channelCount:t.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Rn({context:this.context,volume:t.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=t.mute,Nt(this,["pan","volume"])}static getDefaults(){return Object.assign(ut.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class jn extends ut{constructor(){super($e(jn.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const t=$e(jn.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new Ut({solo:t.solo,context:this.context}),this._panVol=this.output=new Uo({context:this.context,pan:t.pan,volume:t.volume,mute:t.mute,channelCount:t.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Nt(this,["pan","volume"])}static getDefaults(){return Object.assign(ut.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(t){this._solo.solo=t}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(t){this._panVol.mute=t}_getBus(t){return jn.buses.has(t)||jn.buses.set(t,new yr({context:this.context})),jn.buses.get(t)}send(t,c=0){const e=this._getBus(t),g=new yr({context:this.context,units:"decibels",gain:c});return this.connect(g),g.connect(e),g}receive(t){return this._getBus(t).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}jn.buses=new Map;class dy extends ut{constructor(){super(...arguments),this.name="Listener",this.positionX=new Ot({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Ot({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Ot({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Ot({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Ot({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Ot({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Ot({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Ot({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Ot({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(ut.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Ho(b=>{b.listener=new dy({context:b})});Xo(b=>{b.listener.dispose()});Pr().transport;Pr().destination;Pr().destination;Pr().listener;Pr().draw;Pr();class hy{constructor(t,c,e,g,y,l){this.x=t,this.y=c,this.width=e,this.height=g,this.note=y,this.colour=l,this.playing=!1,this.fingersOnNote=new Set,this.oscillator=new Bs().toDestination()}draw(t){t.fill(255),t.stroke(0),t.rect(this.x,this.y,this.width,this.height),t.fill(0),(this.note[0]==="C"||this.note[0]==="D"||this.note[0]==="F"||this.note[0]==="G"||this.note[0]==="A")&&t.rect(this.x+this.width-25,0,25,250,2,0,0,0),(this.note[0]==="D"||this.note[0]==="E"||this.note[0]==="G"||this.note[0]==="A"||this.note[0]==="B")&&t.rect(this.x,0,25,250,0,0,0,5)}detectFingers(t){for(let c in t){const e=t[c][0][0],g=t[c][0][1];e-10>this.x&&e+10<this.x+this.width&&g-10>this.y&&g+10<this.y+this.height?this.fingersOnNote.add(c):this.fingersOnNote.delete(c)}}}class Ec{constructor(){this.keys=[],this.notes=["C4","D4","E4","F4","G4","A4","B4","C4"],this.notesToPlay=new Set,this.notesPlaying=new Set,this.notesToRelease=new Set,this.createKeys()}createKeys(){for(let t=0;t<this.notes.length;t++){let c=new hy(t*80,0,80,480,this.notes[t],"white");this.keys.push(c)}}drawKeys(t){this.keys.forEach(c=>{c.draw(t)})}playNotes(){this.notesToPlay.size>0&&(this.keys.forEach(t=>{this.notesToPlay.has(t.note)&&t.oscillator.triggerAttack(t.note)}),this.notesToPlay.forEach(t=>{this.notesPlaying.add(t)}),this.notesToPlay.clear())}releaseNotes(){this.notesToRelease.size>0&&(this.keys.forEach(t=>{this.notesToRelease.has(t.note)&&t.oscillator.triggerRelease(t.note)}),this.notesToRelease.clear())}checkNotesToPlay(t){this.keys.forEach(c=>{this.notesPlaying.has(c.note)||t.forEach(e=>{c.fingersOnNote.has(e)&&this.notesToPlay.add(c.note)})}),this.playNotes()}checkNotesReleased(t){this.keys.forEach(c=>{let e=!0;this.notesPlaying.has(c.note)&&t.forEach(g=>{c.fingersOnNote.has(g)&&(e=!1)}),e&&(this.notesPlaying.delete(c.note),this.notesToRelease.add(c.note))}),this.releaseNotes()}}const Hr=Object.create(null);Hr.open="0";Hr.close="1";Hr.ping="2";Hr.pong="3";Hr.message="4";Hr.upgrade="5";Hr.noop="6";const go=Object.create(null);Object.keys(Hr).forEach(b=>{go[Hr[b]]=b});const fy={type:"error",data:"parser error"},py=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",my=typeof ArrayBuffer=="function",yy=b=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(b):b&&b.buffer instanceof ArrayBuffer,Mc=({type:b,data:t},c,e)=>py&&t instanceof Blob?c?e(t):il(t,e):my&&(t instanceof ArrayBuffer||yy(t))?c?e(t):il(new Blob([t]),e):e(Hr[b]+(t||"")),il=(b,t)=>{const c=new FileReader;return c.onload=function(){const e=c.result.split(",")[1];t("b"+(e||""))},c.readAsDataURL(b)},al="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_s=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let b=0;b<al.length;b++)_s[al.charCodeAt(b)]=b;const gy=b=>{let t=b.length*.75,c=b.length,e,g=0,y,l,i,r;b[b.length-1]==="="&&(t--,b[b.length-2]==="="&&t--);const a=new ArrayBuffer(t),d=new Uint8Array(a);for(e=0;e<c;e+=4)y=_s[b.charCodeAt(e)],l=_s[b.charCodeAt(e+1)],i=_s[b.charCodeAt(e+2)],r=_s[b.charCodeAt(e+3)],d[g++]=y<<2|l>>4,d[g++]=(l&15)<<4|i>>2,d[g++]=(i&3)<<6|r&63;return a},vy=typeof ArrayBuffer=="function",Cc=(b,t)=>{if(typeof b!="string")return{type:"message",data:kc(b,t)};const c=b.charAt(0);return c==="b"?{type:"message",data:by(b.substring(1),t)}:go[c]?b.length>1?{type:go[c],data:b.substring(1)}:{type:go[c]}:fy},by=(b,t)=>{if(vy){const c=gy(b);return kc(c,t)}else return{base64:!0,data:b}},kc=(b,t)=>{switch(t){case"blob":return b instanceof ArrayBuffer?new Blob([b]):b;case"arraybuffer":default:return b}},Ac=String.fromCharCode(30),_y=(b,t)=>{const c=b.length,e=new Array(c);let g=0;b.forEach((y,l)=>{Mc(y,!1,i=>{e[l]=i,++g===c&&t(e.join(Ac))})})},wy=(b,t)=>{const c=b.split(Ac),e=[];for(let g=0;g<c.length;g++){const y=Cc(c[g],t);if(e.push(y),y.type==="error")break}return e},Oc=4;function Yt(b){if(b)return xy(b)}function xy(b){for(var t in Yt.prototype)b[t]=Yt.prototype[t];return b}Yt.prototype.on=Yt.prototype.addEventListener=function(b,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+b]=this._callbacks["$"+b]||[]).push(t),this};Yt.prototype.once=function(b,t){function c(){this.off(b,c),t.apply(this,arguments)}return c.fn=t,this.on(b,c),this};Yt.prototype.off=Yt.prototype.removeListener=Yt.prototype.removeAllListeners=Yt.prototype.removeEventListener=function(b,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var c=this._callbacks["$"+b];if(!c)return this;if(arguments.length==1)return delete this._callbacks["$"+b],this;for(var e,g=0;g<c.length;g++)if(e=c[g],e===t||e.fn===t){c.splice(g,1);break}return c.length===0&&delete this._callbacks["$"+b],this};Yt.prototype.emit=function(b){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),c=this._callbacks["$"+b],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(c){c=c.slice(0);for(var e=0,g=c.length;e<g;++e)c[e].apply(this,t)}return this};Yt.prototype.emitReserved=Yt.prototype.emit;Yt.prototype.listeners=function(b){return this._callbacks=this._callbacks||{},this._callbacks["$"+b]||[]};Yt.prototype.hasListeners=function(b){return!!this.listeners(b).length};const yn=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function Rc(b,...t){return t.reduce((c,e)=>(b.hasOwnProperty(e)&&(c[e]=b[e]),c),{})}const jy=setTimeout,Sy=clearTimeout;function Qo(b,t){t.useNativeTimers?(b.setTimeoutFn=jy.bind(yn),b.clearTimeoutFn=Sy.bind(yn)):(b.setTimeoutFn=setTimeout.bind(yn),b.clearTimeoutFn=clearTimeout.bind(yn))}const Ty=1.33;function Ey(b){return typeof b=="string"?My(b):Math.ceil((b.byteLength||b.size)*Ty)}function My(b){let t=0,c=0;for(let e=0,g=b.length;e<g;e++)t=b.charCodeAt(e),t<128?c+=1:t<2048?c+=2:t<55296||t>=57344?c+=3:(e++,c+=4);return c}class Cy extends Error{constructor(t,c,e){super(t),this.description=c,this.context=e,this.type="TransportError"}}class Pc extends Yt{constructor(t){super(),this.writable=!1,Qo(this,t),this.opts=t,this.query=t.query,this.readyState="",this.socket=t.socket}onError(t,c,e){return super.emitReserved("error",new Cy(t,c,e)),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const c=Cc(t,this.socket.binaryType);this.onPacket(c)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}}const Lc="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),_i=64,ky={};let ll=0,lo=0,cl;function ul(b){let t="";do t=Lc[b%_i]+t,b=Math.floor(b/_i);while(b>0);return t}function Ic(){const b=ul(+new Date);return b!==cl?(ll=0,cl=b):b+"."+ul(ll++)}for(;lo<_i;lo++)ky[Lc[lo]]=lo;function Dc(b){let t="";for(let c in b)b.hasOwnProperty(c)&&(t.length&&(t+="&"),t+=encodeURIComponent(c)+"="+encodeURIComponent(b[c]));return t}function Ay(b){let t={},c=b.split("&");for(let e=0,g=c.length;e<g;e++){let y=c[e].split("=");t[decodeURIComponent(y[0])]=decodeURIComponent(y[1])}return t}let Nc=!1;try{Nc=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Oy=Nc;function Fc(b){const t=b.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Oy))return new XMLHttpRequest}catch{}if(!t)try{return new yn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Ry(){}const Py=function(){return new Fc({xdomain:!1}).responseType!=null}();class Ly extends Pc{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const e=location.protocol==="https:";let g=location.port;g||(g=e?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||g!==t.port,this.xs=t.secure!==e}const c=t&&t.forceBase64;this.supportsBinary=Py&&!c}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const c=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let e=0;this.polling&&(e++,this.once("pollComplete",function(){--e||c()})),this.writable||(e++,this.once("drain",function(){--e||c()}))}else c()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const c=e=>{if(this.readyState==="opening"&&e.type==="open"&&this.onOpen(),e.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)};wy(t,this.socket.binaryType).forEach(c),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,_y(t,c=>{this.doWrite(c,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let t=this.query||{};const c=this.opts.secure?"https":"http";let e="";this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=Ic()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.opts.port&&(c==="https"&&Number(this.opts.port)!==443||c==="http"&&Number(this.opts.port)!==80)&&(e=":"+this.opts.port);const g=Dc(t),y=this.opts.hostname.indexOf(":")!==-1;return c+"://"+(y?"["+this.opts.hostname+"]":this.opts.hostname)+e+this.opts.path+(g.length?"?"+g:"")}request(t={}){return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new nn(this.uri(),t)}doWrite(t,c){const e=this.request({method:"POST",data:t});e.on("success",c),e.on("error",(g,y)=>{this.onError("xhr post error",g,y)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(c,e)=>{this.onError("xhr poll error",c,e)}),this.pollXhr=t}}let nn=class extends Yt{constructor(t,c){super(),Qo(this,c),this.opts=c,this.method=c.method||"GET",this.uri=t,this.async=c.async!==!1,this.data=c.data!==void 0?c.data:null,this.create()}create(){const t=Rc(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;const c=this.xhr=new Fc(t);try{c.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){c.setDisableHeaderCheck&&c.setDisableHeaderCheck(!0);for(let e in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(e)&&c.setRequestHeader(e,this.opts.extraHeaders[e])}}catch{}if(this.method==="POST")try{c.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{c.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in c&&(c.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(c.timeout=this.opts.requestTimeout),c.onreadystatechange=()=>{c.readyState===4&&(c.status===200||c.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof c.status=="number"?c.status:0)},0))},c.send(this.data)}catch(e){this.setTimeoutFn(()=>{this.onError(e)},0);return}typeof document<"u"&&(this.index=nn.requestsCount++,nn.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Ry,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete nn.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};nn.requestsCount=0;nn.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",dl);else if(typeof addEventListener=="function"){const b="onpagehide"in yn?"pagehide":"unload";addEventListener(b,dl,!1)}}function dl(){for(let b in nn.requests)nn.requests.hasOwnProperty(b)&&nn.requests[b].abort()}const Uc=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,c)=>c(t,0))(),co=yn.WebSocket||yn.MozWebSocket,hl=!0,Iy="arraybuffer",fl=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Dy extends Pc{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),c=this.opts.protocols,e=fl?{}:Rc(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(e.headers=this.opts.extraHeaders);try{this.ws=hl&&!fl?c?new co(t,c):new co(t):new co(t,c,e)}catch(g){return this.emitReserved("error",g)}this.ws.binaryType=this.socket.binaryType||Iy,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let c=0;c<t.length;c++){const e=t[c],g=c===t.length-1;Mc(e,this.supportsBinary,y=>{const l={};try{hl&&this.ws.send(y)}catch{}g&&Uc(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let t=this.query||{};const c=this.opts.secure?"wss":"ws";let e="";this.opts.port&&(c==="wss"&&Number(this.opts.port)!==443||c==="ws"&&Number(this.opts.port)!==80)&&(e=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=Ic()),this.supportsBinary||(t.b64=1);const g=Dc(t),y=this.opts.hostname.indexOf(":")!==-1;return c+"://"+(y?"["+this.opts.hostname+"]":this.opts.hostname)+e+this.opts.path+(g.length?"?"+g:"")}check(){return!!co}}const Ny={websocket:Dy,polling:Ly},Fy=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Uy=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function wi(b){const t=b,c=b.indexOf("["),e=b.indexOf("]");c!=-1&&e!=-1&&(b=b.substring(0,c)+b.substring(c,e).replace(/:/g,";")+b.substring(e,b.length));let g=Fy.exec(b||""),y={},l=14;for(;l--;)y[Uy[l]]=g[l]||"";return c!=-1&&e!=-1&&(y.source=t,y.host=y.host.substring(1,y.host.length-1).replace(/;/g,":"),y.authority=y.authority.replace("[","").replace("]","").replace(/;/g,":"),y.ipv6uri=!0),y.pathNames=By(y,y.path),y.queryKey=Vy(y,y.query),y}function By(b,t){const c=/\/{2,9}/g,e=t.replace(c,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&e.splice(0,1),t.slice(-1)=="/"&&e.splice(e.length-1,1),e}function Vy(b,t){const c={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,g,y){g&&(c[g]=y)}),c}let Sn=class extends Yt{constructor(t,c={}){super(),t&&typeof t=="object"&&(c=t,t=null),t?(t=wi(t),c.hostname=t.host,c.secure=t.protocol==="https"||t.protocol==="wss",c.port=t.port,t.query&&(c.query=t.query)):c.host&&(c.hostname=wi(c.host).host),Qo(this,c),this.secure=c.secure!=null?c.secure:typeof location<"u"&&location.protocol==="https:",c.hostname&&!c.port&&(c.port=this.secure?"443":"80"),this.hostname=c.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=c.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=c.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},c),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=Ay(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const c=Object.assign({},this.opts.query);c.EIO=Oc,c.transport=t,this.id&&(c.sid=this.id);const e=Object.assign({},this.opts.transportOptions[t],this.opts,{query:c,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Ny[t](e)}open(){let t;if(this.opts.rememberUpgrade&&Sn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",c=>this.onClose("transport close",c))}probe(t){let c=this.createTransport(t),e=!1;Sn.priorWebsocketSuccess=!1;const g=()=>{e||(c.send([{type:"ping",data:"probe"}]),c.once("packet",f=>{if(!e)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",c),!c)return;Sn.priorWebsocketSuccess=c.name==="websocket",this.transport.pause(()=>{e||this.readyState!=="closed"&&(d(),this.setTransport(c),c.send([{type:"upgrade"}]),this.emitReserved("upgrade",c),c=null,this.upgrading=!1,this.flush())})}else{const s=new Error("probe error");s.transport=c.name,this.emitReserved("upgradeError",s)}}))};function y(){e||(e=!0,d(),c.close(),c=null)}const l=f=>{const s=new Error("probe error: "+f);s.transport=c.name,y(),this.emitReserved("upgradeError",s)};function i(){l("transport closed")}function r(){l("socket closed")}function a(f){c&&f.name!==c.name&&y()}const d=()=>{c.removeListener("open",g),c.removeListener("error",l),c.removeListener("close",i),this.off("close",r),this.off("upgrading",a)};c.once("open",g),c.once("error",l),c.once("close",i),this.once("close",r),this.once("upgrading",a),c.open()}onOpen(){if(this.readyState="open",Sn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){let t=0;const c=this.upgrades.length;for(;t<c;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const c=new Error("server error");c.code=t.data,this.onError(c);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let c=1;for(let e=0;e<this.writeBuffer.length;e++){const g=this.writeBuffer[e].data;if(g&&(c+=Ey(g)),e>0&&c>this.maxPayload)return this.writeBuffer.slice(0,e);c+=2}return this.writeBuffer}write(t,c,e){return this.sendPacket("message",t,c,e),this}send(t,c,e){return this.sendPacket("message",t,c,e),this}sendPacket(t,c,e,g){if(typeof c=="function"&&(g=c,c=void 0),typeof e=="function"&&(g=e,e=null),this.readyState==="closing"||this.readyState==="closed")return;e=e||{},e.compress=e.compress!==!1;const y={type:t,data:c,options:e};this.emitReserved("packetCreate",y),this.writeBuffer.push(y),g&&this.once("flush",g),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},c=()=>{this.off("upgrade",c),this.off("upgradeError",c),t()},e=()=>{this.once("upgrade",c),this.once("upgradeError",c)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?e():t()}):this.upgrading?e():t()),this}onError(t){Sn.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,c){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,c),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const c=[];let e=0;const g=t.length;for(;e<g;e++)~this.transports.indexOf(t[e])&&c.push(t[e]);return c}};Sn.protocol=Oc;function Gy(b,t="",c){let e=b;c=c||typeof location<"u"&&location,b==null&&(b=c.protocol+"//"+c.host),typeof b=="string"&&(b.charAt(0)==="/"&&(b.charAt(1)==="/"?b=c.protocol+b:b=c.host+b),/^(https?|wss?):\/\//.test(b)||(typeof c<"u"?b=c.protocol+"//"+b:b="https://"+b),e=wi(b)),e.port||(/^(http|ws)$/.test(e.protocol)?e.port="80":/^(http|ws)s$/.test(e.protocol)&&(e.port="443")),e.path=e.path||"/";const y=e.host.indexOf(":")!==-1?"["+e.host+"]":e.host;return e.id=e.protocol+"://"+y+":"+e.port+t,e.href=e.protocol+"://"+y+(c&&c.port===e.port?"":":"+e.port),e}const qy=typeof ArrayBuffer=="function",zy=b=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(b):b.buffer instanceof ArrayBuffer,Bc=Object.prototype.toString,Wy=typeof Blob=="function"||typeof Blob<"u"&&Bc.call(Blob)==="[object BlobConstructor]",Hy=typeof File=="function"||typeof File<"u"&&Bc.call(File)==="[object FileConstructor]";function Ji(b){return qy&&(b instanceof ArrayBuffer||zy(b))||Wy&&b instanceof Blob||Hy&&b instanceof File}function vo(b,t){if(!b||typeof b!="object")return!1;if(Array.isArray(b)){for(let c=0,e=b.length;c<e;c++)if(vo(b[c]))return!0;return!1}if(Ji(b))return!0;if(b.toJSON&&typeof b.toJSON=="function"&&arguments.length===1)return vo(b.toJSON(),!0);for(const c in b)if(Object.prototype.hasOwnProperty.call(b,c)&&vo(b[c]))return!0;return!1}function Xy(b){const t=[],c=b.data,e=b;return e.data=xi(c,t),e.attachments=t.length,{packet:e,buffers:t}}function xi(b,t){if(!b)return b;if(Ji(b)){const c={_placeholder:!0,num:t.length};return t.push(b),c}else if(Array.isArray(b)){const c=new Array(b.length);for(let e=0;e<b.length;e++)c[e]=xi(b[e],t);return c}else if(typeof b=="object"&&!(b instanceof Date)){const c={};for(const e in b)Object.prototype.hasOwnProperty.call(b,e)&&(c[e]=xi(b[e],t));return c}return b}function Yy(b,t){return b.data=ji(b.data,t),delete b.attachments,b}function ji(b,t){if(!b)return b;if(b&&b._placeholder===!0){if(typeof b.num=="number"&&b.num>=0&&b.num<t.length)return t[b.num];throw new Error("illegal attachments")}else if(Array.isArray(b))for(let c=0;c<b.length;c++)b[c]=ji(b[c],t);else if(typeof b=="object")for(const c in b)Object.prototype.hasOwnProperty.call(b,c)&&(b[c]=ji(b[c],t));return b}const $y=5;var dt;(function(b){b[b.CONNECT=0]="CONNECT",b[b.DISCONNECT=1]="DISCONNECT",b[b.EVENT=2]="EVENT",b[b.ACK=3]="ACK",b[b.CONNECT_ERROR=4]="CONNECT_ERROR",b[b.BINARY_EVENT=5]="BINARY_EVENT",b[b.BINARY_ACK=6]="BINARY_ACK"})(dt||(dt={}));class Zy{constructor(t){this.replacer=t}encode(t){return(t.type===dt.EVENT||t.type===dt.ACK)&&vo(t)?this.encodeAsBinary({type:t.type===dt.EVENT?dt.BINARY_EVENT:dt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let c=""+t.type;return(t.type===dt.BINARY_EVENT||t.type===dt.BINARY_ACK)&&(c+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(c+=t.nsp+","),t.id!=null&&(c+=t.id),t.data!=null&&(c+=JSON.stringify(t.data,this.replacer)),c}encodeAsBinary(t){const c=Xy(t),e=this.encodeAsString(c.packet),g=c.buffers;return g.unshift(e),g}}class ea extends Yt{constructor(t){super(),this.reviver=t}add(t){let c;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");c=this.decodeString(t);const e=c.type===dt.BINARY_EVENT;e||c.type===dt.BINARY_ACK?(c.type=e?dt.EVENT:dt.ACK,this.reconstructor=new Qy(c),c.attachments===0&&super.emitReserved("decoded",c)):super.emitReserved("decoded",c)}else if(Ji(t)||t.base64)if(this.reconstructor)c=this.reconstructor.takeBinaryData(t),c&&(this.reconstructor=null,super.emitReserved("decoded",c));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let c=0;const e={type:Number(t.charAt(0))};if(dt[e.type]===void 0)throw new Error("unknown packet type "+e.type);if(e.type===dt.BINARY_EVENT||e.type===dt.BINARY_ACK){const y=c+1;for(;t.charAt(++c)!=="-"&&c!=t.length;);const l=t.substring(y,c);if(l!=Number(l)||t.charAt(c)!=="-")throw new Error("Illegal attachments");e.attachments=Number(l)}if(t.charAt(c+1)==="/"){const y=c+1;for(;++c&&!(t.charAt(c)===","||c===t.length););e.nsp=t.substring(y,c)}else e.nsp="/";const g=t.charAt(c+1);if(g!==""&&Number(g)==g){const y=c+1;for(;++c;){const l=t.charAt(c);if(l==null||Number(l)!=l){--c;break}if(c===t.length)break}e.id=Number(t.substring(y,c+1))}if(t.charAt(++c)){const y=this.tryParse(t.substr(c));if(ea.isPayloadValid(e.type,y))e.data=y;else throw new Error("invalid payload")}return e}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,c){switch(t){case dt.CONNECT:return typeof c=="object";case dt.DISCONNECT:return c===void 0;case dt.CONNECT_ERROR:return typeof c=="string"||typeof c=="object";case dt.EVENT:case dt.BINARY_EVENT:return Array.isArray(c)&&c.length>0;case dt.ACK:case dt.BINARY_ACK:return Array.isArray(c)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Qy{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const c=Yy(this.reconPack,this.buffers);return this.finishedReconstruction(),c}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Ky=Object.freeze(Object.defineProperty({__proto__:null,protocol:$y,get PacketType(){return dt},Encoder:Zy,Decoder:ea},Symbol.toStringTag,{value:"Module"}));function Or(b,t,c){return b.on(t,c),function(){b.off(t,c)}}const Jy=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Vc extends Yt{constructor(t,c,e){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=c,e&&e.auth&&(this.auth=e.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Or(t,"open",this.onopen.bind(this)),Or(t,"packet",this.onpacket.bind(this)),Or(t,"error",this.onerror.bind(this)),Or(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...c){if(Jy.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');c.unshift(t);const e={type:dt.EVENT,data:c};if(e.options={},e.options.compress=this.flags.compress!==!1,typeof c[c.length-1]=="function"){const l=this.ids++,i=c.pop();this._registerAckCallback(l,i),e.id=l}const g=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!g||!this.connected)||(this.connected?(this.notifyOutgoingListeners(e),this.packet(e)):this.sendBuffer.push(e)),this.flags={},this}_registerAckCallback(t,c){const e=this.flags.timeout;if(e===void 0){this.acks[t]=c;return}const g=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let y=0;y<this.sendBuffer.length;y++)this.sendBuffer[y].id===t&&this.sendBuffer.splice(y,1);c.call(this,new Error("operation has timed out"))},e);this.acks[t]=(...y)=>{this.io.clearTimeoutFn(g),c.apply(this,[null,...y])}}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this.packet({type:dt.CONNECT,data:t})}):this.packet({type:dt.CONNECT,data:this.auth})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,c){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,c)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case dt.CONNECT:if(t.data&&t.data.sid){const g=t.data.sid;this.onconnect(g)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case dt.EVENT:case dt.BINARY_EVENT:this.onevent(t);break;case dt.ACK:case dt.BINARY_ACK:this.onack(t);break;case dt.DISCONNECT:this.ondisconnect();break;case dt.CONNECT_ERROR:this.destroy();const e=new Error(t.data.message);e.data=t.data.data,this.emitReserved("connect_error",e);break}}onevent(t){const c=t.data||[];t.id!=null&&c.push(this.ack(t.id)),this.connected?this.emitEvent(c):this.receiveBuffer.push(Object.freeze(c))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const c=this._anyListeners.slice();for(const e of c)e.apply(this,t)}super.emit.apply(this,t)}ack(t){const c=this;let e=!1;return function(...g){e||(e=!0,c.packet({type:dt.ACK,id:t,data:g}))}}onack(t){const c=this.acks[t.id];typeof c=="function"&&(c.apply(this,t.data),delete this.acks[t.id])}onconnect(t){this.id=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:dt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const c=this._anyListeners;for(let e=0;e<c.length;e++)if(t===c[e])return c.splice(e,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const c=this._anyOutgoingListeners;for(let e=0;e<c.length;e++)if(t===c[e])return c.splice(e,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const c=this._anyOutgoingListeners.slice();for(const e of c)e.apply(this,t.data)}}}function ls(b){b=b||{},this.ms=b.min||100,this.max=b.max||1e4,this.factor=b.factor||2,this.jitter=b.jitter>0&&b.jitter<=1?b.jitter:0,this.attempts=0}ls.prototype.duration=function(){var b=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),c=Math.floor(t*this.jitter*b);b=Math.floor(t*10)&1?b+c:b-c}return Math.min(b,this.max)|0};ls.prototype.reset=function(){this.attempts=0};ls.prototype.setMin=function(b){this.ms=b};ls.prototype.setMax=function(b){this.max=b};ls.prototype.setJitter=function(b){this.jitter=b};class Si extends Yt{constructor(t,c){var e;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(c=t,t=void 0),c=c||{},c.path=c.path||"/socket.io",this.opts=c,Qo(this,c),this.reconnection(c.reconnection!==!1),this.reconnectionAttempts(c.reconnectionAttempts||1/0),this.reconnectionDelay(c.reconnectionDelay||1e3),this.reconnectionDelayMax(c.reconnectionDelayMax||5e3),this.randomizationFactor((e=c.randomizationFactor)!==null&&e!==void 0?e:.5),this.backoff=new ls({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(c.timeout==null?2e4:c.timeout),this._readyState="closed",this.uri=t;const g=c.parser||Ky;this.encoder=new g.Encoder,this.decoder=new g.Decoder,this._autoConnect=c.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var c;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(c=this.backoff)===null||c===void 0||c.setMin(t),this)}randomizationFactor(t){var c;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(c=this.backoff)===null||c===void 0||c.setJitter(t),this)}reconnectionDelayMax(t){var c;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(c=this.backoff)===null||c===void 0||c.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Sn(this.uri,this.opts);const c=this.engine,e=this;this._readyState="opening",this.skipReconnect=!1;const g=Or(c,"open",function(){e.onopen(),t&&t()}),y=Or(c,"error",l=>{e.cleanup(),e._readyState="closed",this.emitReserved("error",l),t?t(l):e.maybeReconnectOnOpen()});if(this._timeout!==!1){const l=this._timeout;l===0&&g();const i=this.setTimeoutFn(()=>{g(),c.close(),c.emit("error",new Error("timeout"))},l);this.opts.autoUnref&&i.unref(),this.subs.push(function(){clearTimeout(i)})}return this.subs.push(g),this.subs.push(y),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Or(t,"ping",this.onping.bind(this)),Or(t,"data",this.ondata.bind(this)),Or(t,"error",this.onerror.bind(this)),Or(t,"close",this.onclose.bind(this)),Or(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(c){this.onclose("parse error",c)}}ondecoded(t){Uc(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,c){let e=this.nsps[t];return e||(e=new Vc(this,t,c),this.nsps[t]=e),e}_destroy(t){const c=Object.keys(this.nsps);for(const e of c)if(this.nsps[e].active)return;this._close()}_packet(t){const c=this.encoder.encode(t);for(let e=0;e<c.length;e++)this.engine.write(c[e],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,c){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,c),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const c=this.backoff.duration();this._reconnecting=!0;const e=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(g=>{g?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",g)):t.onreconnect()}))},c);this.opts.autoUnref&&e.unref(),this.subs.push(function(){clearTimeout(e)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const vs={};function bo(b,t){typeof b=="object"&&(t=b,b=void 0),t=t||{};const c=Gy(b,t.path||"/socket.io"),e=c.source,g=c.id,y=c.path,l=vs[g]&&y in vs[g].nsps,i=t.forceNew||t["force new connection"]||t.multiplex===!1||l;let r;return i?r=new Si(e,t):(vs[g]||(vs[g]=new Si(e,t)),r=vs[g]),c.query&&!t.query&&(t.query=c.queryKey),r.socket(c.path,t)}Object.assign(bo,{Manager:Si,Socket:Vc,io:bo,connect:bo});class eg extends Ec{constructor(t,c){super(),this.io=bo("wss://handpiano-backend.glitch.me/"),this.name=t,this.id=c,this.otherSynths=[],this.connectToServer(),this.createOtherSynths(),this.handleData()}createOtherSynths(){for(let t=0;t<this.keys.length;t++)this.otherSynths.push({note:this.keys[t].note,synth:new Bs})}connectToServer(){const t=this.io.connect();this.id&&t.emit("create",{id:this.id,name:this.name})}handleData(){this.io.on("notes-to-play",t=>{this.otherSynths.forEach(c=>{for(let e=0;e<t.length;e++)console.log(`${c.note} : ${t[e]}`),c.note===t[e]&&(console.log(t[e]),c.synth.triggerAttack(t[e]))})}),this.io.on("notes-to-release",t=>{this.otherSynths.forEach(c=>{for(let e=0;e<t.length;e++)c.note===t[e]&&c.synth.triggerRelease(t[e])})})}playNotes(){this.notesToPlay.size>0&&(console.log(typeof this.notesToPlay),this.io.emit("notes-to-play",[...this.notesToPlay]),this.keys.forEach(t=>{this.notesToPlay.has(t.note)&&t.oscillator.triggerAttack(t.note)}),this.notesToPlay.forEach(t=>{this.notesPlaying.add(t)}),this.notesToPlay.clear())}releaseNotes(){this.notesToRelease.size>0&&(this.io.emit("notes-to-release",[...this.notesToRelease]),this.keys.forEach(t=>{this.notesToRelease.has(t.note)&&t.oscillator.triggerRelease(t.note)}),this.notesToRelease.clear())}}const Gc=b=>{b.state="start",b.hand=new wu,b.piano,b.container="pianoContainer",b.setup=()=>{b.createCanvas(640,480).parent("pianoContainer");const c=b.createCapture(b.VIDEO);b.hand.setupHandpose(b.width,b.height,c)},b.draw=()=>{switch(b.fill(0),b.rect(0,0,640,480),b.state){case"start":b.drawStart();break;case"piano":b.drawPiano();break;default:console.log(`The state ${b.state} doesn't exist`);break}},b.drawPiano=()=>{b.piano.drawKeys(b),b.hand.draw(b),b.hand.checkFingerPositions(),b.piano.keys.forEach(t=>{t.detectFingers(b.hand.fingers)}),b.piano.checkNotesToPlay(b.hand.curledFingers),b.piano.checkNotesReleased(b.hand.curledFingers)},b.drawStart=()=>{b.fill(255),b.noStroke(),b.textAlign(b.CENTER,b.CENTER),b.text(b.hand.startMessage,b.width/2,b.height/2),b.mouseIsPressed&&(b.state="piano")}};var uo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tg(b){return b&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,"default")?b.default:b}function ho(b){throw new Error('Could not dynamically require "'+b+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ta={exports:{}};(function(b,t){(function(c){b.exports=c()})(function(){var c;return function e(g,y,l){function i(d,f){if(!y[d]){if(!g[d]){var s=typeof ho=="function"&&ho;if(!f&&s)return s(d,!0);if(r)return r(d,!0);throw(f=new Error("Cannot find module '"+d+"'")).code="MODULE_NOT_FOUND",f}s=y[d]={exports:{}},g[d][0].call(s.exports,function(o){return i(g[d][1][o]||o)},s,s.exports,e,g,y,l)}return y[d].exports}for(var r=typeof ho=="function"&&ho,a=0;a<l.length;a++)i(l[a]);return i}({1:[function(e,g,y){y.byteLength=function(u){var u=s(u),n=u[0],u=u[1];return 3*(n+u)/4-u},y.toByteArray=function(o){var n,u,p=s(o),h=p[0],p=p[1],v=new r(function(x,M){return 3*(x+M)/4-M}(h,p)),_=0,j=0<p?h-4:h;for(u=0;u<j;u+=4)n=i[o.charCodeAt(u)]<<18|i[o.charCodeAt(u+1)]<<12|i[o.charCodeAt(u+2)]<<6|i[o.charCodeAt(u+3)],v[_++]=n>>16&255,v[_++]=n>>8&255,v[_++]=255&n;return p===2&&(n=i[o.charCodeAt(u)]<<2|i[o.charCodeAt(u+1)]>>4,v[_++]=255&n),p===1&&(n=i[o.charCodeAt(u)]<<10|i[o.charCodeAt(u+1)]<<4|i[o.charCodeAt(u+2)]>>2,v[_++]=n>>8&255,v[_++]=255&n),v},y.fromByteArray=function(o){for(var n,u=o.length,h=u%3,p=[],v=0,_=u-h;v<_;v+=16383)p.push(function(j,x,M){for(var E,C=[],R=x;R<M;R+=3)E=(j[R]<<16&16711680)+(j[R+1]<<8&65280)+(255&j[R+2]),C.push(function(O){return l[O>>18&63]+l[O>>12&63]+l[O>>6&63]+l[63&O]}(E));return C.join("")}(o,v,_<v+16383?_:v+16383));return h==1?(n=o[u-1],p.push(l[n>>2]+l[n<<4&63]+"==")):h==2&&(n=(o[u-2]<<8)+o[u-1],p.push(l[n>>10]+l[n>>4&63]+l[n<<2&63]+"=")),p.join("")};for(var l=[],i=[],r=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,f=a.length;d<f;++d)l[d]=a[d],i[a.charCodeAt(d)]=d;function s(o){var n=o.length;if(0<n%4)throw new Error("Invalid string. Length must be a multiple of 4");return o=o.indexOf("="),n=(o=o===-1?n:o)===n?0:4-o%4,[o,n]}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],2:[function(e,g,y){},{}],3:[function(e,g,y){arguments[4][2][0].apply(y,arguments)},{dup:2}],4:[function(e,g,y){(function(s){var i=e("base64-js"),r=e("ieee754"),a=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,d=(y.Buffer=s,y.SlowBuffer=function(k){return+k!=k&&(k=0),s.alloc(+k)},y.INSPECT_MAX_BYTES=50,2147483647);function f(k){if(d<k)throw new RangeError('The value "'+k+'" is invalid for option "size"');return k=new Uint8Array(k),Object.setPrototypeOf(k,s.prototype),k}function s(k,L,F){if(typeof k!="number")return o(k,L,F);if(typeof L=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return u(k)}function o(k,L,F){if(typeof k=="string"){var H=k,ee=L;if(s.isEncoding(ee=typeof ee=="string"&&ee!==""?ee:"utf8"))return re=0|v(H,ee),le=f(re),le=(H=le.write(H,ee))!==re?le.slice(0,H):le;throw new TypeError("Unknown encoding: "+ee)}if(ArrayBuffer.isView(k))return h(k);if(k!=null){if(X(k,ArrayBuffer)||k&&X(k.buffer,ArrayBuffer)){var re=k,H=L,le=F;if(H<0||re.byteLength<H)throw new RangeError('"offset" is outside of buffer bounds');if(re.byteLength<H+(le||0))throw new RangeError('"length" is outside of buffer bounds');return re=H===void 0&&le===void 0?new Uint8Array(re):le===void 0?new Uint8Array(re,H):new Uint8Array(re,H,le),Object.setPrototypeOf(re,s.prototype),re}if(typeof k=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if(ee=k.valueOf&&k.valueOf(),ee!=null&&ee!==k)return s.from(ee,L,F);var fe=function(ae){{var ce,ge;if(s.isBuffer(ae))return ce=0|p(ae.length),(ge=f(ce)).length!==0&&ae.copy(ge,0,0,ce),ge}if(ae.length!==void 0)return typeof ae.length!="number"||$(ae.length)?f(0):h(ae);if(ae.type==="Buffer"&&Array.isArray(ae.data))return h(ae.data)}(k);if(fe)return fe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof k[Symbol.toPrimitive]=="function")return s.from(k[Symbol.toPrimitive]("string"),L,F)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k)}function n(k){if(typeof k!="number")throw new TypeError('"size" argument must be of type number');if(k<0)throw new RangeError('The value "'+k+'" is invalid for option "size"')}function u(k){return n(k),f(k<0?0:0|p(k))}function h(k){for(var L=k.length<0?0:0|p(k.length),F=f(L),H=0;H<L;H+=1)F[H]=255&k[H];return F}function p(k){if(d<=k)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d.toString(16)+" bytes");return 0|k}function v(k,L){if(s.isBuffer(k))return k.length;if(ArrayBuffer.isView(k)||X(k,ArrayBuffer))return k.byteLength;if(typeof k!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof k);var F=k.length,H=2<arguments.length&&arguments[2]===!0;if(!H&&F===0)return 0;for(var ee=!1;;)switch(L){case"ascii":case"latin1":case"binary":return F;case"utf8":case"utf-8":return q(k).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*F;case"hex":return F>>>1;case"base64":return Y(k).length;default:if(ee)return H?-1:q(k).length;L=(""+L).toLowerCase(),ee=!0}}function _(k,L,F){var H,ee=!1;if((L=L===void 0||L<0?0:L)>this.length||(F=F===void 0||F>this.length?this.length:F)<=0||(F>>>=0)<=(L>>>=0))return"";for(k=k||"utf8";;)switch(k){case"hex":var re=this,pe=L,le=F,ge=re.length;(!le||le<0||ge<le)&&(le=ge);for(var fe="",ae=pe=!pe||pe<0?0:pe;ae<le;++ae)fe+=ne[re[ae]];return fe;case"utf8":case"utf-8":return R(this,L,F);case"ascii":var ce=this,ge=L,J=F,ie="";J=Math.min(ce.length,J);for(var ue=ge;ue<J;++ue)ie+=String.fromCharCode(127&ce[ue]);return ie;case"latin1":case"binary":var me=this,pe=L,Te=F,we="";Te=Math.min(me.length,Te);for(var Re=pe;Re<Te;++Re)we+=String.fromCharCode(me[Re]);return we;case"base64":return Ee=this,H=F,(Ue=L)===0&&H===Ee.length?i.fromByteArray(Ee):i.fromByteArray(Ee.slice(Ue,H));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var Ee=L,Ue=F,ze=this.slice(Ee,Ue),Ge="",Ze=0;Ze<ze.length;Ze+=2)Ge+=String.fromCharCode(ze[Ze]+256*ze[Ze+1]);return Ge;default:if(ee)throw new TypeError("Unknown encoding: "+k);k=(k+"").toLowerCase(),ee=!0}}function j(k,L,F){var H=k[L];k[L]=k[F],k[F]=H}function x(k,L,F,H,ee){if(k.length===0)return-1;if(typeof F=="string"?(H=F,F=0):2147483647<F?F=2147483647:F<-2147483648&&(F=-2147483648),(F=(F=$(F=+F)?ee?0:k.length-1:F)<0?k.length+F:F)>=k.length){if(ee)return-1;F=k.length-1}else if(F<0){if(!ee)return-1;F=0}if(typeof L=="string"&&(L=s.from(L,H)),s.isBuffer(L))return L.length===0?-1:M(k,L,F,H,ee);if(typeof L=="number")return L&=255,typeof Uint8Array.prototype.indexOf=="function"?(ee?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(k,L,F):M(k,[L],F,H,ee);throw new TypeError("val must be string, number or Buffer")}function M(k,L,F,H,ee){var re=1,le=k.length,fe=L.length;if(H!==void 0&&((H=String(H).toLowerCase())==="ucs2"||H==="ucs-2"||H==="utf16le"||H==="utf-16le")){if(k.length<2||L.length<2)return-1;le/=re=2,fe/=2,F/=2}function ae(ue,me){return re===1?ue[me]:ue.readUInt16BE(me*re)}if(ee)for(var ce=-1,ge=F;ge<le;ge++)if(ae(k,ge)===ae(L,ce===-1?0:ge-ce)){if(ge-(ce=ce===-1?ge:ce)+1===fe)return ce*re}else ce!==-1&&(ge-=ge-ce),ce=-1;else for(ge=F=le<F+fe?le-fe:F;0<=ge;ge--){for(var J=!0,ie=0;ie<fe;ie++)if(ae(k,ge+ie)!==ae(L,ie)){J=!1;break}if(J)return ge}return-1}function E(k,L,F,H){return G(function(ee){for(var re=[],le=0;le<ee.length;++le)re.push(255&ee.charCodeAt(le));return re}(L),k,F,H)}function C(k,L,F,H){return G(function(ee,re){for(var le,fe,ae=[],ce=0;ce<ee.length&&!((re-=2)<0);++ce)fe=ee.charCodeAt(ce),le=fe>>8,fe=fe%256,ae.push(fe),ae.push(le);return ae}(L,k.length-F),k,F,H)}function R(k,L,F){F=Math.min(k.length,F);for(var H=[],ee=L;ee<F;){var re,le,fe,ae,ce=k[ee],ge=null,J=239<ce?4:223<ce?3:191<ce?2:1;if(ee+J<=F)switch(J){case 1:ce<128&&(ge=ce);break;case 2:(192&(re=k[ee+1]))==128&&127<(ae=(31&ce)<<6|63&re)&&(ge=ae);break;case 3:re=k[ee+1],le=k[ee+2],(192&re)==128&&(192&le)==128&&2047<(ae=(15&ce)<<12|(63&re)<<6|63&le)&&(ae<55296||57343<ae)&&(ge=ae);break;case 4:re=k[ee+1],le=k[ee+2],fe=k[ee+3],(192&re)==128&&(192&le)==128&&(192&fe)==128&&65535<(ae=(15&ce)<<18|(63&re)<<12|(63&le)<<6|63&fe)&&ae<1114112&&(ge=ae)}ge===null?(ge=65533,J=1):65535<ge&&(ge-=65536,H.push(ge>>>10&1023|55296),ge=56320|1023&ge),H.push(ge),ee+=J}var ie=H,ue=ie.length;if(ue<=O)return String.fromCharCode.apply(String,ie);for(var me="",pe=0;pe<ue;)me+=String.fromCharCode.apply(String,ie.slice(pe,pe+=O));return me}y.kMaxLength=d,(s.TYPED_ARRAY_SUPPORT=function(){try{var k=new Uint8Array(1),L={foo:function(){return 42}};return Object.setPrototypeOf(L,Uint8Array.prototype),Object.setPrototypeOf(k,L),k.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),s.poolSize=8192,s.from=o,Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(k,L,F){return L=L,F=F,n(k=k),!(k<=0)&&L!==void 0?typeof F=="string"?f(k).fill(L,F):f(k).fill(L):f(k)},s.allocUnsafe=u,s.allocUnsafeSlow=u,s.isBuffer=function(k){return k!=null&&k._isBuffer===!0&&k!==s.prototype},s.compare=function(k,L){if(X(k,Uint8Array)&&(k=s.from(k,k.offset,k.byteLength)),X(L,Uint8Array)&&(L=s.from(L,L.offset,L.byteLength)),!s.isBuffer(k)||!s.isBuffer(L))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(k===L)return 0;for(var F=k.length,H=L.length,ee=0,re=Math.min(F,H);ee<re;++ee)if(k[ee]!==L[ee]){F=k[ee],H=L[ee];break}return F<H?-1:H<F?1:0},s.isEncoding=function(k){switch(String(k).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(k,L){if(!Array.isArray(k))throw new TypeError('"list" argument must be an Array of Buffers');if(k.length===0)return s.alloc(0);if(L===void 0)for(ee=L=0;ee<k.length;++ee)L+=k[ee].length;for(var F=s.allocUnsafe(L),H=0,ee=0;ee<k.length;++ee){var re=k[ee];if(X(re,Uint8Array)&&(re=s.from(re)),!s.isBuffer(re))throw new TypeError('"list" argument must be an Array of Buffers');re.copy(F,H),H+=re.length}return F},s.byteLength=v,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var k=this.length;if(k%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var L=0;L<k;L+=2)j(this,L,L+1);return this},s.prototype.swap32=function(){var k=this.length;if(k%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var L=0;L<k;L+=4)j(this,L,L+3),j(this,L+1,L+2);return this},s.prototype.swap64=function(){var k=this.length;if(k%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var L=0;L<k;L+=8)j(this,L,L+7),j(this,L+1,L+6),j(this,L+2,L+5),j(this,L+3,L+4);return this},s.prototype.toLocaleString=s.prototype.toString=function(){var k=this.length;return k===0?"":arguments.length===0?R(this,0,k):_.apply(this,arguments)},s.prototype.equals=function(k){if(s.isBuffer(k))return this===k||s.compare(this,k)===0;throw new TypeError("Argument must be a Buffer")},s.prototype.inspect=function(){var L="",k=y.INSPECT_MAX_BYTES,L=this.toString("hex",0,k).replace(/(.{2})/g,"$1 ").trim();return this.length>k&&(L+=" ... "),"<Buffer "+L+">"},a&&(s.prototype[a]=s.prototype.inspect),s.prototype.compare=function(k,L,F,H,ee){if(X(k,Uint8Array)&&(k=s.from(k,k.offset,k.byteLength)),!s.isBuffer(k))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof k);if(F===void 0&&(F=k?k.length:0),H===void 0&&(H=0),ee===void 0&&(ee=this.length),(L=L===void 0?0:L)<0||F>k.length||H<0||ee>this.length)throw new RangeError("out of range index");if(ee<=H&&F<=L)return 0;if(ee<=H)return-1;if(F<=L)return 1;if(this===k)return 0;for(var re=(ee>>>=0)-(H>>>=0),le=(F>>>=0)-(L>>>=0),fe=Math.min(re,le),ae=this.slice(H,ee),ce=k.slice(L,F),ge=0;ge<fe;++ge)if(ae[ge]!==ce[ge]){re=ae[ge],le=ce[ge];break}return re<le?-1:le<re?1:0},s.prototype.includes=function(k,L,F){return this.indexOf(k,L,F)!==-1},s.prototype.indexOf=function(k,L,F){return x(this,k,L,F,!0)},s.prototype.lastIndexOf=function(k,L,F){return x(this,k,L,F,!1)},s.prototype.write=function(k,L,F,H){if(L===void 0)H="utf8",F=this.length,L=0;else if(F===void 0&&typeof L=="string")H=L,F=this.length,L=0;else{if(!isFinite(L))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");L>>>=0,isFinite(F)?(F>>>=0,H===void 0&&(H="utf8")):(H=F,F=void 0)}var ee=this.length-L;if((F===void 0||ee<F)&&(F=ee),0<k.length&&(F<0||L<0)||L>this.length)throw new RangeError("Attempt to write outside buffer bounds");H=H||"utf8";for(var re,le,fe,ae=!1;;)switch(H){case"hex":var ce=this,ge=k,J=L,ie=F,ue=(J=Number(J)||0,ce.length-J);(!ie||ue<(ie=Number(ie)))&&(ie=ue),(ue=ge.length)/2<ie&&(ie=ue/2);for(var me=0;me<ie;++me){var pe=parseInt(ge.substr(2*me,2),16);if($(pe))return me;ce[J+me]=pe}return me;case"utf8":case"utf-8":return ue=L,fe=F,G(q(k,(le=this).length-ue),le,ue,fe);case"ascii":return E(this,k,L,F);case"latin1":case"binary":return E(this,k,L,F);case"base64":return le=this,fe=L,re=F,G(Y(k),le,fe,re);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,k,L,F);default:if(ae)throw new TypeError("Unknown encoding: "+H);H=(""+H).toLowerCase(),ae=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var O=4096;function P(k,L,F){if(k%1!=0||k<0)throw new RangeError("offset is not uint");if(F<k+L)throw new RangeError("Trying to access beyond buffer length")}function I(k,L,F,H,ee,re){if(!s.isBuffer(k))throw new TypeError('"buffer" argument must be a Buffer instance');if(ee<L||L<re)throw new RangeError('"value" argument is out of bounds');if(F+H>k.length)throw new RangeError("Index out of range")}function N(k,L,F,H){if(F+H>k.length)throw new RangeError("Index out of range");if(F<0)throw new RangeError("Index out of range")}function U(k,L,F,H,ee){return L=+L,F>>>=0,ee||N(k,0,F,4),r.write(k,L,F,H,23,4),F+4}function W(k,L,F,H,ee){return L=+L,F>>>=0,ee||N(k,0,F,8),r.write(k,L,F,H,52,8),F+8}s.prototype.slice=function(k,L){var F=this.length,F=((k=~~k)<0?(k+=F)<0&&(k=0):F<k&&(k=F),(L=L===void 0?F:~~L)<0?(L+=F)<0&&(L=0):F<L&&(L=F),L<k&&(L=k),this.subarray(k,L));return Object.setPrototypeOf(F,s.prototype),F},s.prototype.readUIntLE=function(k,L,F){k>>>=0,L>>>=0,F||P(k,L,this.length);for(var H=this[k],ee=1,re=0;++re<L&&(ee*=256);)H+=this[k+re]*ee;return H},s.prototype.readUIntBE=function(k,L,F){k>>>=0,L>>>=0,F||P(k,L,this.length);for(var H=this[k+--L],ee=1;0<L&&(ee*=256);)H+=this[k+--L]*ee;return H},s.prototype.readUInt8=function(k,L){return k>>>=0,L||P(k,1,this.length),this[k]},s.prototype.readUInt16LE=function(k,L){return k>>>=0,L||P(k,2,this.length),this[k]|this[k+1]<<8},s.prototype.readUInt16BE=function(k,L){return k>>>=0,L||P(k,2,this.length),this[k]<<8|this[k+1]},s.prototype.readUInt32LE=function(k,L){return k>>>=0,L||P(k,4,this.length),(this[k]|this[k+1]<<8|this[k+2]<<16)+16777216*this[k+3]},s.prototype.readUInt32BE=function(k,L){return k>>>=0,L||P(k,4,this.length),16777216*this[k]+(this[k+1]<<16|this[k+2]<<8|this[k+3])},s.prototype.readIntLE=function(k,L,F){k>>>=0,L>>>=0,F||P(k,L,this.length);for(var H=this[k],ee=1,re=0;++re<L&&(ee*=256);)H+=this[k+re]*ee;return(ee*=128)<=H&&(H-=Math.pow(2,8*L)),H},s.prototype.readIntBE=function(k,L,F){k>>>=0,L>>>=0,F||P(k,L,this.length);for(var H=L,ee=1,re=this[k+--H];0<H&&(ee*=256);)re+=this[k+--H]*ee;return(ee*=128)<=re&&(re-=Math.pow(2,8*L)),re},s.prototype.readInt8=function(k,L){return k>>>=0,L||P(k,1,this.length),128&this[k]?-1*(255-this[k]+1):this[k]},s.prototype.readInt16LE=function(k,L){return k>>>=0,L||P(k,2,this.length),L=this[k]|this[k+1]<<8,32768&L?4294901760|L:L},s.prototype.readInt16BE=function(k,L){return k>>>=0,L||P(k,2,this.length),L=this[k+1]|this[k]<<8,32768&L?4294901760|L:L},s.prototype.readInt32LE=function(k,L){return k>>>=0,L||P(k,4,this.length),this[k]|this[k+1]<<8|this[k+2]<<16|this[k+3]<<24},s.prototype.readInt32BE=function(k,L){return k>>>=0,L||P(k,4,this.length),this[k]<<24|this[k+1]<<16|this[k+2]<<8|this[k+3]},s.prototype.readFloatLE=function(k,L){return k>>>=0,L||P(k,4,this.length),r.read(this,k,!0,23,4)},s.prototype.readFloatBE=function(k,L){return k>>>=0,L||P(k,4,this.length),r.read(this,k,!1,23,4)},s.prototype.readDoubleLE=function(k,L){return k>>>=0,L||P(k,8,this.length),r.read(this,k,!0,52,8)},s.prototype.readDoubleBE=function(k,L){return k>>>=0,L||P(k,8,this.length),r.read(this,k,!1,52,8)},s.prototype.writeUIntLE=function(k,L,F,H){k=+k,L>>>=0,F>>>=0,H||I(this,k,L,F,Math.pow(2,8*F)-1,0);var ee=1,re=0;for(this[L]=255&k;++re<F&&(ee*=256);)this[L+re]=k/ee&255;return L+F},s.prototype.writeUIntBE=function(k,L,F,H){k=+k,L>>>=0,F>>>=0,H||I(this,k,L,F,Math.pow(2,8*F)-1,0);var ee=F-1,re=1;for(this[L+ee]=255&k;0<=--ee&&(re*=256);)this[L+ee]=k/re&255;return L+F},s.prototype.writeUInt8=function(k,L,F){return k=+k,L>>>=0,F||I(this,k,L,1,255,0),this[L]=255&k,L+1},s.prototype.writeUInt16LE=function(k,L,F){return k=+k,L>>>=0,F||I(this,k,L,2,65535,0),this[L]=255&k,this[L+1]=k>>>8,L+2},s.prototype.writeUInt16BE=function(k,L,F){return k=+k,L>>>=0,F||I(this,k,L,2,65535,0),this[L]=k>>>8,this[L+1]=255&k,L+2},s.prototype.writeUInt32LE=function(k,L,F){return k=+k,L>>>=0,F||I(this,k,L,4,4294967295,0),this[L+3]=k>>>24,this[L+2]=k>>>16,this[L+1]=k>>>8,this[L]=255&k,L+4},s.prototype.writeUInt32BE=function(k,L,F){return k=+k,L>>>=0,F||I(this,k,L,4,4294967295,0),this[L]=k>>>24,this[L+1]=k>>>16,this[L+2]=k>>>8,this[L+3]=255&k,L+4},s.prototype.writeIntLE=function(k,L,F,H){k=+k,L>>>=0,H||I(this,k,L,F,(H=Math.pow(2,8*F-1))-1,-H);var ee=0,re=1,le=0;for(this[L]=255&k;++ee<F&&(re*=256);)k<0&&le===0&&this[L+ee-1]!==0&&(le=1),this[L+ee]=(k/re>>0)-le&255;return L+F},s.prototype.writeIntBE=function(k,L,F,H){k=+k,L>>>=0,H||I(this,k,L,F,(H=Math.pow(2,8*F-1))-1,-H);var ee=F-1,re=1,le=0;for(this[L+ee]=255&k;0<=--ee&&(re*=256);)k<0&&le===0&&this[L+ee+1]!==0&&(le=1),this[L+ee]=(k/re>>0)-le&255;return L+F},s.prototype.writeInt8=function(k,L,F){return k=+k,L>>>=0,F||I(this,k,L,1,127,-128),this[L]=255&(k=k<0?255+k+1:k),L+1},s.prototype.writeInt16LE=function(k,L,F){return k=+k,L>>>=0,F||I(this,k,L,2,32767,-32768),this[L]=255&k,this[L+1]=k>>>8,L+2},s.prototype.writeInt16BE=function(k,L,F){return k=+k,L>>>=0,F||I(this,k,L,2,32767,-32768),this[L]=k>>>8,this[L+1]=255&k,L+2},s.prototype.writeInt32LE=function(k,L,F){return k=+k,L>>>=0,F||I(this,k,L,4,2147483647,-2147483648),this[L]=255&k,this[L+1]=k>>>8,this[L+2]=k>>>16,this[L+3]=k>>>24,L+4},s.prototype.writeInt32BE=function(k,L,F){return k=+k,L>>>=0,F||I(this,k,L,4,2147483647,-2147483648),this[L]=(k=k<0?4294967295+k+1:k)>>>24,this[L+1]=k>>>16,this[L+2]=k>>>8,this[L+3]=255&k,L+4},s.prototype.writeFloatLE=function(k,L,F){return U(this,k,L,!0,F)},s.prototype.writeFloatBE=function(k,L,F){return U(this,k,L,!1,F)},s.prototype.writeDoubleLE=function(k,L,F){return W(this,k,L,!0,F)},s.prototype.writeDoubleBE=function(k,L,F){return W(this,k,L,!1,F)},s.prototype.copy=function(k,L,F,H){if(!s.isBuffer(k))throw new TypeError("argument should be a Buffer");if(F=F||0,H||H===0||(H=this.length),L>=k.length&&(L=k.length),(H=0<H&&H<F?F:H)===F||k.length===0||this.length===0)return 0;if((L=L||0)<0)throw new RangeError("targetStart out of bounds");if(F<0||F>=this.length)throw new RangeError("Index out of range");if(H<0)throw new RangeError("sourceEnd out of bounds");H>this.length&&(H=this.length);var ee=(H=k.length-L<H-F?k.length-L+F:H)-F;if(this===k&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(L,F,H);else if(this===k&&F<L&&L<H)for(var re=ee-1;0<=re;--re)k[re+L]=this[re+F];else Uint8Array.prototype.set.call(k,this.subarray(F,H),L);return ee},s.prototype.fill=function(k,L,F,H){if(typeof k=="string"){if(typeof L=="string"?(H=L,L=0,F=this.length):typeof F=="string"&&(H=F,F=this.length),H!==void 0&&typeof H!="string")throw new TypeError("encoding must be a string");if(typeof H=="string"&&!s.isEncoding(H))throw new TypeError("Unknown encoding: "+H);var ee;k.length===1&&(ee=k.charCodeAt(0),(H==="utf8"&&ee<128||H==="latin1")&&(k=ee))}else typeof k=="number"?k&=255:typeof k=="boolean"&&(k=Number(k));if(L<0||this.length<L||this.length<F)throw new RangeError("Out of range index");var re;if(!(F<=L))if(L>>>=0,F=F===void 0?this.length:F>>>0,typeof(k=k||0)=="number")for(re=L;re<F;++re)this[re]=k;else{var le=s.isBuffer(k)?k:s.from(k,H),fe=le.length;if(fe===0)throw new TypeError('The value "'+k+'" is invalid for argument "value"');for(re=0;re<F-L;++re)this[re+L]=le[re%fe]}return this};var z=/[^+/0-9A-Za-z-_]/g;function q(k,L){L=L||1/0;for(var F,H=k.length,ee=null,re=[],le=0;le<H;++le){if(55295<(F=k.charCodeAt(le))&&F<57344){if(!ee){if(56319<F){-1<(L-=3)&&re.push(239,191,189);continue}if(le+1===H){-1<(L-=3)&&re.push(239,191,189);continue}ee=F;continue}if(F<56320){-1<(L-=3)&&re.push(239,191,189),ee=F;continue}F=65536+(ee-55296<<10|F-56320)}else ee&&-1<(L-=3)&&re.push(239,191,189);if(ee=null,F<128){if(--L<0)break;re.push(F)}else if(F<2048){if((L-=2)<0)break;re.push(F>>6|192,63&F|128)}else if(F<65536){if((L-=3)<0)break;re.push(F>>12|224,F>>6&63|128,63&F|128)}else{if(!(F<1114112))throw new Error("Invalid code point");if((L-=4)<0)break;re.push(F>>18|240,F>>12&63|128,F>>6&63|128,63&F|128)}}return re}function Y(k){return i.toByteArray(function(L){if((L=(L=L.split("=")[0]).trim().replace(z,"")).length<2)return"";for(;L.length%4!=0;)L+="=";return L}(k))}function G(k,L,F,H){for(var ee=0;ee<H&&!(ee+F>=L.length||ee>=k.length);++ee)L[ee+F]=k[ee];return ee}function X(k,L){return k instanceof L||k!=null&&k.constructor!=null&&k.constructor.name!=null&&k.constructor.name===L.name}function $(k){return k!=k}var ne=function(){for(var k="0123456789abcdef",L=new Array(256),F=0;F<16;++F)for(var H=16*F,ee=0;ee<16;++ee)L[H+ee]=k[F]+k[ee];return L}()}).call(this,e("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:238}],5:[function(e,g,y){g.exports=function(l){if(typeof l!="function")throw TypeError(String(l)+" is not a function");return l}},{}],6:[function(e,g,y){var l=e("../internals/is-object");g.exports=function(i){if(l(i)||i===null)return i;throw TypeError("Can't set "+String(i)+" as a prototype")}},{"../internals/is-object":74}],7:[function(r,g,y){var l=r("../internals/well-known-symbol"),i=r("../internals/object-create"),r=r("../internals/object-define-property"),a=l("unscopables"),d=Array.prototype;d[a]==null&&r.f(d,a,{configurable:!0,value:i(null)}),g.exports=function(f){d[a][f]=!0}},{"../internals/object-create":90,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],8:[function(e,g,y){var l=e("../internals/string-multibyte").charAt;g.exports=function(i,r,a){return r+(a?l(i,r).length:1)}},{"../internals/string-multibyte":123}],9:[function(e,g,y){g.exports=function(l,i,r){if(l instanceof i)return l;throw TypeError("Incorrect "+(r?r+" ":"")+"invocation")}},{}],10:[function(e,g,y){var l=e("../internals/is-object");g.exports=function(i){if(l(i))return i;throw TypeError(String(i)+" is not an object")}},{"../internals/is-object":74}],11:[function(e,g,y){g.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(N,g,y){function l(W){return f(W)&&s(U,o(W))}var i,r=N("../internals/array-buffer-native"),a=N("../internals/descriptors"),d=N("../internals/global"),f=N("../internals/is-object"),s=N("../internals/has"),o=N("../internals/classof"),n=N("../internals/create-non-enumerable-property"),u=N("../internals/redefine"),h=N("../internals/object-define-property").f,p=N("../internals/object-get-prototype-of"),v=N("../internals/object-set-prototype-of"),O=N("../internals/well-known-symbol"),N=N("../internals/uid"),_=d.Int8Array,j=_&&_.prototype,x=d.Uint8ClampedArray,x=x&&x.prototype,M=_&&p(_),E=j&&p(j),C=Object.prototype,R=C.isPrototypeOf,O=O("toStringTag"),P=N("TYPED_ARRAY_TAG"),I=r&&!!v&&o(d.opera)!=="Opera",N=!1,U={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(i in U)d[i]||(I=!1);if((!I||typeof M!="function"||M===Function.prototype)&&(M=function(){throw TypeError("Incorrect invocation")},I))for(i in U)d[i]&&v(d[i],M);if((!I||!E||E===C)&&(E=M.prototype,I))for(i in U)d[i]&&v(d[i].prototype,E);if(I&&p(x)!==E&&v(x,E),a&&!s(E,O))for(i in N=!0,h(E,O,{get:function(){return f(this)?this[P]:void 0}}),U)d[i]&&n(d[i],P,i);g.exports={NATIVE_ARRAY_BUFFER_VIEWS:I,TYPED_ARRAY_TAG:N&&P,aTypedArray:function(W){if(l(W))return W;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(W){if(v){if(R.call(M,W))return W}else for(var z in U)if(s(U,i)&&(z=d[z],z&&(W===z||R.call(z,W))))return W;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(W,z,q){if(a){if(q)for(var Y in U)Y=d[Y],Y&&s(Y.prototype,W)&&delete Y.prototype[W];E[W]&&!q||u(E,W,!q&&I&&j[W]||z)}},exportTypedArrayStaticMethod:function(W,z,q){var Y,G;if(a){if(v){if(q)for(Y in U)(G=d[Y])&&s(G,W)&&delete G[W];if(M[W]&&!q)return;try{return u(M,W,!q&&I&&_[W]||z)}catch{}}for(Y in U)!(G=d[Y])||G[W]&&!q||u(G,W,z)}},isView:function(W){return W=o(W),W==="DataView"||s(U,W)},isTypedArray:l,TypedArray:M,TypedArrayPrototype:E}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/uid":143,"../internals/well-known-symbol":146}],13:[function(F,g,y){function l(J){return[255&J]}function i(J){return[255&J,J>>8&255]}function r(J){return[255&J,J>>8&255,J>>16&255,J>>24&255]}function a(J){return J[3]<<24|J[2]<<16|J[1]<<8|J[0]}function d(J){return re(J,23,4)}function f(J){return re(J,52,8)}function s(J,ie){N(J[X],ie,{get:function(){return z(this)[ie]}})}function o(we,ie,Te,me){if(Te=C(Te),we=z(we),Te+ie>we.byteLength)throw ee($);var pe=z(we.buffer).bytes,Te=Te+we.byteOffset,we=pe.slice(Te,Te+ie);return me?we:we.reverse()}function n(J,ie,ue,me,pe,Te){if(ue=C(ue),J=z(J),ue+ie>J.byteLength)throw ee($);for(var we=z(J.buffer).bytes,Re=ue+J.byteOffset,Ee=me(+pe),Ue=0;Ue<ie;Ue++)we[Re+Ue]=Ee[Te?Ue:ie-Ue-1]}var u=F("../internals/global"),h=F("../internals/descriptors"),p=F("../internals/array-buffer-native"),v=F("../internals/create-non-enumerable-property"),_=F("../internals/redefine-all"),j=F("../internals/fails"),x=F("../internals/an-instance"),M=F("../internals/to-integer"),E=F("../internals/to-length"),C=F("../internals/to-index"),R=F("../internals/ieee754"),O=F("../internals/object-get-prototype-of"),P=F("../internals/object-set-prototype-of"),I=F("../internals/object-get-own-property-names").f,N=F("../internals/object-define-property").f,U=F("../internals/array-fill"),W=F("../internals/set-to-string-tag"),F=F("../internals/internal-state"),z=F.get,q=F.set,Y="ArrayBuffer",G="DataView",X="prototype",$="Wrong index",ne=u[Y],k=ne,L=u[G],F=L&&L[X],H=Object.prototype,ee=u.RangeError,re=R.pack,le=R.unpack;if(p){if(!j(function(){ne(1)})||!j(function(){new ne(-1)})||j(function(){return new ne,new ne(1.5),new ne(NaN),ne.name!=Y})){for(var fe,u=(k=function(ue){return x(this,k),new ne(C(ue))})[X]=ne[X],ae=I(ne),ce=0;ae.length>ce;)(fe=ae[ce++])in k||v(k,fe,ne[fe]);u.constructor=k}P&&O(F)!==H&&P(F,H);var R=new L(new k(2)),ge=F.setInt8;R.setInt8(0,2147483648),R.setInt8(1,2147483649),!R.getInt8(0)&&R.getInt8(1)||_(F,{setInt8:function(ie,ue){ge.call(this,ie,ue<<24>>24)},setUint8:function(ie,ue){ge.call(this,ie,ue<<24>>24)}},{unsafe:!0})}else k=function(J){x(this,k,Y),J=C(J),q(this,{bytes:U.call(new Array(J),0),byteLength:J}),h||(this.byteLength=J)},L=function(J,pe,ue){x(this,L,G),x(J,k,G);var me=z(J).byteLength,pe=M(pe);if(pe<0||me<pe)throw ee("Wrong offset");if(me<pe+(ue=ue===void 0?me-pe:E(ue)))throw ee("Wrong length");q(this,{buffer:J,byteLength:ue,byteOffset:pe}),h||(this.buffer=J,this.byteLength=ue,this.byteOffset=pe)},h&&(s(k,"byteLength"),s(L,"buffer"),s(L,"byteLength"),s(L,"byteOffset")),_(L[X],{getInt8:function(J){return o(this,1,J)[0]<<24>>24},getUint8:function(J){return o(this,1,J)[0]},getInt16:function(J){return J=o(this,2,J,1<arguments.length?arguments[1]:void 0),(J[1]<<8|J[0])<<16>>16},getUint16:function(J){return J=o(this,2,J,1<arguments.length?arguments[1]:void 0),J[1]<<8|J[0]},getInt32:function(J){return a(o(this,4,J,1<arguments.length?arguments[1]:void 0))},getUint32:function(J){return a(o(this,4,J,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(J){return le(o(this,4,J,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(J){return le(o(this,8,J,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(J,ie){n(this,1,J,l,ie)},setUint8:function(J,ie){n(this,1,J,l,ie)},setInt16:function(J,ie){n(this,2,J,i,ie,2<arguments.length?arguments[2]:void 0)},setUint16:function(J,ie){n(this,2,J,i,ie,2<arguments.length?arguments[2]:void 0)},setInt32:function(J,ie){n(this,4,J,r,ie,2<arguments.length?arguments[2]:void 0)},setUint32:function(J,ie){n(this,4,J,r,ie,2<arguments.length?arguments[2]:void 0)},setFloat32:function(J,ie){n(this,4,J,d,ie,2<arguments.length?arguments[2]:void 0)},setFloat64:function(J,ie){n(this,8,J,f,ie,2<arguments.length?arguments[2]:void 0)}});W(k,Y),W(L,G),g.exports={ArrayBuffer:k,DataView:L}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/ieee754":65,"../internals/internal-state":70,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/to-index":131,"../internals/to-integer":133,"../internals/to-length":134}],14:[function(e,g,y){var l=e("../internals/to-object"),i=e("../internals/to-absolute-index"),r=e("../internals/to-length"),a=Math.min;g.exports=[].copyWithin||function(h,f){var s=l(this),o=r(s.length),n=i(h,o),u=i(f,o),h=2<arguments.length?arguments[2]:void 0,p=a((h===void 0?o:i(h,o))-u,o-n),v=1;for(u<n&&n<u+p&&(v=-1,u+=p-1,n+=p-1);0<p--;)u in s?s[n]=s[u]:delete s[n],n+=v,u+=v;return s}},{"../internals/to-absolute-index":130,"../internals/to-length":134,"../internals/to-object":135}],15:[function(e,g,y){var l=e("../internals/to-object"),i=e("../internals/to-absolute-index"),r=e("../internals/to-length");g.exports=function(a){for(var d=l(this),f=r(d.length),o=arguments.length,s=i(1<o?arguments[1]:void 0,f),o=2<o?arguments[2]:void 0,n=o===void 0?f:i(o,f);s<n;)d[s++]=a;return d}},{"../internals/to-absolute-index":130,"../internals/to-length":134,"../internals/to-object":135}],16:[function(r,g,y){var l=r("../internals/array-iteration").forEach,i=r("../internals/array-method-is-strict"),r=r("../internals/array-method-uses-to-length"),i=i("forEach"),r=r("forEach");g.exports=i&&r?[].forEach:function(a){return l(this,a,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(e,g,y){var l=e("../internals/function-bind-context"),i=e("../internals/to-object"),r=e("../internals/call-with-safe-iteration-closing"),a=e("../internals/is-array-iterator-method"),d=e("../internals/to-length"),f=e("../internals/create-property"),s=e("../internals/get-iterator-method");g.exports=function(x){var n,u,h,p,v,_,j=i(x),x=typeof this=="function"?this:Array,M=arguments.length,E=1<M?arguments[1]:void 0,C=E!==void 0,R=s(j),O=0;if(C&&(E=l(E,2<M?arguments[2]:void 0,2)),R==null||x==Array&&a(R))for(u=new x(n=d(j.length));O<n;O++)_=C?E(j[O],O):j[O],f(u,O,_);else for(v=(p=R.call(j)).next,u=new x;!(h=v.call(p)).done;O++)_=C?r(p,E,[h.value,O],!0):h.value,f(u,O,_);return u.length=O,u}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134,"../internals/to-object":135}],18:[function(e,g,y){function l(d){return function(f,s,o){var n,u=i(f),h=r(u.length),p=a(o,h);if(d&&s!=s){for(;p<h;)if((n=u[p++])!=n)return!0}else for(;p<h;p++)if((d||p in u)&&u[p]===s)return d||p||0;return!d&&-1}}var i=e("../internals/to-indexed-object"),r=e("../internals/to-length"),a=e("../internals/to-absolute-index");g.exports={includes:l(!0),indexOf:l(!1)}},{"../internals/to-absolute-index":130,"../internals/to-indexed-object":132,"../internals/to-length":134}],19:[function(e,g,y){function l(o){var n=o==1,u=o==2,h=o==3,p=o==4,v=o==6,_=o==5||v;return function(j,x,M,E){for(var C,R,O=a(j),P=r(O),I=i(x,M,3),N=d(P.length),U=0,x=E||f,W=n?x(j,N):u?x(j,0):void 0;U<N;U++)if((_||U in P)&&(R=I(C=P[U],U,O),o)){if(n)W[U]=R;else if(R)switch(o){case 3:return!0;case 5:return C;case 6:return U;case 2:s.call(W,C)}else if(p)return!1}return v?-1:h||p?p:W}}var i=e("../internals/function-bind-context"),r=e("../internals/indexed-object"),a=e("../internals/to-object"),d=e("../internals/to-length"),f=e("../internals/array-species-create"),s=[].push;g.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":54,"../internals/indexed-object":66,"../internals/to-length":134,"../internals/to-object":135}],20:[function(o,g,y){var l=o("../internals/to-indexed-object"),i=o("../internals/to-integer"),r=o("../internals/to-length"),s=o("../internals/array-method-is-strict"),o=o("../internals/array-method-uses-to-length"),a=Math.min,d=[].lastIndexOf,f=!!d&&1/[1].lastIndexOf(1,-0)<0,s=s("lastIndexOf"),o=o("indexOf",{ACCESSORS:!0,1:0});g.exports=f||!s||!o?function(n){if(f)return d.apply(this,arguments)||0;var u=l(this),h=r(u.length),p=h-1;for((p=1<arguments.length?a(p,i(arguments[1])):p)<0&&(p=h+p);0<=p;p--)if(p in u&&u[p]===n)return p||0;return-1}:d},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":132,"../internals/to-integer":133,"../internals/to-length":134}],21:[function(e,g,y){var l=e("../internals/fails"),i=e("../internals/well-known-symbol"),r=e("../internals/engine-v8-version"),a=i("species");g.exports=function(d){return 51<=r||!l(function(){var f=[];return(f.constructor={})[a]=function(){return{foo:1}},f[d](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":146}],22:[function(e,g,y){var l=e("../internals/fails");g.exports=function(i,r){var a=[][i];return!!a&&l(function(){a.call(null,r||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(e,g,y){function l(s){throw s}var i=e("../internals/descriptors"),r=e("../internals/fails"),a=e("../internals/has"),d=Object.defineProperty,f={};g.exports=function(s,o){var n,u,h,p;return a(f,s)?f[s]:(n=[][s],u=!!a(o=o||{},"ACCESSORS")&&o.ACCESSORS,h=a(o,0)?o[0]:l,p=a(o,1)?o[1]:void 0,f[s]=!!n&&!r(function(){if(u&&!i)return!0;var v={length:-1};u?d(v,1,{enumerable:!0,get:l}):v[1]=1,n.call(v,h,p)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":60}],24:[function(e,g,y){function l(f){return function(s,o,n,u){i(o);var h=r(s),p=a(h),v=d(h.length),_=f?v-1:0,j=f?-1:1;if(n<2)for(;;){if(_ in p){u=p[_],_+=j;break}if(_+=j,f?_<0:v<=_)throw TypeError("Reduce of empty array with no initial value")}for(;f?0<=_:_<v;_+=j)_ in p&&(u=o(u,p[_],_,h));return u}}var i=e("../internals/a-function"),r=e("../internals/to-object"),a=e("../internals/indexed-object"),d=e("../internals/to-length");g.exports={left:l(!1),right:l(!0)}},{"../internals/a-function":5,"../internals/indexed-object":66,"../internals/to-length":134,"../internals/to-object":135}],25:[function(e,g,y){var l=e("../internals/is-object"),i=e("../internals/is-array"),r=e("../internals/well-known-symbol")("species");g.exports=function(a,d){var f;return new((f=i(a)&&(typeof(f=a.constructor)=="function"&&(f===Array||i(f.prototype))||l(f)&&(f=f[r])===null)?void 0:f)===void 0?Array:f)(d===0?0:d)}},{"../internals/is-array":72,"../internals/is-object":74,"../internals/well-known-symbol":146}],26:[function(e,g,y){var l=e("../internals/an-object");g.exports=function(i,r,a,d){try{return d?r(l(a)[0],a[1]):r(a)}catch(f){throw d=i.return,d!==void 0&&l(d.call(i)),f}}},{"../internals/an-object":10}],27:[function(e,g,y){var l=e("../internals/well-known-symbol")("iterator"),i=!1;try{var r=0,a={next:function(){return{done:!!r++}},return:function(){i=!0}};a[l]=function(){return this},Array.from(a,function(){throw 2})}catch{}g.exports=function(d,f){if(!f&&!i)return!1;var s=!1;try{var o={};o[l]=function(){return{next:function(){return{done:s=!0}}}},d(o)}catch{}return s}},{"../internals/well-known-symbol":146}],28:[function(e,g,y){var l={}.toString;g.exports=function(i){return l.call(i).slice(8,-1)}},{}],29:[function(e,g,y){var l=e("../internals/to-string-tag-support"),i=e("../internals/classof-raw"),r=e("../internals/well-known-symbol")("toStringTag"),a=i(function(){return arguments}())=="Arguments";g.exports=l?i:function(d){var f;return d===void 0?"Undefined":d===null?"Null":typeof(f=function(s,o){try{return s[o]}catch{}}(d=Object(d),r))=="string"?f:a?i(d):(f=i(d))=="Object"&&typeof d.callee=="function"?"Arguments":f}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":139,"../internals/well-known-symbol":146}],30:[function(h,g,y){var l=h("../internals/object-define-property").f,i=h("../internals/object-create"),r=h("../internals/redefine-all"),a=h("../internals/function-bind-context"),d=h("../internals/an-instance"),f=h("../internals/iterate"),s=h("../internals/define-iterator"),o=h("../internals/set-species"),n=h("../internals/descriptors"),u=h("../internals/internal-metadata").fastKey,h=h("../internals/internal-state"),p=h.set,v=h.getterFor;g.exports={getConstructor:function(_,j,x,M){function E(P,I,N){var U,W=O(P),z=C(P,I);return z?z.value=N:(W.last=z={index:U=u(I,!0),key:I,value:N,previous:I=W.last,next:void 0,removed:!1},W.first||(W.first=z),I&&(I.next=z),n?W.size++:P.size++,U!=="F"&&(W.index[U]=z)),P}function C(U,I){var N,U=O(U),W=u(I);if(W!=="F")return U.index[W];for(N=U.first;N;N=N.next)if(N.key==I)return N}var R=_(function(P,I){d(P,R,j),p(P,{type:j,index:i(null),first:void 0,last:void 0,size:0}),n||(P.size=0),I!=null&&f(I,P[M],P,x)}),O=v(j);return r(R.prototype,{clear:function(){for(var P=O(this),I=P.index,N=P.first;N;)N.removed=!0,N.previous&&(N.previous=N.previous.next=void 0),delete I[N.index],N=N.next;P.first=P.last=void 0,n?P.size=0:this.size=0},delete:function(W){var I,N,U=O(this),W=C(this,W);return W&&(I=W.next,N=W.previous,delete U.index[W.index],W.removed=!0,N&&(N.next=I),I&&(I.previous=N),U.first==W&&(U.first=I),U.last==W&&(U.last=N),n?U.size--:this.size--),!!W},forEach:function(P){for(var I,N=O(this),U=a(P,1<arguments.length?arguments[1]:void 0,3);I=I?I.next:N.first;)for(U(I.value,I.key,this);I&&I.removed;)I=I.previous},has:function(P){return!!C(this,P)}}),r(R.prototype,x?{get:function(P){return P=C(this,P),P&&P.value},set:function(P,I){return E(this,P===0?0:P,I)}}:{add:function(P){return E(this,P=P===0?0:P,P)}}),n&&l(R.prototype,"size",{get:function(){return O(this).size}}),R},setStrong:function(_,j,x){var M=j+" Iterator",E=v(j),C=v(M);s(_,j,function(R,O){p(this,{type:M,target:R,state:E(R),kind:O,last:void 0})},function(){for(var R=C(this),O=R.kind,P=R.last;P&&P.removed;)P=P.previous;return R.target&&(R.last=P=P?P.next:R.state.first)?O=="keys"?{value:P.key,done:!1}:O=="values"?{value:P.value,done:!1}:{value:[P.key,P.value],done:!1}:{value:R.target=void 0,done:!0}},x?"entries":"values",!x,!0),o(j)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":54,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/iterate":77,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/redefine-all":107,"../internals/set-species":116}],31:[function(p,g,y){function l(E){return E.frozen||(E.frozen=new i)}function i(){this.entries=[]}function r(E,C){return j(E.entries,function(R){return R[0]===C})}var a=p("../internals/redefine-all"),d=p("../internals/internal-metadata").getWeakData,f=p("../internals/an-object"),s=p("../internals/is-object"),o=p("../internals/an-instance"),n=p("../internals/iterate"),u=p("../internals/array-iteration"),h=p("../internals/has"),p=p("../internals/internal-state"),v=p.set,_=p.getterFor,j=u.find,x=u.findIndex,M=0;i.prototype={get:function(E){if(E=r(this,E),E)return E[1]},has:function(E){return!!r(this,E)},set:function(E,C){var R=r(this,E);R?R[1]=C:this.entries.push([E,C])},delete:function(E){var C=x(this.entries,function(R){return R[0]===E});return~C&&this.entries.splice(C,1),!!~C}},g.exports={getConstructor:function(E,C,R,O){function P(U,W,z){var q=N(U),Y=d(f(W),!0);return Y===!0?l(q).set(W,z):Y[q.id]=z,U}var I=E(function(U,W){o(U,I,C),v(U,{type:C,id:M++,frozen:void 0}),W!=null&&n(W,U[O],U,R)}),N=_(C);return a(I.prototype,{delete:function(U){var W,z=N(this);return!!s(U)&&((W=d(U))===!0?l(z).delete(U):W&&h(W,z.id)&&delete W[z.id])},has:function(U){var W,z=N(this);return!!s(U)&&((W=d(U))===!0?l(z).has(U):W&&h(W,z.id))}}),a(I.prototype,R?{get:function(U){var W,z=N(this);if(s(U))return(W=d(U))===!0?l(z).get(U):W?W[z.id]:void 0},set:function(U,W){return P(this,U,W)}}:{add:function(U){return P(this,U,!0)}}),I}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":60,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine-all":107}],32:[function(e,g,y){var l=e("../internals/export"),i=e("../internals/global"),r=e("../internals/is-forced"),a=e("../internals/redefine"),d=e("../internals/internal-metadata"),f=e("../internals/iterate"),s=e("../internals/an-instance"),o=e("../internals/is-object"),n=e("../internals/fails"),u=e("../internals/check-correctness-of-iteration"),h=e("../internals/set-to-string-tag"),p=e("../internals/inherit-if-required");g.exports=function(v,_,j){function x(Y){var G=W[Y];a(W,Y,Y=="add"?function(X){return G.call(this,X===0?0:X),this}:Y=="delete"?function(X){return!(I&&!o(X))&&G.call(this,X===0?0:X)}:Y=="get"?function(X){return I&&!o(X)?void 0:G.call(this,X===0?0:X)}:Y=="has"?function(X){return!(I&&!o(X))&&G.call(this,X===0?0:X)}:function(X,$){return G.call(this,X===0?0:X,$),this})}var M,E,C,R,O,P=v.indexOf("Map")!==-1,I=v.indexOf("Weak")!==-1,N=P?"set":"add",U=i[v],W=U&&U.prototype,z=U,q={};return r(v,typeof U!="function"||!(I||W.forEach&&!n(function(){new U().entries().next()})))?(z=j.getConstructor(_,v,P,N),d.REQUIRED=!0):r(v,!0)&&(E=(M=new z)[N](I?{}:-0,1)!=M,C=n(function(){M.has(1)}),R=u(function(Y){new U(Y)}),O=!I&&n(function(){for(var Y=new U,G=5;G--;)Y[N](G,G);return!Y.has(-0)}),R||(((z=_(function(Y,G){return s(Y,z,v),Y=p(new U,Y,z),G!=null&&f(G,Y[N],Y,P),Y})).prototype=W).constructor=z),(C||O)&&(x("delete"),x("has"),P&&x("get")),(O||E)&&x(N),I&&W.clear&&delete W.clear),q[v]=z,l({global:!0,forced:z!=U},q),h(z,v),I||j.setStrong(z,v,P),z}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-metadata":69,"../internals/is-forced":73,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine":108,"../internals/set-to-string-tag":117}],33:[function(e,g,y){var l=e("../internals/has"),i=e("../internals/own-keys"),r=e("../internals/object-get-own-property-descriptor"),a=e("../internals/object-define-property");g.exports=function(d,f){for(var s=i(f),o=a.f,n=r.f,u=0;u<s.length;u++){var h=s[u];l(d,h)||o(d,h,n(f,h))}}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/own-keys":103}],34:[function(e,g,y){var l=e("../internals/well-known-symbol")("match");g.exports=function(i){var r=/./;try{"/./"[i](r)}catch{try{return r[l]=!1,"/./"[i](r)}catch{}}return!1}},{"../internals/well-known-symbol":146}],35:[function(e,g,y){e=e("../internals/fails"),g.exports=!e(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})},{"../internals/fails":51}],36:[function(e,g,y){var l=e("../internals/require-object-coercible"),i=/"/g;g.exports=function(s,a,d,f){var s=String(l(s)),o="<"+a;return d!==""&&(o+=" "+d+'="'+String(f).replace(i,"&quot;")+'"'),o+">"+s+"</"+a+">"}},{"../internals/require-object-coercible":113}],37:[function(e,g,y){function l(){return this}var i=e("../internals/iterators-core").IteratorPrototype,r=e("../internals/object-create"),a=e("../internals/create-property-descriptor"),d=e("../internals/set-to-string-tag"),f=e("../internals/iterators");g.exports=function(s,o,n){return o+=" Iterator",s.prototype=r(i,{next:a(1,n)}),d(s,o,!1,!0),f[o]=l,s}},{"../internals/create-property-descriptor":39,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-create":90,"../internals/set-to-string-tag":117}],38:[function(e,g,y){var l=e("../internals/descriptors"),i=e("../internals/object-define-property"),r=e("../internals/create-property-descriptor");g.exports=l?function(a,d,f){return i.f(a,d,r(1,f))}:function(a,d,f){return a[d]=f,a}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":92}],39:[function(e,g,y){g.exports=function(l,i){return{enumerable:!(1&l),configurable:!(2&l),writable:!(4&l),value:i}}},{}],40:[function(e,g,y){var l=e("../internals/to-primitive"),i=e("../internals/object-define-property"),r=e("../internals/create-property-descriptor");g.exports=function(a,d,f){d=l(d),d in a?i.f(a,d,r(0,f)):a[d]=f}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":92,"../internals/to-primitive":138}],41:[function(p,g,y){function l(){return this}var i=p("../internals/export"),r=p("../internals/create-iterator-constructor"),a=p("../internals/object-get-prototype-of"),d=p("../internals/object-set-prototype-of"),f=p("../internals/set-to-string-tag"),s=p("../internals/create-non-enumerable-property"),o=p("../internals/redefine"),n=p("../internals/well-known-symbol"),u=p("../internals/is-pure"),h=p("../internals/iterators"),p=p("../internals/iterators-core"),v=p.IteratorPrototype,_=p.BUGGY_SAFARI_ITERATORS,j=n("iterator"),x="values",M="entries";g.exports=function(E,C,R,q,P,I,N){r(R,C,q);function U(k){if(k===P&&$)return $;if(!_&&k in G)return G[k];switch(k){case"keys":case x:case M:return function(){return new R(this,k)}}return function(){return new R(this)}}var W,z,q=C+" Iterator",Y=!1,G=E.prototype,X=G[j]||G["@@iterator"]||P&&G[P],$=!_&&X||U(P),ne=C=="Array"&&G.entries||X;if(ne&&(ne=a(ne.call(new E)),v!==Object.prototype&&ne.next&&(u||a(ne)===v||(d?d(ne,v):typeof ne[j]!="function"&&s(ne,j,l)),f(ne,q,!0,!0),u&&(h[q]=l))),P==x&&X&&X.name!==x&&(Y=!0,$=function(){return X.call(this)}),u&&!N||G[j]===$||s(G,j,$),h[C]=$,P)if(W={values:U(x),keys:I?$:U("keys"),entries:U(M)},N)for(z in W)!_&&!Y&&z in G||o(G,z,W[z]);else i({target:C,proto:!0,forced:_||Y},W);return W}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":75,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":146}],42:[function(e,g,y){var l=e("../internals/path"),i=e("../internals/has"),r=e("../internals/well-known-symbol-wrapped"),a=e("../internals/object-define-property").f;g.exports=function(d){var f=l.Symbol||(l.Symbol={});i(f,d)||a(f,d,{value:r.f(d)})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/path":104,"../internals/well-known-symbol-wrapped":145}],43:[function(e,g,y){e=e("../internals/fails"),g.exports=!e(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(i,g,y){var l=i("../internals/global"),i=i("../internals/is-object"),r=l.document,a=i(r)&&i(r.createElement);g.exports=function(d){return a?r.createElement(d):{}}},{"../internals/global":59,"../internals/is-object":74}],45:[function(e,g,y){g.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(e,g,y){e=e("../internals/engine-user-agent"),g.exports=/(iphone|ipod|ipad).*applewebkit/i.test(e)},{"../internals/engine-user-agent":47}],47:[function(e,g,y){e=e("../internals/get-built-in"),g.exports=e("navigator","userAgent")||""},{"../internals/get-built-in":56}],48:[function(r,g,y){var l,i,a=r("../internals/global"),r=r("../internals/engine-user-agent"),a=a.process,a=a&&a.versions,a=a&&a.v8;a?i=(l=a.split("."))[0]+l[1]:r&&(!(l=r.match(/Edge\/(\d+)/))||74<=l[1])&&(l=r.match(/Chrome\/(\d+)/))&&(i=l[1]),g.exports=i&&+i},{"../internals/engine-user-agent":47,"../internals/global":59}],49:[function(e,g,y){g.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(e,g,y){var l=e("../internals/global"),i=e("../internals/object-get-own-property-descriptor").f,r=e("../internals/create-non-enumerable-property"),a=e("../internals/redefine"),d=e("../internals/set-global"),f=e("../internals/copy-constructor-properties"),s=e("../internals/is-forced");g.exports=function(o,n){var u,h,p,v=o.target,_=o.global,j=o.stat,x=_?l:j?l[v]||d(v,{}):(l[v]||{}).prototype;if(x)for(u in n){if(h=n[u],p=o.noTargetGet?(p=i(x,u))&&p.value:x[u],!s(_?u:v+(j?".":"#")+u,o.forced)&&p!==void 0){if(typeof h==typeof p)continue;f(h,p)}(o.sham||p&&p.sham)&&r(h,"sham",!0),a(x,u,h,o)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/is-forced":73,"../internals/object-get-own-property-descriptor":93,"../internals/redefine":108,"../internals/set-global":115}],51:[function(e,g,y){g.exports=function(l){try{return!!l()}catch{return!0}}},{}],52:[function(n,g,y){n("../modules/es.regexp.exec");var l=n("../internals/redefine"),i=n("../internals/fails"),r=n("../internals/well-known-symbol"),a=n("../internals/regexp-exec"),d=n("../internals/create-non-enumerable-property"),f=r("species"),s=!i(function(){var p=/./;return p.exec=function(){var v=[];return v.groups={a:"7"},v},"".replace(p,"$<a>")!=="7"}),o="a".replace(/./,"$0")==="$0",n=r("replace"),u=!!/./[n]&&/./[n]("a","$0")==="",h=!i(function(){var v=/(?:)/,p=v.exec,v=(v.exec=function(){return p.apply(this,arguments)},"ab".split(v));return v.length!==2||v[0]!=="a"||v[1]!=="b"});g.exports=function(p,v,_,j){var x,M,E=r(p),C=!i(function(){var O={};return O[E]=function(){return 7},""[p](O)!=7}),R=C&&!i(function(){var O=!1,P=/a/;return p==="split"&&((P={constructor:{}}).constructor[f]=function(){return P},P.flags="",P[E]=/./[E]),P.exec=function(){return O=!0,null},P[E](""),!O});C&&R&&(p!=="replace"||s&&o&&!u)&&(p!=="split"||h)||(x=/./[E],_=(R=_(E,""[p],function(O,P,I,N,U){return P.exec===a?C&&!U?{done:!0,value:x.call(P,I,N)}:{done:!0,value:O.call(I,P,N)}:{done:!1}},{REPLACE_KEEPS_$0:o,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:u}))[0],M=R[1],l(String.prototype,p,_),l(RegExp.prototype,E,v==2?function(O,P){return M.call(O,this,P)}:function(O){return M.call(O,this)})),j&&d(RegExp.prototype[E],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-exec":110,"../internals/well-known-symbol":146,"../modules/es.regexp.exec":181}],53:[function(e,g,y){e=e("../internals/fails"),g.exports=!e(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],54:[function(e,g,y){var l=e("../internals/a-function");g.exports=function(i,r,a){if(l(i),r===void 0)return i;switch(a){case 0:return function(){return i.call(r)};case 1:return function(d){return i.call(r,d)};case 2:return function(d,f){return i.call(r,d,f)};case 3:return function(d,f,s){return i.call(r,d,f,s)}}return function(){return i.apply(r,arguments)}}},{"../internals/a-function":5}],55:[function(e,g,y){var l=e("../internals/a-function"),i=e("../internals/is-object"),r=[].slice,a={};g.exports=Function.bind||function(d){var f=l(this),s=r.call(arguments,1),o=function(){var n=s.concat(r.call(arguments));if(this instanceof o){var u=f,h=n.length,p=n;if(!(h in a)){for(var v=[],_=0;_<h;_++)v[_]="a["+_+"]";a[h]=Function("C,a","return new C("+v.join(",")+")")}return a[h](u,p)}return f.apply(d,n)};return i(f.prototype)&&(o.prototype=f.prototype),o}},{"../internals/a-function":5,"../internals/is-object":74}],56:[function(e,g,y){function l(a){return typeof a=="function"?a:void 0}var i=e("../internals/path"),r=e("../internals/global");g.exports=function(a,d){return arguments.length<2?l(i[a])||l(r[a]):i[a]&&i[a][d]||r[a]&&r[a][d]}},{"../internals/global":59,"../internals/path":104}],57:[function(e,g,y){var l=e("../internals/classof"),i=e("../internals/iterators"),r=e("../internals/well-known-symbol")("iterator");g.exports=function(a){if(a!=null)return a[r]||a["@@iterator"]||i[l(a)]}},{"../internals/classof":29,"../internals/iterators":79,"../internals/well-known-symbol":146}],58:[function(e,g,y){var l=e("../internals/an-object"),i=e("../internals/get-iterator-method");g.exports=function(r){var a=i(r);if(typeof a!="function")throw TypeError(String(r)+" is not iterable");return l(a.call(r))}},{"../internals/an-object":10,"../internals/get-iterator-method":57}],59:[function(e,g,y){(function(l){function i(r){return r&&r.Math==Math&&r}g.exports=i(typeof globalThis=="object"&&globalThis)||i(typeof window=="object"&&window)||i(typeof self=="object"&&self)||i(typeof l=="object"&&l)||Function("return this")()}).call(this,typeof uo<"u"?uo:typeof self<"u"?self:typeof window<"u"?window:{})},{}],60:[function(e,g,y){var l={}.hasOwnProperty;g.exports=function(i,r){return l.call(i,r)}},{}],61:[function(e,g,y){g.exports={}},{}],62:[function(e,g,y){var l=e("../internals/global");g.exports=function(i,r){var a=l.console;a&&a.error&&(arguments.length===1?a.error(i):a.error(i,r))}},{"../internals/global":59}],63:[function(e,g,y){e=e("../internals/get-built-in"),g.exports=e("document","documentElement")},{"../internals/get-built-in":56}],64:[function(e,g,y){var l=e("../internals/descriptors"),i=e("../internals/fails"),r=e("../internals/document-create-element");g.exports=!l&&!i(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],65:[function(e,g,y){var l=Math.abs,i=Math.pow,r=Math.floor,a=Math.log,d=Math.LN2;g.exports={pack:function(f,s,_){var n,u,h,p=new Array(_),v=8*_-s-1,_=(1<<v)-1,j=_>>1,x=s===23?i(2,-24)-i(2,-77):0,M=f<0||f===0&&1/f<0?1:0,E=0;for((f=l(f))!=f||f===1/0?(u=f!=f?1:0,n=_):(n=r(a(f)/d),f*(h=i(2,-n))<1&&(n--,h*=2),2<=(f+=1<=n+j?x/h:x*i(2,1-j))*h&&(n++,h/=2),_<=n+j?(u=0,n=_):1<=n+j?(u=(f*h-1)*i(2,s),n+=j):(u=f*i(2,j-1)*i(2,s),n=0));8<=s;p[E++]=255&u,u/=256,s-=8);for(n=n<<s|u,v+=s;0<v;p[E++]=255&n,n/=256,v-=8);return p[--E]|=128*M,p},unpack:function(f,s){var o,n=f.length,_=8*n-s-1,u=(1<<_)-1,h=u>>1,p=_-7,v=n-1,_=f[v--],j=127&_;for(_>>=7;0<p;j=256*j+f[v],v--,p-=8);for(o=j&(1<<-p)-1,j>>=-p,p+=s;0<p;o=256*o+f[v],v--,p-=8);if(j===0)j=1-h;else{if(j===u)return o?NaN:_?-1/0:1/0;o+=i(2,s),j-=h}return(_?-1:1)*o*i(2,j-s)}}},{}],66:[function(e,g,y){var l=e("../internals/fails"),i=e("../internals/classof-raw"),r="".split;g.exports=l(function(){return!Object("z").propertyIsEnumerable(0)})?function(a){return i(a)=="String"?r.call(a,""):Object(a)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],67:[function(e,g,y){var l=e("../internals/is-object"),i=e("../internals/object-set-prototype-of");g.exports=function(r,a,d){return i&&typeof(a=a.constructor)=="function"&&a!==d&&l(a=a.prototype)&&a!==d.prototype&&i(r,a),r}},{"../internals/is-object":74,"../internals/object-set-prototype-of":101}],68:[function(l,g,y){var l=l("../internals/shared-store"),i=Function.toString;typeof l.inspectSource!="function"&&(l.inspectSource=function(r){return i.call(r)}),g.exports=l.inspectSource},{"../internals/shared-store":119}],69:[function(e,g,y){function l(p){d(p,o,{value:{objectID:"O"+ ++n,weakData:{}}})}var i=e("../internals/hidden-keys"),r=e("../internals/is-object"),a=e("../internals/has"),d=e("../internals/object-define-property").f,f=e("../internals/uid"),s=e("../internals/freezing"),o=f("meta"),n=0,u=Object.isExtensible||function(){return!0},h=g.exports={REQUIRED:!1,fastKey:function(p,v){if(!r(p))return typeof p=="symbol"?p:(typeof p=="string"?"S":"P")+p;if(!a(p,o)){if(!u(p))return"F";if(!v)return"E";l(p)}return p[o].objectID},getWeakData:function(p,v){if(!a(p,o)){if(!u(p))return!0;if(!v)return!1;l(p)}return p[o].weakData},onFreeze:function(p){return s&&h.REQUIRED&&u(p)&&!a(p,o)&&l(p),p}};i[o]=!0},{"../internals/freezing":53,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/uid":143}],70:[function(_,g,y){var l,i,r,a,d,f,s,o,n=_("../internals/native-weak-map"),j=_("../internals/global"),u=_("../internals/is-object"),h=_("../internals/create-non-enumerable-property"),p=_("../internals/has"),v=_("../internals/shared-key"),_=_("../internals/hidden-keys"),j=j.WeakMap;s=n?(l=new j,i=l.get,r=l.has,a=l.set,d=function(x,M){return a.call(l,x,M),M},f=function(x){return i.call(l,x)||{}},function(x){return r.call(l,x)}):(_[o=v("state")]=!0,d=function(x,M){return h(x,o,M),M},f=function(x){return p(x,o)?x[o]:{}},function(x){return p(x,o)}),g.exports={set:d,get:f,has:s,enforce:function(x){return s(x)?f(x):d(x,{})},getterFor:function(x){return function(M){if(u(M)&&(M=f(M)).type===x)return M;throw TypeError("Incompatible receiver, "+x+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/shared-key":118}],71:[function(e,g,y){var l=e("../internals/well-known-symbol"),i=e("../internals/iterators"),r=l("iterator"),a=Array.prototype;g.exports=function(d){return d!==void 0&&(i.Array===d||a[r]===d)}},{"../internals/iterators":79,"../internals/well-known-symbol":146}],72:[function(e,g,y){var l=e("../internals/classof-raw");g.exports=Array.isArray||function(i){return l(i)=="Array"}},{"../internals/classof-raw":28}],73:[function(e,g,y){function l(o,n){return(o=d[a(o)])==s||o!=f&&(typeof n=="function"?i(n):!!n)}var i=e("../internals/fails"),r=/#|\.prototype\./,a=l.normalize=function(o){return String(o).replace(r,".").toLowerCase()},d=l.data={},f=l.NATIVE="N",s=l.POLYFILL="P";g.exports=l},{"../internals/fails":51}],74:[function(e,g,y){g.exports=function(l){return typeof l=="object"?l!==null:typeof l=="function"}},{}],75:[function(e,g,y){g.exports=!1},{}],76:[function(e,g,y){var l=e("../internals/is-object"),i=e("../internals/classof-raw"),r=e("../internals/well-known-symbol")("match");g.exports=function(a){var d;return l(a)&&((d=a[r])!==void 0?!!d:i(a)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":74,"../internals/well-known-symbol":146}],77:[function(e,g,y){function l(o,n){this.stopped=o,this.result=n}var i=e("../internals/an-object"),r=e("../internals/is-array-iterator-method"),a=e("../internals/to-length"),d=e("../internals/function-bind-context"),f=e("../internals/get-iterator-method"),s=e("../internals/call-with-safe-iteration-closing");(g.exports=function(o,n,u,h,p){var v,_,j,x,M,E,C=d(n,u,h?2:1);if(p)v=o;else{if(typeof(n=f(o))!="function")throw TypeError("Target is not iterable");if(r(n)){for(_=0,j=a(o.length);_<j;_++)if((x=h?C(i(E=o[_])[0],E[1]):C(o[_]))&&x instanceof l)return x;return new l(!1)}v=n.call(o)}for(M=v.next;!(E=M.call(v)).done;)if(typeof(x=s(v,C,E.value,h))=="object"&&x&&x instanceof l)return x;return new l(!1)}).stop=function(o){return new l(!0,o)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134}],78:[function(f,g,y){var l,i,r=f("../internals/object-get-prototype-of"),a=f("../internals/create-non-enumerable-property"),d=f("../internals/has"),s=f("../internals/well-known-symbol"),f=f("../internals/is-pure"),s=s("iterator"),o=!1;[].keys&&("next"in(i=[].keys())?(r=r(r(i)))!==Object.prototype&&(l=r):o=!0),l==null&&(l={}),f||d(l,s)||a(l,s,function(){return this}),g.exports={IteratorPrototype:l,BUGGY_SAFARI_ITERATORS:o}},{"../internals/create-non-enumerable-property":38,"../internals/has":60,"../internals/is-pure":75,"../internals/object-get-prototype-of":97,"../internals/well-known-symbol":146}],79:[function(e,g,y){g.exports={}},{}],80:[function(e,g,y){g.exports=Math.sign||function(l){return(l=+l)==0||l!=l?l:l<0?-1:1}},{}],81:[function(h,g,y){var l,i,r,a,d,f,s,o,n=h("../internals/global"),M=h("../internals/object-get-own-property-descriptor").f,x=h("../internals/classof-raw"),u=h("../internals/task").set,h=h("../internals/engine-is-ios"),p=n.MutationObserver||n.WebKitMutationObserver,v=n.process,_=n.Promise,j=x(v)=="process",x=M(n,"queueMicrotask"),M=x&&x.value;M||(l=function(){var E,C;for(j&&(E=v.domain)&&E.exit();i;){C=i.fn,i=i.next;try{C()}catch(R){throw i?a():r=void 0,R}}r=void 0,E&&E.enter()},a=j?function(){v.nextTick(l)}:p&&!h?(d=!0,f=document.createTextNode(""),new p(l).observe(f,{characterData:!0}),function(){f.data=d=!d}):_&&_.resolve?(s=_.resolve(void 0),o=s.then,function(){o.call(s,l)}):function(){u.call(n,l)}),g.exports=M||function(E){E={fn:E,next:void 0},r&&(r.next=E),i||(i=E,a()),r=E}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":59,"../internals/object-get-own-property-descriptor":93,"../internals/task":128}],82:[function(e,g,y){e=e("../internals/global"),g.exports=e.Promise},{"../internals/global":59}],83:[function(e,g,y){e=e("../internals/fails"),g.exports=!!Object.getOwnPropertySymbols&&!e(function(){return!String(Symbol())})},{"../internals/fails":51}],84:[function(e,g,y){var l=e("../internals/fails"),i=e("../internals/well-known-symbol"),r=e("../internals/is-pure"),a=i("iterator");g.exports=!l(function(){var d=new URL("b?a=1&b=2&c=3","http://a"),f=d.searchParams,s="";return d.pathname="c%20d",f.forEach(function(o,n){f.delete("b"),s+=n+o}),r&&!d.toJSON||!f.sort||d.href!=="http://a/c%20d?a=1&c=3"||f.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!f[a]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://").host!=="xn--e1aybc"||new URL("http://a#").hash!=="#%D0%B1"||s!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":51,"../internals/is-pure":75,"../internals/well-known-symbol":146}],85:[function(l,g,y){var i=l("../internals/global"),l=l("../internals/inspect-source"),i=i.WeakMap;g.exports=typeof i=="function"&&/native code/.test(l(i))},{"../internals/global":59,"../internals/inspect-source":68}],86:[function(e,g,y){function l(r){var a,d;this.promise=new r(function(f,s){if(a!==void 0||d!==void 0)throw TypeError("Bad Promise constructor");a=f,d=s}),this.resolve=i(a),this.reject=i(d)}var i=e("../internals/a-function");g.exports.f=function(r){return new l(r)}},{"../internals/a-function":5}],87:[function(e,g,y){var l=e("../internals/is-regexp");g.exports=function(i){if(l(i))throw TypeError("The method doesn't accept regular expressions");return i}},{"../internals/is-regexp":76}],88:[function(e,g,y){var l=e("../internals/global").isFinite;g.exports=Number.isFinite||function(i){return typeof i=="number"&&l(i)}},{"../internals/global":59}],89:[function(e,g,y){var l=e("../internals/descriptors"),i=e("../internals/fails"),r=e("../internals/object-keys"),a=e("../internals/object-get-own-property-symbols"),d=e("../internals/object-property-is-enumerable"),f=e("../internals/to-object"),s=e("../internals/indexed-object"),o=Object.assign,n=Object.defineProperty;g.exports=!o||i(function(){var u,h,p,v;return!(!l||o({b:1},o(n({},"a",{enumerable:!0,get:function(){n(this,"b",{value:3,enumerable:!1})}}),{b:2})).b===1)||(h={},v="abcdefghijklmnopqrst",(u={})[p=Symbol()]=7,v.split("").forEach(function(_){h[_]=_}),o({},u)[p]!=7||r(o({},h)).join("")!=v)})?function(u,h){for(var p=f(u),v=arguments.length,_=1,j=a.f,x=d.f;_<v;)for(var M,E=s(arguments[_++]),C=j?r(E).concat(j(E)):r(E),R=C.length,O=0;O<R;)M=C[O++],l&&!x.call(E,M)||(p[M]=E[M]);return p}:o},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":66,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/to-object":135}],90:[function(n,g,y){function l(){}var i,r=n("../internals/an-object"),a=n("../internals/object-define-properties"),d=n("../internals/enum-bug-keys"),f=n("../internals/hidden-keys"),s=n("../internals/html"),o=n("../internals/document-create-element"),n=n("../internals/shared-key"),u="prototype",h="script",p=n("IE_PROTO"),v=function(j){return"<"+h+">"+j+"</"+h+">"},_=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch{}_=i?((j=i).write(v("")),j.close(),x=j.parentWindow.Object,j=null,x):(j=o("iframe"),x="java"+h+":",j.style.display="none",s.appendChild(j),j.src=String(x),(x=j.contentWindow.document).open(),x.write(v("document.F=Object")),x.close(),x.F);for(var j,x,M=d.length;M--;)delete _[u][d[M]];return _()};f[p]=!0,g.exports=Object.create||function(j,x){var M;return j!==null?(l[u]=r(j),M=new l,l[u]=null,M[p]=j):M=_(),x===void 0?M:a(M,x)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":61,"../internals/html":63,"../internals/object-define-properties":91,"../internals/shared-key":118}],91:[function(e,g,y){var l=e("../internals/descriptors"),i=e("../internals/object-define-property"),r=e("../internals/an-object"),a=e("../internals/object-keys");g.exports=l?Object.defineProperties:function(d,f){r(d);for(var s,o=a(f),n=o.length,u=0;u<n;)i.f(d,s=o[u++],f[s]);return d}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":92,"../internals/object-keys":99}],92:[function(e,g,y){var l=e("../internals/descriptors"),i=e("../internals/ie8-dom-define"),r=e("../internals/an-object"),a=e("../internals/to-primitive"),d=Object.defineProperty;y.f=l?d:function(f,s,o){if(r(f),s=a(s,!0),r(o),i)try{return d(f,s,o)}catch{}if("get"in o||"set"in o)throw TypeError("Accessors not supported");return"value"in o&&(f[s]=o.value),f}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":64,"../internals/to-primitive":138}],93:[function(e,g,y){var l=e("../internals/descriptors"),i=e("../internals/object-property-is-enumerable"),r=e("../internals/create-property-descriptor"),a=e("../internals/to-indexed-object"),d=e("../internals/to-primitive"),f=e("../internals/has"),s=e("../internals/ie8-dom-define"),o=Object.getOwnPropertyDescriptor;y.f=l?o:function(n,u){if(n=a(n),u=d(u,!0),s)try{return o(n,u)}catch{}if(f(n,u))return r(!i.f.call(n,u),n[u])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":60,"../internals/ie8-dom-define":64,"../internals/object-property-is-enumerable":100,"../internals/to-indexed-object":132,"../internals/to-primitive":138}],94:[function(e,g,y){var l=e("../internals/to-indexed-object"),i=e("../internals/object-get-own-property-names").f,r={}.toString,a=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];g.exports.f=function(d){if(!a||r.call(d)!="[object Window]")return i(l(d));try{return i(d)}catch{return a.slice()}}},{"../internals/object-get-own-property-names":95,"../internals/to-indexed-object":132}],95:[function(e,g,y){var l=e("../internals/object-keys-internal"),i=e("../internals/enum-bug-keys").concat("length","prototype");y.f=Object.getOwnPropertyNames||function(r){return l(r,i)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],96:[function(e,g,y){y.f=Object.getOwnPropertySymbols},{}],97:[function(a,g,y){var l=a("../internals/has"),i=a("../internals/to-object"),r=a("../internals/shared-key"),a=a("../internals/correct-prototype-getter"),d=r("IE_PROTO"),f=Object.prototype;g.exports=a?Object.getPrototypeOf:function(s){return s=i(s),l(s,d)?s[d]:typeof s.constructor=="function"&&s instanceof s.constructor?s.constructor.prototype:s instanceof Object?f:null}},{"../internals/correct-prototype-getter":35,"../internals/has":60,"../internals/shared-key":118,"../internals/to-object":135}],98:[function(e,g,y){var l=e("../internals/has"),i=e("../internals/to-indexed-object"),r=e("../internals/array-includes").indexOf,a=e("../internals/hidden-keys");g.exports=function(d,f){var s,o=i(d),n=0,u=[];for(s in o)!l(a,s)&&l(o,s)&&u.push(s);for(;f.length>n;)!l(o,s=f[n++])||~r(u,s)||u.push(s);return u}},{"../internals/array-includes":18,"../internals/has":60,"../internals/hidden-keys":61,"../internals/to-indexed-object":132}],99:[function(e,g,y){var l=e("../internals/object-keys-internal"),i=e("../internals/enum-bug-keys");g.exports=Object.keys||function(r){return l(r,i)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],100:[function(e,g,y){var l={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,r=i&&!l.call({1:2},1);y.f=r?function(a){return a=i(this,a),!!a&&a.enumerable}:l},{}],101:[function(e,g,y){var l=e("../internals/an-object"),i=e("../internals/a-possible-prototype");g.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var r,a=!1,d={};try{(r=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(d,[]),a=d instanceof Array}catch{}return function(f,s){return l(f),i(s),a?r.call(f,s):f.__proto__=s,f}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],102:[function(e,g,y){var l=e("../internals/to-string-tag-support"),i=e("../internals/classof");g.exports=l?{}.toString:function(){return"[object "+i(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":139}],103:[function(e,g,y){var l=e("../internals/get-built-in"),i=e("../internals/object-get-own-property-names"),r=e("../internals/object-get-own-property-symbols"),a=e("../internals/an-object");g.exports=l("Reflect","ownKeys")||function(d){var f=i.f(a(d)),s=r.f;return s?f.concat(s(d)):f}},{"../internals/an-object":10,"../internals/get-built-in":56,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-symbols":96}],104:[function(e,g,y){e=e("../internals/global"),g.exports=e},{"../internals/global":59}],105:[function(e,g,y){g.exports=function(l){try{return{error:!1,value:l()}}catch(i){return{error:!0,value:i}}}},{}],106:[function(e,g,y){var l=e("../internals/an-object"),i=e("../internals/is-object"),r=e("../internals/new-promise-capability");g.exports=function(a,d){return l(a),i(d)&&d.constructor===a?d:((0,(a=r.f(a)).resolve)(d),a.promise)}},{"../internals/an-object":10,"../internals/is-object":74,"../internals/new-promise-capability":86}],107:[function(e,g,y){var l=e("../internals/redefine");g.exports=function(i,r,a){for(var d in r)l(i,d,r[d],a);return i}},{"../internals/redefine":108}],108:[function(f,g,y){var l=f("../internals/global"),i=f("../internals/create-non-enumerable-property"),r=f("../internals/has"),a=f("../internals/set-global"),d=f("../internals/inspect-source"),f=f("../internals/internal-state"),s=f.get,o=f.enforce,n=String(String).split("String");(g.exports=function(u,h,p,x){var _=!!x&&!!x.unsafe,j=!!x&&!!x.enumerable,x=!!x&&!!x.noTargetGet;typeof p=="function"&&(typeof h!="string"||r(p,"name")||i(p,"name",h),o(p).source=n.join(typeof h=="string"?h:"")),u===l?j?u[h]=p:a(h,p):(_?!x&&u[h]&&(j=!0):delete u[h],j?u[h]=p:i(u,h,p))})(Function.prototype,"toString",function(){return typeof this=="function"&&s(this).source||d(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/set-global":115}],109:[function(e,g,y){var l=e("./classof-raw"),i=e("./regexp-exec");g.exports=function(r,a){var d=r.exec;if(typeof d=="function"){if(d=d.call(r,a),typeof d!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return d}if(l(r)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return i.call(r,a)}},{"./classof-raw":28,"./regexp-exec":110}],110:[function(a,g,y){var l,i,r=a("./regexp-flags"),a=a("./regexp-sticky-helpers"),d=RegExp.prototype.exec,f=String.prototype.replace,s=d,o=(l=/a/,i=/b*/g,d.call(l,"a"),d.call(i,"a"),l.lastIndex!==0||i.lastIndex!==0),n=a.UNSUPPORTED_Y||a.BROKEN_CARET,u=/()??/.exec("")[1]!==void 0;g.exports=s=o||u||n?function(h){var p,v,_,j,x=this,M=n&&x.sticky,E=r.call(x),C=x.source,R=0,O=h;return M&&((E=E.replace("y","")).indexOf("g")===-1&&(E+="g"),O=String(h).slice(x.lastIndex),0<x.lastIndex&&(!x.multiline||x.multiline&&h[x.lastIndex-1]!==`
`)&&(C="(?: "+C+")",O=" "+O,R++),v=new RegExp("^(?:"+C+")",E)),u&&(v=new RegExp("^"+C+"$(?!\\s)",E)),o&&(p=x.lastIndex),_=d.call(M?v:x,O),M?_?(_.input=_.input.slice(R),_[0]=_[0].slice(R),_.index=x.lastIndex,x.lastIndex+=_[0].length):x.lastIndex=0:o&&_&&(x.lastIndex=x.global?_.index+_[0].length:p),u&&_&&1<_.length&&f.call(_[0],v,function(){for(j=1;j<arguments.length-2;j++)arguments[j]===void 0&&(_[j]=void 0)}),_}:s},{"./regexp-flags":111,"./regexp-sticky-helpers":112}],111:[function(e,g,y){var l=e("../internals/an-object");g.exports=function(){var i=l(this),r="";return i.global&&(r+="g"),i.ignoreCase&&(r+="i"),i.multiline&&(r+="m"),i.dotAll&&(r+="s"),i.unicode&&(r+="u"),i.sticky&&(r+="y"),r}},{"../internals/an-object":10}],112:[function(e,g,y){e=e("./fails");function l(i,r){return RegExp(i,r)}y.UNSUPPORTED_Y=e(function(){var i=l("a","y");return i.lastIndex=2,i.exec("abcd")!=null}),y.BROKEN_CARET=e(function(){var i=l("^r","gy");return i.lastIndex=2,i.exec("str")!=null})},{"./fails":51}],113:[function(e,g,y){g.exports=function(l){if(l==null)throw TypeError("Can't call method on "+l);return l}},{}],114:[function(e,g,y){g.exports=Object.is||function(l,i){return l===i?l!==0||1/l==1/i:l!=l&&i!=i}},{}],115:[function(e,g,y){var l=e("../internals/global"),i=e("../internals/create-non-enumerable-property");g.exports=function(r,a){try{i(l,r,a)}catch{l[r]=a}return a}},{"../internals/create-non-enumerable-property":38,"../internals/global":59}],116:[function(e,g,y){var l=e("../internals/get-built-in"),i=e("../internals/object-define-property"),r=e("../internals/well-known-symbol"),a=e("../internals/descriptors"),d=r("species");g.exports=function(s){var s=l(s),o=i.f;a&&s&&!s[d]&&o(s,d,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":56,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],117:[function(e,g,y){var l=e("../internals/object-define-property").f,i=e("../internals/has"),r=e("../internals/well-known-symbol")("toStringTag");g.exports=function(a,d,f){a&&!i(a=f?a:a.prototype,r)&&l(a,r,{configurable:!0,value:d})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],118:[function(e,g,y){var l=e("../internals/shared"),i=e("../internals/uid"),r=l("keys");g.exports=function(a){return r[a]||(r[a]=i(a))}},{"../internals/shared":120,"../internals/uid":143}],119:[function(l,g,y){var r=l("../internals/global"),l=l("../internals/set-global"),i="__core-js_shared__",r=r[i]||l(i,{});g.exports=r},{"../internals/global":59,"../internals/set-global":115}],120:[function(e,g,y){var l=e("../internals/is-pure"),i=e("../internals/shared-store");(g.exports=function(r,a){return i[r]||(i[r]=a!==void 0?a:{})})("versions",[]).push({version:"3.6.5",mode:l?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":75,"../internals/shared-store":119}],121:[function(e,g,y){var l=e("../internals/an-object"),i=e("../internals/a-function"),r=e("../internals/well-known-symbol")("species");g.exports=function(f,d){var f=l(f).constructor;return f===void 0||(f=l(f)[r])==null?d:i(f)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":146}],122:[function(e,g,y){var l=e("../internals/fails");g.exports=function(i){return l(function(){var r=""[i]('"');return r!==r.toLowerCase()||3<r.split('"').length})}},{"../internals/fails":51}],123:[function(e,g,y){function l(a){return function(o,n){var s,o=String(r(o)),n=i(n),u=o.length;return n<0||u<=n?a?"":void 0:(s=o.charCodeAt(n))<55296||56319<s||n+1===u||(u=o.charCodeAt(n+1))<56320||57343<u?a?o.charAt(n):s:a?o.slice(n,n+2):u-56320+(s-55296<<10)+65536}}var i=e("../internals/to-integer"),r=e("../internals/require-object-coercible");g.exports={codeAt:l(!1),charAt:l(!0)}},{"../internals/require-object-coercible":113,"../internals/to-integer":133}],124:[function(e,g,y){function l(_){return _+22+75*(_<26)}function i(_){var j,x=[],M=(_=function(X){for(var $=[],ne=0,k=X.length;ne<k;){var L,F=X.charCodeAt(ne++);55296<=F&&F<=56319&&ne<k?(64512&(L=X.charCodeAt(ne++)))==56320?$.push(((1023&F)<<10)+(1023&L)+65536):($.push(F),ne--):$.push(F)}return $}(_)).length,E=128,C=0,R=72;for(N=0;N<_.length;N++)(j=_[N])<128&&x.push(v(j));var O=x.length,P=O;for(O&&x.push("-");P<M;){for(var I=r,N=0;N<_.length;N++)E<=(j=_[N])&&j<I&&(I=j);var U=P+1;if(I-E>p((r-C)/U))throw RangeError(u);for(C+=(I-E)*U,E=I,N=0;N<_.length;N++){if((j=_[N])<E&&++C>r)throw RangeError(u);if(j==E){for(var W=C,z=a;;z+=a){var q=z<=R?1:R+d<=z?d:z-R;if(W<q)break;var Y=W-q,G=a-q;x.push(v(l(q+Y%G))),W=p(Y/G)}x.push(v(l(W))),R=function(X,$,ne){var k=0;for(X=ne?p(X/s):X>>1,X+=p(X/$);h*d>>1<X;k+=a)X=p(X/h);return p(k+(h+1)*X/(X+f))}(C,U,P==O),C=0,++P}}++C,++E}return x.join("")}var r=2147483647,a=36,d=26,f=38,s=700,o=/[^\0-\u007E]/,n=/[.\u3002\uFF0E\uFF61]/g,u="Overflow: input needs wider integers to process",h=a-1,p=Math.floor,v=String.fromCharCode;g.exports=function(_){for(var j,x=[],M=_.toLowerCase().replace(n,".").split("."),E=0;E<M.length;E++)j=M[E],x.push(o.test(j)?"xn--"+i(j):j);return x.join(".")}},{}],125:[function(e,g,y){var l=e("../internals/to-integer"),i=e("../internals/require-object-coercible");g.exports="".repeat||function(r){var a=String(i(this)),d="",f=l(r);if(f<0||f==1/0)throw RangeError("Wrong number of repetitions");for(;0<f;(f>>>=1)&&(a+=a))1&f&&(d+=a);return d}},{"../internals/require-object-coercible":113,"../internals/to-integer":133}],126:[function(e,g,y){var l=e("../internals/fails"),i=e("../internals/whitespaces");g.exports=function(r){return l(function(){return!!i[r]()||""[r]()!=""||i[r].name!==r})}},{"../internals/fails":51,"../internals/whitespaces":147}],127:[function(r,g,y){function l(f){return function(s){return s=String(i(s)),1&f&&(s=s.replace(a,"")),s=2&f?s.replace(d,""):s}}var i=r("../internals/require-object-coercible"),r="["+r("../internals/whitespaces")+"]",a=RegExp("^"+r+r+"*"),d=RegExp(r+r+"*$");g.exports={start:l(1),end:l(2),trim:l(3)}},{"../internals/require-object-coercible":113,"../internals/whitespaces":147}],128:[function(h,g,y){function l(P){return function(){O(P)}}function i(P){O(P.data)}function r(P){d.postMessage(P+"",p.protocol+"//"+p.host)}var a,d=h("../internals/global"),f=h("../internals/fails"),s=h("../internals/classof-raw"),o=h("../internals/function-bind-context"),n=h("../internals/html"),u=h("../internals/document-create-element"),h=h("../internals/engine-is-ios"),p=d.location,v=d.setImmediate,_=d.clearImmediate,j=d.process,x=d.MessageChannel,M=d.Dispatch,E=0,C={},R="onreadystatechange",O=function(P){var I;C.hasOwnProperty(P)&&(I=C[P],delete C[P],I())};v&&_||(v=function(P){for(var I=[],N=1;N<arguments.length;)I.push(arguments[N++]);return C[++E]=function(){(typeof P=="function"?P:Function(P)).apply(void 0,I)},a(E),E},_=function(P){delete C[P]},s(j)=="process"?a=function(P){j.nextTick(l(P))}:M&&M.now?a=function(P){M.now(l(P))}:x&&!h?(h=(s=new x).port2,s.port1.onmessage=i,a=o(h.postMessage,h,1)):!d.addEventListener||typeof postMessage!="function"||d.importScripts||f(r)||p.protocol==="file:"?a=R in u("script")?function(P){n.appendChild(u("script"))[R]=function(){n.removeChild(this),O(P)}}:function(P){setTimeout(l(P),0)}:(a=r,d.addEventListener("message",i,!1))),g.exports={set:v,clear:_}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":54,"../internals/global":59,"../internals/html":63}],129:[function(e,g,y){var l=e("../internals/classof-raw");g.exports=function(i){if(typeof i!="number"&&l(i)!="Number")throw TypeError("Incorrect invocation");return+i}},{"../internals/classof-raw":28}],130:[function(e,g,y){var l=e("../internals/to-integer"),i=Math.max,r=Math.min;g.exports=function(a,d){return a=l(a),a<0?i(a+d,0):r(a,d)}},{"../internals/to-integer":133}],131:[function(e,g,y){var l=e("../internals/to-integer"),i=e("../internals/to-length");g.exports=function(a){if(a===void 0)return 0;var a=l(a),d=i(a);if(a!==d)throw RangeError("Wrong length or index");return d}},{"../internals/to-integer":133,"../internals/to-length":134}],132:[function(e,g,y){var l=e("../internals/indexed-object"),i=e("../internals/require-object-coercible");g.exports=function(r){return l(i(r))}},{"../internals/indexed-object":66,"../internals/require-object-coercible":113}],133:[function(e,g,y){var l=Math.ceil,i=Math.floor;g.exports=function(r){return isNaN(r=+r)?0:(0<r?i:l)(r)}},{}],134:[function(e,g,y){var l=e("../internals/to-integer"),i=Math.min;g.exports=function(r){return 0<r?i(l(r),9007199254740991):0}},{"../internals/to-integer":133}],135:[function(e,g,y){var l=e("../internals/require-object-coercible");g.exports=function(i){return Object(l(i))}},{"../internals/require-object-coercible":113}],136:[function(e,g,y){var l=e("../internals/to-positive-integer");g.exports=function(i,r){if(i=l(i),i%r)throw RangeError("Wrong offset");return i}},{"../internals/to-positive-integer":137}],137:[function(e,g,y){var l=e("../internals/to-integer");g.exports=function(i){if(i=l(i),i<0)throw RangeError("The argument can't be less than 0");return i}},{"../internals/to-integer":133}],138:[function(e,g,y){var l=e("../internals/is-object");g.exports=function(i,r){if(!l(i))return i;var a,d;if(r&&typeof(a=i.toString)=="function"&&!l(d=a.call(i))||typeof(a=i.valueOf)=="function"&&!l(d=a.call(i))||!r&&typeof(a=i.toString)=="function"&&!l(d=a.call(i)))return d;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":74}],139:[function(e,g,y){var l={};l[e("../internals/well-known-symbol")("toStringTag")]="z",g.exports=String(l)==="[object z]"},{"../internals/well-known-symbol":146}],140:[function(e,g,y){function l(pe,Te){for(var we=0,Re=Te.length,Ee=new(J(pe))(Re);we<Re;)Ee[we]=Te[we++];return Ee}function i(pe,Te){L(pe,Te,{get:function(){return ne(this)[Te]}})}function r(pe){return pe instanceof re||(pe=O(pe))=="ArrayBuffer"||pe=="SharedArrayBuffer"}function a(pe,Te){return ie(pe)&&typeof Te!="symbol"&&Te in pe&&String(+Te)==String(Te)}function d(pe,Te){return a(pe,Te=C(Te,!0))?_(2,pe[Te]):F(pe,Te)}function f(pe,Te,we){return!(a(pe,Te=C(Te,!0))&&P(we)&&R(we,"value"))||R(we,"get")||R(we,"set")||we.configurable||R(we,"writable")&&!we.writable||R(we,"enumerable")&&!we.enumerable?L(pe,Te,we):(pe[Te]=we.value,pe)}var s=e("../internals/export"),o=e("../internals/global"),n=e("../internals/descriptors"),u=e("../internals/typed-array-constructors-require-wrappers"),h=e("../internals/array-buffer-view-core"),p=e("../internals/array-buffer"),v=e("../internals/an-instance"),_=e("../internals/create-property-descriptor"),j=e("../internals/create-non-enumerable-property"),x=e("../internals/to-length"),M=e("../internals/to-index"),E=e("../internals/to-offset"),C=e("../internals/to-primitive"),R=e("../internals/has"),O=e("../internals/classof"),P=e("../internals/is-object"),I=e("../internals/object-create"),N=e("../internals/object-set-prototype-of"),U=e("../internals/object-get-own-property-names").f,W=e("../internals/typed-array-from"),z=e("../internals/array-iteration").forEach,q=e("../internals/set-species"),Y=e("../internals/object-define-property"),G=e("../internals/object-get-own-property-descriptor"),X=e("../internals/internal-state"),$=e("../internals/inherit-if-required"),ne=X.get,k=X.set,L=Y.f,F=G.f,H=Math.round,ee=o.RangeError,re=p.ArrayBuffer,le=p.DataView,fe=h.NATIVE_ARRAY_BUFFER_VIEWS,ae=h.TYPED_ARRAY_TAG,ce=h.TypedArray,ge=h.TypedArrayPrototype,J=h.aTypedArrayConstructor,ie=h.isTypedArray,ue="BYTES_PER_ELEMENT",me="Wrong length";n?(fe||(G.f=d,Y.f=f,i(ge,"buffer"),i(ge,"byteOffset"),i(ge,"byteLength"),i(ge,"length")),s({target:"Object",stat:!0,forced:!fe},{getOwnPropertyDescriptor:d,defineProperty:f}),g.exports=function(be,Te,we){function Re(xe,Z){L(xe,Z,{get:function(){var K=this,V=Z;return(K=ne(K)).view[ze](V*Ee+K.byteOffset,!0)},set:function(K){var V=this,te=Z;V=ne(V),we&&(K=(K=H(K))<0?0:255<K?255:255&K),V.view[Ge](te*Ee+V.byteOffset,K,!0)},enumerable:!0})}var Ee=be.match(/\d+$/)[0]/8,Ue=be+(we?"Clamped":"")+"Array",ze="get"+be,Ge="set"+be,Ze=o[Ue],Ye=Ze,be=Ye&&Ye.prototype,Pe={};fe?u&&(Ye=Te(function(xe,Z,K,V){return v(xe,Ye,Ue),$(P(Z)?r(Z)?V!==void 0?new Ze(Z,E(K,Ee),V):K!==void 0?new Ze(Z,E(K,Ee)):new Ze(Z):ie(Z)?l(Ye,Z):W.call(Ye,Z):new Ze(M(Z)),xe,Ye)}),N&&N(Ye,ce),z(U(Ze),function(xe){xe in Ye||j(Ye,xe,Ze[xe])}),Ye.prototype=be):(Ye=Te(function(xe,Z,K,V){v(xe,Ye,Ue);var te,ve,je=0,Ae=0;if(P(Z)){if(!r(Z))return ie(Z)?l(Ye,Z):W.call(Ye,Z);var Ne=Z,Ae=E(K,Ee),K=Z.byteLength;if(V===void 0){if(K%Ee||(te=K-Ae)<0)throw ee(me)}else if(K<(te=x(V)*Ee)+Ae)throw ee(me);ve=te/Ee}else ve=M(Z),Ne=new re(te=ve*Ee);for(k(xe,{buffer:Ne,byteOffset:Ae,byteLength:te,length:ve,view:new le(Ne)});je<ve;)Re(xe,je++)}),N&&N(Ye,ce),be=Ye.prototype=I(ge)),be.constructor!==Ye&&j(be,"constructor",Ye),ae&&j(be,ae,Ue),Pe[Ue]=Ye,s({global:!0,forced:Ye!=Ze,sham:!fe},Pe),ue in Ye||j(Ye,ue,Ee),ue in be||j(be,ue,Ee),q(Ue)}):g.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-object":74,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-set-prototype-of":101,"../internals/set-species":116,"../internals/to-index":131,"../internals/to-length":134,"../internals/to-offset":136,"../internals/to-primitive":138,"../internals/typed-array-constructors-require-wrappers":141,"../internals/typed-array-from":142}],141:[function(a,g,y){var l=a("../internals/global"),i=a("../internals/fails"),r=a("../internals/check-correctness-of-iteration"),a=a("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,d=l.ArrayBuffer,f=l.Int8Array;g.exports=!a||!i(function(){f(1)})||!i(function(){new f(-1)})||!r(function(s){new f,new f(null),new f(1.5),new f(s)},!0)||i(function(){return new f(new d(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":59}],142:[function(e,g,y){var l=e("../internals/to-object"),i=e("../internals/to-length"),r=e("../internals/get-iterator-method"),a=e("../internals/is-array-iterator-method"),d=e("../internals/function-bind-context"),f=e("../internals/array-buffer-view-core").aTypedArrayConstructor;g.exports=function(s){var o,n,u,h,p,v,_=l(s),j=arguments.length,x=1<j?arguments[1]:void 0,M=x!==void 0,E=r(_);if(E!=null&&!a(E))for(v=(p=E.call(_)).next,_=[];!(h=v.call(p)).done;)_.push(h.value);for(M&&2<j&&(x=d(x,arguments[2],2)),n=i(_.length),u=new(f(this))(n),o=0;o<n;o++)u[o]=M?x(_[o],o):_[o];return u}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134,"../internals/to-object":135}],143:[function(e,g,y){var l=0,i=Math.random();g.exports=function(r){return"Symbol("+String(r===void 0?"":r)+")_"+(++l+i).toString(36)}},{}],144:[function(e,g,y){e=e("../internals/native-symbol"),g.exports=e&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":83}],145:[function(e,g,y){e=e("../internals/well-known-symbol"),y.f=e},{"../internals/well-known-symbol":146}],146:[function(f,g,y){var l=f("../internals/global"),i=f("../internals/shared"),r=f("../internals/has"),a=f("../internals/uid"),d=f("../internals/native-symbol"),f=f("../internals/use-symbol-as-uid"),s=i("wks"),o=l.Symbol,n=f?o:o&&o.withoutSetter||a;g.exports=function(u){return r(s,u)||(d&&r(o,u)?s[u]=o[u]:s[u]=n("Symbol."+u)),s[u]}},{"../internals/global":59,"../internals/has":60,"../internals/native-symbol":83,"../internals/shared":120,"../internals/uid":143,"../internals/use-symbol-as-uid":144}],147:[function(e,g,y){g.exports=`	
\v\f\r \u2028\u2029\uFEFF`},{}],148:[function(r,g,y){var l=r("../internals/export"),i=r("../internals/global"),d=r("../internals/array-buffer"),r=r("../internals/set-species"),a="ArrayBuffer",d=d[a];l({global:!0,forced:i[a]!==d},{ArrayBuffer:d}),r(a)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":59,"../internals/set-species":116}],149:[function(_,g,y){var l=_("../internals/export"),i=_("../internals/fails"),r=_("../internals/is-array"),a=_("../internals/is-object"),d=_("../internals/to-object"),f=_("../internals/to-length"),s=_("../internals/create-property"),o=_("../internals/array-species-create"),n=_("../internals/array-method-has-species-support"),v=_("../internals/well-known-symbol"),_=_("../internals/engine-v8-version"),u=v("isConcatSpreadable"),h=9007199254740991,p="Maximum allowed index exceeded",v=51<=_||!i(function(){var j=[];return j[u]=!1,j.concat()[0]!==j}),_=n("concat");l({target:"Array",proto:!0,forced:!v||!_},{concat:function(j){for(var x,M,E,C,R,O=d(this),P=o(O,0),I=0,N=-1,U=arguments.length;N<U;N++)if(R=void 0,!a(C=E=N===-1?O:arguments[N])||((R=C[u])!==void 0?!R:!r(C))){if(h<=I)throw TypeError(p);s(P,I++,E)}else{if(M=f(E.length),h<I+M)throw TypeError(p);for(x=0;x<M;x++,I++)x in E&&s(P,I,E[x])}return P.length=I,P}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-length":134,"../internals/to-object":135,"../internals/well-known-symbol":146}],150:[function(r,g,y){var l=r("../internals/export"),i=r("../internals/array-copy-within"),r=r("../internals/add-to-unscopables");l({target:"Array",proto:!0},{copyWithin:i}),r("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],151:[function(a,g,y){var l=a("../internals/export"),i=a("../internals/array-iteration").every,r=a("../internals/array-method-is-strict"),a=a("../internals/array-method-uses-to-length"),r=r("every"),a=a("every");l({target:"Array",proto:!0,forced:!r||!a},{every:function(d){return i(this,d,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],152:[function(r,g,y){var l=r("../internals/export"),i=r("../internals/array-fill"),r=r("../internals/add-to-unscopables");l({target:"Array",proto:!0},{fill:i}),r("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],153:[function(a,g,y){var l=a("../internals/export"),i=a("../internals/array-iteration").filter,r=a("../internals/array-method-has-species-support"),a=a("../internals/array-method-uses-to-length"),r=r("filter"),a=a("filter");l({target:"Array",proto:!0,forced:!r||!a},{filter:function(d){return i(this,d,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],154:[function(i,g,y){var l=i("../internals/export"),i=i("../internals/array-for-each");l({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},{"../internals/array-for-each":16,"../internals/export":50}],155:[function(e,g,y){var l=e("../internals/export"),i=e("../internals/array-from");l({target:"Array",stat:!0,forced:!e("../internals/check-correctness-of-iteration")(function(r){Array.from(r)})},{from:i})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],156:[function(e,g,y){var l=e("../internals/export"),i=e("../internals/array-includes").includes,r=e("../internals/add-to-unscopables");l({target:"Array",proto:!0,forced:!e("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(a){return i(this,a,1<arguments.length?arguments[1]:void 0)}}),r("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],157:[function(f,g,y){var l=f("../internals/export"),i=f("../internals/array-includes").indexOf,d=f("../internals/array-method-is-strict"),f=f("../internals/array-method-uses-to-length"),r=[].indexOf,a=!!r&&1/[1].indexOf(1,-0)<0,d=d("indexOf"),f=f("indexOf",{ACCESSORS:!0,1:0});l({target:"Array",proto:!0,forced:a||!d||!f},{indexOf:function(s){return a?r.apply(this,arguments)||0:i(this,s,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(d,g,y){var l=d("../internals/to-indexed-object"),i=d("../internals/add-to-unscopables"),r=d("../internals/iterators"),a=d("../internals/internal-state"),d=d("../internals/define-iterator"),f="Array Iterator",s=a.set,o=a.getterFor(f);g.exports=d(Array,"Array",function(n,u){s(this,{type:f,target:l(n),index:0,kind:u})},function(){var n=o(this),u=n.target,h=n.kind,p=n.index++;return!u||p>=u.length?{value:n.target=void 0,done:!0}:h=="keys"?{value:p,done:!1}:h=="values"?{value:u[p],done:!1}:{value:[p,u[p]],done:!1}},"values"),r.Arguments=r.Array,i("keys"),i("values"),i("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/iterators":79,"../internals/to-indexed-object":132}],159:[function(d,g,y){var l=d("../internals/export"),a=d("../internals/indexed-object"),i=d("../internals/to-indexed-object"),d=d("../internals/array-method-is-strict"),r=[].join,a=a!=Object,d=d("join",",");l({target:"Array",proto:!0,forced:a||!d},{join:function(f){return r.call(i(this),f===void 0?",":f)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":66,"../internals/to-indexed-object":132}],160:[function(i,g,y){var l=i("../internals/export"),i=i("../internals/array-last-index-of");l({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},{"../internals/array-last-index-of":20,"../internals/export":50}],161:[function(a,g,y){var l=a("../internals/export"),i=a("../internals/array-iteration").map,r=a("../internals/array-method-has-species-support"),a=a("../internals/array-method-uses-to-length"),r=r("map"),a=a("map");l({target:"Array",proto:!0,forced:!r||!a},{map:function(d){return i(this,d,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],162:[function(u,g,y){var l=u("../internals/export"),i=u("../internals/is-object"),r=u("../internals/is-array"),a=u("../internals/to-absolute-index"),d=u("../internals/to-length"),f=u("../internals/to-indexed-object"),s=u("../internals/create-property"),o=u("../internals/well-known-symbol"),n=u("../internals/array-method-has-species-support"),u=u("../internals/array-method-uses-to-length"),n=n("slice"),u=u("slice",{ACCESSORS:!0,0:0,1:2}),h=o("species"),p=[].slice,v=Math.max;l({target:"Array",proto:!0,forced:!n||!u},{slice:function(_,j){var x,M,E,C=f(this),R=d(C.length),O=a(_,R),P=a(j===void 0?R:j,R);if(r(C)&&((x=typeof(x=C.constructor)=="function"&&(x===Array||r(x.prototype))||i(x)&&(x=x[h])===null?void 0:x)===Array||x===void 0))return p.call(C,O,P);for(M=new(x===void 0?Array:x)(v(P-O,0)),E=0;O<P;O++,E++)O in C&&s(M,E,C[O]);return M.length=E,M}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-absolute-index":130,"../internals/to-indexed-object":132,"../internals/to-length":134,"../internals/well-known-symbol":146}],163:[function(a,g,y){var l=a("../internals/export"),i=a("../internals/array-iteration").some,r=a("../internals/array-method-is-strict"),a=a("../internals/array-method-uses-to-length"),r=r("some"),a=a("some");l({target:"Array",proto:!0,forced:!r||!a},{some:function(d){return i(this,d,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(n,g,y){var l=n("../internals/export"),i=n("../internals/to-absolute-index"),r=n("../internals/to-integer"),a=n("../internals/to-length"),d=n("../internals/to-object"),f=n("../internals/array-species-create"),s=n("../internals/create-property"),o=n("../internals/array-method-has-species-support"),n=n("../internals/array-method-uses-to-length"),o=o("splice"),n=n("splice",{ACCESSORS:!0,0:0,1:2}),u=Math.max,h=Math.min;l({target:"Array",proto:!0,forced:!o||!n},{splice:function(I,v){var _,j,x,M,E,C,R=d(this),O=a(R.length),P=i(I,O),I=arguments.length;if(I===0?_=j=0:j=I===1?(_=0,O-P):(_=I-2,h(u(r(v),0),O-P)),9007199254740991<O+_-j)throw TypeError("Maximum allowed length exceeded");for(x=f(R,j),M=0;M<j;M++)(E=P+M)in R&&s(x,M,R[E]);if(_<(x.length=j)){for(M=P;M<O-j;M++)C=M+_,(E=M+j)in R?R[C]=R[E]:delete R[C];for(M=O;O-j+_<M;M--)delete R[M-1]}else if(j<_)for(M=O-j;P<M;M--)C=M+_-1,(E=M+j-1)in R?R[C]=R[E]:delete R[C];for(M=0;M<_;M++)R[M+P]=arguments[M+2];return R.length=O-j+_,x}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":130,"../internals/to-integer":133,"../internals/to-length":134,"../internals/to-object":135}],165:[function(i,g,y){var l=i("../internals/descriptors"),i=i("../internals/object-define-property").f,r=Function.prototype,a=r.toString,d=/^\s*function ([^ (]*)/;!l||"name"in r||i(r,"name",{configurable:!0,get:function(){try{return a.call(this).match(d)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":92}],166:[function(i,g,y){var l=i("../internals/collection"),i=i("../internals/collection-strong");g.exports=l("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},i)},{"../internals/collection":32,"../internals/collection-strong":30}],167:[function(l,g,y){var l=l("../internals/export"),i=Math.hypot,r=Math.abs,a=Math.sqrt;l({target:"Math",stat:!0,forced:!!i&&i(1/0,NaN)!==1/0},{hypot:function(d,f){for(var s,o,n=0,u=0,h=arguments.length,p=0;u<h;)p<(s=r(arguments[u++]))?(n=n*(o=p/s)*o+1,p=s):n+=0<s?(o=s/p)*o:s;return p===1/0?1/0:p*a(n)}})},{"../internals/export":50}],168:[function(e,g,y){e("../internals/export")({target:"Math",stat:!0},{sign:e("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":80}],169:[function(e,g,y){function l(N){var U,W,z,q,Y,G,X,$=n(N,!1);if(typeof $=="string"&&2<$.length){if((N=($=j($)).charCodeAt(0))===43||N===45){if((U=$.charCodeAt(2))===88||U===120)return NaN}else if(N===48){switch($.charCodeAt(1)){case 66:case 98:W=2,z=49;break;case 79:case 111:W=8,z=55;break;default:return+$}for(Y=(q=$.slice(2)).length,G=0;G<Y;G++)if((X=q.charCodeAt(G))<48||z<X)return NaN;return parseInt(q,W)}}return+$}var i=e("../internals/descriptors"),r=e("../internals/global"),a=e("../internals/is-forced"),d=e("../internals/redefine"),f=e("../internals/has"),s=e("../internals/classof-raw"),o=e("../internals/inherit-if-required"),n=e("../internals/to-primitive"),u=e("../internals/fails"),h=e("../internals/object-create"),p=e("../internals/object-get-own-property-names").f,v=e("../internals/object-get-own-property-descriptor").f,_=e("../internals/object-define-property").f,j=e("../internals/string-trim").trim,x="Number",M=r[x],E=M.prototype,C=s(h(E))==x;if(a(x,!M(" 0o1")||!M("0b1")||M("+0x1"))){for(var R,O=function(U){var U=arguments.length<1?0:U,W=this;return W instanceof O&&(C?u(function(){E.valueOf.call(W)}):s(W)!=x)?o(new M(l(U)),W,O):l(U)},P=i?p(M):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;P.length>I;I++)f(M,R=P[I])&&!f(O,R)&&_(O,R,v(M,R));(O.prototype=E).constructor=O,d(r,x,O)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/is-forced":73,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/string-trim":127,"../internals/to-primitive":138}],170:[function(e,g,y){e("../internals/export")({target:"Number",stat:!0},{isFinite:e("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":88}],171:[function(f,g,y){function l(n,u,h){return u===0?h:u%2==1?l(n,u-1,h*n):l(n*n,u/2,h)}var i=f("../internals/export"),r=f("../internals/to-integer"),a=f("../internals/this-number-value"),d=f("../internals/string-repeat"),f=f("../internals/fails"),s=1 .toFixed,o=Math.floor;i({target:"Number",proto:!0,forced:s&&(8e-5 .toFixed(3)!=="0.000"||.9 .toFixed(0)!=="1"||1.255 .toFixed(2)!=="1.25"||0xde0b6b3a7640080 .toFixed(0)!=="1000000000000000128")||!f(function(){s.call({})})},{toFixed:function(x){function u(R,O){for(var P=-1,I=O;++P<6;)I+=R*M[P],M[P]=I%1e7,I=o(I/1e7)}function h(R){for(var O=6,P=0;0<=--O;)P+=M[O],M[O]=o(P/R),P=P%R*1e7}function p(){for(var R,O=6,P="";0<=--O;)P===""&&O!==0&&M[O]===0||(R=String(M[O]),P=P===""?R:P+d.call("0",7-R.length)+R);return P}var v,_,j=a(this),x=r(x),M=[0,0,0,0,0,0],E="",C="0";if(x<0||20<x)throw RangeError("Incorrect fraction digits");if(j!=j)return"NaN";if(j<=-1e21||1e21<=j)return String(j);if(j<0&&(E="-",j=-j),1e-21<j)if(j=(v=function(R){for(var O=0,P=R;4096<=P;)O+=12,P/=4096;for(;2<=P;)O+=1,P/=2;return O}(j*l(2,69,1))-69)<0?j*l(2,-v,1):j/l(2,v,1),j*=4503599627370496,0<(v=52-v)){for(u(0,j),_=x;7<=_;)u(1e7,0),_-=7;for(u(l(10,_,1),0),_=v-1;23<=_;)h(1<<23),_-=23;h(1<<_),u(1,1),h(2),C=p()}else u(0,j),u(1<<-v,0),C=p()+d.call("0",x);return C=0<x?E+((j=C.length)<=x?"0."+d.call("0",x-j)+C:C.slice(0,j-x)+"."+C.slice(j-x)):E+C}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":125,"../internals/this-number-value":129,"../internals/to-integer":133}],172:[function(i,g,y){var l=i("../internals/export"),i=i("../internals/object-assign");l({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},{"../internals/export":50,"../internals/object-assign":89}],173:[function(a,g,y){var l=a("../internals/export"),d=a("../internals/fails"),i=a("../internals/to-indexed-object"),r=a("../internals/object-get-own-property-descriptor").f,a=a("../internals/descriptors"),d=d(function(){r(1)});l({target:"Object",stat:!0,forced:!a||d,sham:!a},{getOwnPropertyDescriptor:function(f,s){return r(i(f),s)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":93,"../internals/to-indexed-object":132}],174:[function(r,g,y){var l=r("../internals/export"),i=r("../internals/fails"),r=r("../internals/object-get-own-property-names-external").f;l({target:"Object",stat:!0,forced:i(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:r})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":94}],175:[function(d,g,y){var l=d("../internals/export"),i=d("../internals/fails"),r=d("../internals/to-object"),a=d("../internals/object-get-prototype-of"),d=d("../internals/correct-prototype-getter");l({target:"Object",stat:!0,forced:i(function(){a(1)}),sham:!d},{getPrototypeOf:function(f){return a(r(f))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":97,"../internals/to-object":135}],176:[function(e,g,y){var l=e("../internals/export"),i=e("../internals/to-object"),r=e("../internals/object-keys");l({target:"Object",stat:!0,forced:e("../internals/fails")(function(){r(1)})},{keys:function(a){return r(i(a))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":99,"../internals/to-object":135}],177:[function(r,g,y){var l=r("../internals/to-string-tag-support"),i=r("../internals/redefine"),r=r("../internals/object-to-string");l||i(Object.prototype,"toString",r,{unsafe:!0})},{"../internals/object-to-string":102,"../internals/redefine":108,"../internals/to-string-tag-support":139}],178:[function(we,g,y){var l,i,r,a,d=we("../internals/export"),f=we("../internals/is-pure"),s=we("../internals/global"),o=we("../internals/get-built-in"),n=we("../internals/native-promise-constructor"),u=we("../internals/redefine"),h=we("../internals/redefine-all"),p=we("../internals/set-to-string-tag"),v=we("../internals/set-species"),_=we("../internals/is-object"),j=we("../internals/a-function"),x=we("../internals/an-instance"),M=we("../internals/classof-raw"),E=we("../internals/inspect-source"),C=we("../internals/iterate"),R=we("../internals/check-correctness-of-iteration"),O=we("../internals/species-constructor"),P=we("../internals/task").set,I=we("../internals/microtask"),N=we("../internals/promise-resolve"),U=we("../internals/host-report-errors"),W=we("../internals/new-promise-capability"),z=we("../internals/perform"),q=we("../internals/internal-state"),Y=we("../internals/is-forced"),Re=we("../internals/well-known-symbol"),G=we("../internals/engine-v8-version"),X=Re("species"),$="Promise",ne=q.get,k=q.set,L=q.getterFor($),F=n,H=s.TypeError,ee=s.document,re=s.process,le=o("fetch"),fe=W.f,ae=fe,ce=M(re)=="process",ge=!!(ee&&ee.createEvent&&s.dispatchEvent),J="unhandledrejection",ie="rejectionhandled",ue=1,me=2,pe=1,Te=2,we=Y($,function(){var Pe,xe;return E(F)===String(F)&&(G===66||!ce&&typeof PromiseRejectionEvent!="function")?!0:!(!f||F.prototype.finally)||!(51<=G&&/native code/.test(F))&&(xe=function(Z){Z(function(){},function(){})},((Pe=F.resolve(1)).constructor={})[X]=xe,!(Pe.then(function(){})instanceof xe))}),Re=we||!R(function(Pe){F.all(Pe).catch(function(){})}),Ee=function(Pe){var xe;return!(!_(Pe)||typeof(xe=Pe.then)!="function")&&xe},Ue=function(Pe,xe,Z){var K;xe.notified||(xe.notified=!0,K=xe.reactions,I(function(){for(var V,te,ve=xe.value,je=xe.state==ue,Ae=0;K.length>Ae;){var Ne,Be,Ve,He=K[Ae++],it=je?He.ok:He.fail,nt=He.resolve,Ke=He.reject,st=He.domain;try{it?(je||(xe.rejection===Te&&function(rt,jt){P.call(s,function(){ce?re.emit("rejectionHandled",rt):ze(ie,rt,jt.value)})}(Pe,xe),xe.rejection=pe),it===!0?Ne=ve:(st&&st.enter(),Ne=it(ve),st&&(st.exit(),Ve=!0)),Ne===He.promise?Ke(H("Promise-chain cycle")):(Be=Ee(Ne))?Be.call(Ne,nt,Ke):nt(Ne)):Ke(ve)}catch(rt){st&&!Ve&&st.exit(),Ke(rt)}}xe.reactions=[],xe.notified=!1,Z&&!xe.rejection&&(V=Pe,te=xe,P.call(s,function(){var rt=te.value,jt=Ge(te);if(jt&&(jt=z(function(){ce?re.emit("unhandledRejection",rt,V):ze(J,V,rt)}),te.rejection=ce||Ge(te)?Te:pe,jt.error))throw jt.value}))}))},ze=function(Pe,xe,Z){var K;ge?((K=ee.createEvent("Event")).promise=xe,K.reason=Z,K.initEvent(Pe,!1,!0),s.dispatchEvent(K)):K={promise:xe,reason:Z},(xe=s["on"+Pe])?xe(K):Pe===J&&U("Unhandled promise rejection",Z)},Ge=function(Pe){return Pe.rejection!==pe&&!Pe.parent},Ze=function(Pe,xe,Z,K){return function(V){Pe(xe,Z,V,K)}},Ye=function(Pe,xe,Z,K){xe.done||(xe.done=!0,(xe=K||xe).value=Z,xe.state=me,Ue(Pe,xe,!0))},be=function(Pe,xe,Z,K){if(!xe.done){xe.done=!0,K&&(xe=K);try{if(Pe===Z)throw H("Promise can't be resolved itself");var V=Ee(Z);V?I(function(){var te={done:!1};try{V.call(Z,Ze(be,Pe,te,xe),Ze(Ye,Pe,te,xe))}catch(ve){Ye(Pe,te,ve,xe)}}):(xe.value=Z,xe.state=ue,Ue(Pe,xe,!1))}catch(te){Ye(Pe,{done:!1},te,xe)}}};we&&(F=function(Pe){x(this,F,$),j(Pe),l.call(this);var xe=ne(this);try{Pe(Ze(be,this,xe),Ze(Ye,this,xe))}catch(Z){Ye(this,xe,Z)}},(l=function(Pe){k(this,{type:$,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(F.prototype,{then:function(Pe,xe){var Z=L(this),K=fe(O(this,F));return K.ok=typeof Pe!="function"||Pe,K.fail=typeof xe=="function"&&xe,K.domain=ce?re.domain:void 0,Z.parent=!0,Z.reactions.push(K),Z.state!=0&&Ue(this,Z,!1),K.promise},catch:function(Pe){return this.then(void 0,Pe)}}),i=function(){var Pe=new l,xe=ne(Pe);this.promise=Pe,this.resolve=Ze(be,Pe,xe),this.reject=Ze(Ye,Pe,xe)},W.f=fe=function(Pe){return Pe===F||Pe===r?new i:ae(Pe)},f||typeof n!="function"||(a=n.prototype.then,u(n.prototype,"then",function(Pe,xe){var Z=this;return new F(function(K,V){a.call(Z,K,V)}).then(Pe,xe)},{unsafe:!0}),typeof le=="function"&&d({global:!0,enumerable:!0,forced:!0},{fetch:function(Pe){return N(F,le.apply(s,arguments))}}))),d({global:!0,wrap:!0,forced:we},{Promise:F}),p(F,$,!1,!0),v($),r=o($),d({target:$,stat:!0,forced:we},{reject:function(Pe){var xe=fe(this);return xe.reject.call(void 0,Pe),xe.promise}}),d({target:$,stat:!0,forced:f||we},{resolve:function(Pe){return N(f&&this===r?F:this,Pe)}}),d({target:$,stat:!0,forced:Re},{all:function(Pe){var xe=this,Z=fe(xe),K=Z.resolve,V=Z.reject,te=z(function(){var ve=j(xe.resolve),je=[],Ae=0,Ne=1;C(Pe,function(Be){var Ve=Ae++,He=!1;je.push(void 0),Ne++,ve.call(xe,Be).then(function(it){He||(He=!0,je[Ve]=it,--Ne||K(je))},V)}),--Ne||K(je)});return te.error&&V(te.value),Z.promise},race:function(Pe){var xe=this,Z=fe(xe),K=Z.reject,V=z(function(){var te=j(xe.resolve);C(Pe,function(ve){te.call(xe,ve).then(Z.resolve,K)})});return V.error&&K(V.value),Z.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":56,"../internals/global":59,"../internals/host-report-errors":62,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-object":74,"../internals/is-pure":75,"../internals/iterate":77,"../internals/microtask":81,"../internals/native-promise-constructor":82,"../internals/new-promise-capability":86,"../internals/perform":105,"../internals/promise-resolve":106,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-species":116,"../internals/set-to-string-tag":117,"../internals/species-constructor":121,"../internals/task":128,"../internals/well-known-symbol":146}],179:[function(s,g,y){var l=s("../internals/export"),h=s("../internals/get-built-in"),i=s("../internals/a-function"),r=s("../internals/an-object"),a=s("../internals/is-object"),d=s("../internals/object-create"),f=s("../internals/function-bind"),s=s("../internals/fails"),o=h("Reflect","construct"),n=s(function(){function p(){}return!(o(function(){},[],p)instanceof p)}),u=!s(function(){o(function(){})}),h=n||u;l({target:"Reflect",stat:!0,forced:h,sham:h},{construct:function(p,v){i(p),r(v);var _=arguments.length<3?p:i(arguments[2]);if(u&&!n)return o(p,v,_);if(p==_){switch(v.length){case 0:return new p;case 1:return new p(v[0]);case 2:return new p(v[0],v[1]);case 3:return new p(v[0],v[1],v[2]);case 4:return new p(v[0],v[1],v[2],v[3])}var j=[null];return j.push.apply(j,v),new(f.apply(p,j))}return j=_.prototype,_=d(a(j)?j:Object.prototype),j=Function.apply.call(p,_,v),a(j)?j:_}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":55,"../internals/get-built-in":56,"../internals/is-object":74,"../internals/object-create":90}],180:[function(e,g,y){var l=e("../internals/descriptors"),i=e("../internals/global"),r=e("../internals/is-forced"),a=e("../internals/inherit-if-required"),d=e("../internals/object-define-property").f,f=e("../internals/object-get-own-property-names").f,s=e("../internals/is-regexp"),o=e("../internals/regexp-flags"),n=e("../internals/regexp-sticky-helpers"),u=e("../internals/redefine"),h=e("../internals/fails"),p=e("../internals/internal-state").set,v=e("../internals/set-species"),_=e("../internals/well-known-symbol")("match"),j=i.RegExp,x=j.prototype,M=/a/g,E=/a/g,C=new j(M)!==M,R=n.UNSUPPORTED_Y;if(l&&r("RegExp",!C||R||h(function(){return E[_]=!1,j(M)!=M||j(E)==E||j(M,"i")!="/a/i"}))){for(var O=function(N,U){var W,z=this instanceof O,q=s(N),Y=U===void 0;return!z&&q&&N.constructor===O&&Y?N:(C?q&&!Y&&(N=N.source):N instanceof O&&(Y&&(U=o.call(N)),N=N.source),R&&(W=!!U&&-1<U.indexOf("y"))&&(U=U.replace(/y/g,"")),q=a(C?new j(N,U):j(N,U),z?this:x,O),R&&W&&p(q,{sticky:W}),q)},P=f(j),I=0;P.length>I;)(function(N){N in O||d(O,N,{configurable:!0,get:function(){return j[N]},set:function(U){j[N]=U}})})(P[I++]);(x.constructor=O).prototype=x,u(i,"RegExp",O)}v("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-regexp":76,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/regexp-flags":111,"../internals/regexp-sticky-helpers":112,"../internals/set-species":116,"../internals/well-known-symbol":146}],181:[function(i,g,y){var l=i("../internals/export"),i=i("../internals/regexp-exec");l({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},{"../internals/export":50,"../internals/regexp-exec":110}],182:[function(a,g,y){var l=a("../internals/redefine"),i=a("../internals/an-object"),s=a("../internals/fails"),r=a("../internals/regexp-flags"),a="toString",d=RegExp.prototype,f=d[a],s=s(function(){return f.call({source:"a",flags:"b"})!="/a/b"}),o=f.name!=a;(s||o)&&l(RegExp.prototype,a,function(){var n=i(this),u=String(n.source),h=n.flags;return"/"+u+"/"+String(h===void 0&&n instanceof RegExp&&!("flags"in d)?r.call(n):h)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-flags":111}],183:[function(i,g,y){var l=i("../internals/collection"),i=i("../internals/collection-strong");g.exports=l("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},i)},{"../internals/collection":32,"../internals/collection-strong":30}],184:[function(f,g,y){var l=f("../internals/export"),i=f("../internals/object-get-own-property-descriptor").f,r=f("../internals/to-length"),a=f("../internals/not-a-regexp"),d=f("../internals/require-object-coercible"),n=f("../internals/correct-is-regexp-logic"),f=f("../internals/is-pure"),s="".endsWith,o=Math.min,n=n("endsWith");l({target:"String",proto:!0,forced:!!(f||n||!(l=i(String.prototype,"endsWith"))||l.writable)&&!n},{endsWith:function(u){var h=String(d(this)),p=(a(u),1<arguments.length?arguments[1]:void 0),v=r(h.length),p=p===void 0?v:o(r(p),v),v=String(u);return s?s.call(h,v,p):h.slice(p-v.length,p)===v}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":134}],185:[function(e,g,y){var l=e("../internals/export"),i=e("../internals/not-a-regexp"),r=e("../internals/require-object-coercible");l({target:"String",proto:!0,forced:!e("../internals/correct-is-regexp-logic")("includes")},{includes:function(a){return!!~String(r(this)).indexOf(i(a),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":87,"../internals/require-object-coercible":113}],186:[function(r,g,y){var l=r("../internals/string-multibyte").charAt,i=r("../internals/internal-state"),r=r("../internals/define-iterator"),a="String Iterator",d=i.set,f=i.getterFor(a);r(String,"String",function(s){d(this,{type:a,string:String(s),index:0})},function(){var s=f(this),o=s.string,n=s.index;return n>=o.length?{value:void 0,done:!0}:(o=l(o,n),s.index+=o.length,{value:o,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/string-multibyte":123}],187:[function(e,g,y){var l=e("../internals/fix-regexp-well-known-symbol-logic"),i=e("../internals/an-object"),r=e("../internals/to-length"),a=e("../internals/require-object-coercible"),d=e("../internals/advance-string-index"),f=e("../internals/regexp-exec-abstract");l("match",1,function(s,o,n){return[function(u){var h=a(this),p=u==null?void 0:u[s];return p!==void 0?p.call(u,h):new RegExp(u)[s](String(h))},function(u){var h=n(o,u,this);if(h.done)return h.value;var p=i(u),v=String(this);if(!p.global)return f(p,v);for(var _=p.unicode,j=[],x=p.lastIndex=0;(M=f(p,v))!==null;){var M=String(M[0]);(j[x]=M)===""&&(p.lastIndex=d(v,r(p.lastIndex),_)),x++}return x===0?null:j}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-length":134}],188:[function(e,g,y){e("../internals/export")({target:"String",proto:!0},{repeat:e("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":125}],189:[function(e,g,y){var l=e("../internals/fix-regexp-well-known-symbol-logic"),i=e("../internals/an-object"),r=e("../internals/to-object"),a=e("../internals/to-length"),d=e("../internals/to-integer"),f=e("../internals/require-object-coercible"),s=e("../internals/advance-string-index"),o=e("../internals/regexp-exec-abstract"),n=Math.max,u=Math.min,h=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g;l("replace",2,function(_,j,x,M){var E=M.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,C=M.REPLACE_KEEPS_$0,R=E?"$":"$0";return[function(O,P){var I=f(this),N=O==null?void 0:O[_];return N!==void 0?N.call(O,I,P):j.call(String(I),O,P)},function(O,P){if(!E&&C||typeof P=="string"&&P.indexOf(R)===-1){var I=x(j,O,this,P);if(I.done)return I.value}for(var N,U=i(O),W=String(this),z=typeof P=="function",q=(z||(P=String(P)),U.global),Y=(q&&(N=U.unicode,U.lastIndex=0),[]);(k=o(U,W))!==null&&(Y.push(k),q);)String(k[0])===""&&(U.lastIndex=s(W,a(U.lastIndex),N));for(var G,X="",$=0,ne=0;ne<Y.length;ne++){for(var k=Y[ne],L=String(k[0]),F=n(u(d(k.index),W.length),0),H=[],ee=1;ee<k.length;ee++)H.push((G=k[ee])===void 0?G:String(G));var re=k.groups,le=z?(le=[L].concat(H,F,W),re!==void 0&&le.push(re),String(P.apply(void 0,le))):function(fe,ae,ce,ge,J,ie){var ue=ce+fe.length,me=ge.length,pe=v;return J!==void 0&&(J=r(J),pe=p),j.call(ie,pe,function(Te,we){var Re;switch(we.charAt(0)){case"$":return"$";case"&":return fe;case"`":return ae.slice(0,ce);case"'":return ae.slice(ue);case"<":Re=J[we.slice(1,-1)];break;default:var Ee,Ue=+we;if(Ue==0)return Te;if(me<Ue)return(Ee=h(Ue/10))!==0&&Ee<=me?ge[Ee-1]===void 0?we.charAt(1):ge[Ee-1]+we.charAt(1):Te;Re=ge[Ue-1]}return Re===void 0?"":Re})}(L,W,F,H,re,P);$<=F&&(X+=W.slice($,F)+le,$=F+L.length)}return X+W.slice($)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-integer":133,"../internals/to-length":134,"../internals/to-object":135}],190:[function(e,g,y){var l=e("../internals/fix-regexp-well-known-symbol-logic"),i=e("../internals/an-object"),r=e("../internals/require-object-coercible"),a=e("../internals/same-value"),d=e("../internals/regexp-exec-abstract");l("search",1,function(f,s,o){return[function(n){var u=r(this),h=n==null?void 0:n[f];return h!==void 0?h.call(n,u):new RegExp(n)[f](String(u))},function(n){var u,h=o(s,n,this);return h.done?h.value:(h=i(n),n=String(this),u=h.lastIndex,a(u,0)||(h.lastIndex=0),n=d(h,n),a(h.lastIndex,u)||(h.lastIndex=u),n===null?-1:n.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/same-value":114}],191:[function(u,g,y){var l=u("../internals/fix-regexp-well-known-symbol-logic"),i=u("../internals/is-regexp"),r=u("../internals/an-object"),a=u("../internals/require-object-coercible"),d=u("../internals/species-constructor"),f=u("../internals/advance-string-index"),s=u("../internals/to-length"),o=u("../internals/regexp-exec-abstract"),n=u("../internals/regexp-exec"),u=u("../internals/fails"),h=[].push,p=Math.min,v=4294967295,_=!u(function(){return!RegExp(v,"y")});l("split",2,function(j,x,M){var E="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(C,R){var O=String(a(this)),P=R===void 0?v:R>>>0;if(P==0)return[];if(C===void 0)return[O];if(!i(C))return x.call(O,C,P);for(var I,N,U,W=[],R=(C.ignoreCase?"i":"")+(C.multiline?"m":"")+(C.unicode?"u":"")+(C.sticky?"y":""),z=0,q=new RegExp(C.source,R+"g");(I=n.call(q,O))&&!(z<(N=q.lastIndex)&&(W.push(O.slice(z,I.index)),1<I.length&&I.index<O.length&&h.apply(W,I.slice(1)),U=I[0].length,z=N,W.length>=P));)q.lastIndex===I.index&&q.lastIndex++;return z===O.length?!U&&q.test("")||W.push(""):W.push(O.slice(z)),W.length>P?W.slice(0,P):W}:"0".split(void 0,0).length?function(C,R){return C===void 0&&R===0?[]:x.call(this,C,R)}:x;return[function(C,R){var O=a(this),P=C==null?void 0:C[j];return P!==void 0?P.call(C,O,R):E.call(String(O),C,R)},function(I,R){var O=M(E,I,this,R,E!==x);if(O.done)return O.value;var O=r(I),P=String(this),I=d(O,RegExp),N=O.unicode,U=(O.ignoreCase?"i":"")+(O.multiline?"m":"")+(O.unicode?"u":"")+(_?"y":"g"),W=new I(_?O:"^(?:"+O.source+")",U),z=R===void 0?v:R>>>0;if(z==0)return[];if(P.length===0)return o(W,P)===null?[P]:[];for(var q=0,Y=0,G=[];Y<P.length;){W.lastIndex=_?Y:0;var X,$=o(W,_?P:P.slice(Y));if($===null||(X=p(s(W.lastIndex+(_?0:Y)),P.length))===q)Y=f(P,Y,N);else{if(G.push(P.slice(q,Y)),G.length===z)return G;for(var ne=1;ne<=$.length-1;ne++)if(G.push($[ne]),G.length===z)return G;Y=q=X}}return G.push(P.slice(q)),G}]},!_)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":76,"../internals/regexp-exec":110,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/species-constructor":121,"../internals/to-length":134}],192:[function(e,g,y){var l=e("../internals/export"),i=e("../internals/create-html");l({target:"String",proto:!0,forced:e("../internals/string-html-forced")("sub")},{sub:function(){return i(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":122}],193:[function(e,g,y){var l=e("../internals/export"),i=e("../internals/string-trim").trim;l({target:"String",proto:!0,forced:e("../internals/string-trim-forced")("trim")},{trim:function(){return i(this)}})},{"../internals/export":50,"../internals/string-trim":127,"../internals/string-trim-forced":126}],194:[function(p,g,y){var l,i,r,a,d,f=p("../internals/export"),s=p("../internals/descriptors"),o=p("../internals/global"),n=p("../internals/has"),u=p("../internals/is-object"),h=p("../internals/object-define-property").f,p=p("../internals/copy-constructor-properties"),v=o.Symbol;!s||typeof v!="function"||"description"in v.prototype&&v().description===void 0||(l={},p(i=function(){var _=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),j=this instanceof i?new v(_):_===void 0?v():v(_);return _===""&&(l[j]=!0),j},v),(o=i.prototype=v.prototype).constructor=i,r=o.toString,a=String(v("test"))=="Symbol(test)",d=/^Symbol\((.*)\)[^)]+$/,h(o,"description",{configurable:!0,get:function(){var _=u(this)?this.valueOf():this,j=r.call(_);return n(l,_)?"":(_=a?j.slice(7,-1):j.replace(d,"$1"))===""?void 0:_}}),f({global:!0,forced:!0},{Symbol:i}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92}],195:[function(e,g,y){e("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],196:[function(ae,g,y){function l(V,te){var ve=Re[V]=O(ie[fe]);return ce(ve,{type:le,tag:V,description:te}),n||(ve.description=te),ve}function i(V,je){x(V);var ve=E(je),je=P(ve).concat(K(ve));return ee(je,function(Ae){n&&!Z.call(ve,Ae)||xe(V,Ae,ve[Ae])}),V}function r(je,Ae){var ve,je=E(je),Ae=C(Ae,!0);if(je!==J||!v(Re,Ae)||v(Ee,Ae))return!(ve=me(je,Ae))||!v(Re,Ae)||v(je,re)&&je[re][Ae]||(ve.enumerable=!0),ve}function a(te){var te=Te(E(te)),ve=[];return ee(te,function(je){v(Re,je)||v($,je)||ve.push(je)}),ve}var d=ae("../internals/export"),f=ae("../internals/global"),s=ae("../internals/get-built-in"),o=ae("../internals/is-pure"),n=ae("../internals/descriptors"),u=ae("../internals/native-symbol"),h=ae("../internals/use-symbol-as-uid"),p=ae("../internals/fails"),v=ae("../internals/has"),_=ae("../internals/is-array"),j=ae("../internals/is-object"),x=ae("../internals/an-object"),M=ae("../internals/to-object"),E=ae("../internals/to-indexed-object"),C=ae("../internals/to-primitive"),R=ae("../internals/create-property-descriptor"),O=ae("../internals/object-create"),P=ae("../internals/object-keys"),I=ae("../internals/object-get-own-property-names"),N=ae("../internals/object-get-own-property-names-external"),U=ae("../internals/object-get-own-property-symbols"),W=ae("../internals/object-get-own-property-descriptor"),z=ae("../internals/object-define-property"),q=ae("../internals/object-property-is-enumerable"),Y=ae("../internals/create-non-enumerable-property"),G=ae("../internals/redefine"),X=ae("../internals/shared"),Ge=ae("../internals/shared-key"),$=ae("../internals/hidden-keys"),ne=ae("../internals/uid"),k=ae("../internals/well-known-symbol"),L=ae("../internals/well-known-symbol-wrapped"),F=ae("../internals/define-well-known-symbol"),H=ae("../internals/set-to-string-tag"),Ze=ae("../internals/internal-state"),ee=ae("../internals/array-iteration").forEach,re=Ge("hidden"),le="Symbol",fe="prototype",ae=k("toPrimitive"),ce=Ze.set,ge=Ze.getterFor(le),J=Object[fe],ie=f.Symbol,ue=s("JSON","stringify"),me=W.f,pe=z.f,Te=N.f,we=q.f,Re=X("symbols"),Ee=X("op-symbols"),Ue=X("string-to-symbol-registry"),ze=X("symbol-to-string-registry"),Ge=X("wks"),Ze=f.QObject,Ye=!Ze||!Ze[fe]||!Ze[fe].findChild,be=n&&p(function(){return O(pe({},"a",{get:function(){return pe(this,"a",{value:7}).a}})).a!=7})?function(V,te,ve){var je=me(J,te);je&&delete J[te],pe(V,te,ve),je&&V!==J&&pe(J,te,je)}:pe,Pe=h?function(V){return typeof V=="symbol"}:function(V){return Object(V)instanceof ie},xe=function(V,te,ve){return V===J&&xe(Ee,te,ve),x(V),te=C(te,!0),x(ve),(v(Re,te)?(ve.enumerable?(v(V,re)&&V[re][te]&&(V[re][te]=!1),ve=O(ve,{enumerable:R(0,!1)})):(v(V,re)||pe(V,re,R(1,{})),V[re][te]=!0),be):pe)(V,te,ve)},Z=function(te){var te=C(te,!0),ve=we.call(this,te);return!(this===J&&v(Re,te)&&!v(Ee,te))&&(!(ve||!v(this,te)||!v(Re,te)||v(this,re)&&this[re][te])||ve)},K=function(ve){var te=ve===J,ve=Te(te?Ee:E(ve)),je=[];return ee(ve,function(Ae){!v(Re,Ae)||te&&!v(J,Ae)||je.push(Re[Ae])}),je};u||(G((ie=function(){if(this instanceof ie)throw TypeError("Symbol is not a constructor");var V=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,te=ne(V),ve=function(je){this===J&&ve.call(Ee,je),v(this,re)&&v(this[re],te)&&(this[re][te]=!1),be(this,te,R(1,je))};return n&&Ye&&be(J,te,{configurable:!0,set:ve}),l(te,V)})[fe],"toString",function(){return ge(this).tag}),G(ie,"withoutSetter",function(V){return l(ne(V),V)}),q.f=Z,z.f=xe,W.f=r,I.f=N.f=a,U.f=K,L.f=function(V){return l(k(V),V)},n&&(pe(ie[fe],"description",{configurable:!0,get:function(){return ge(this).description}}),o||G(J,"propertyIsEnumerable",Z,{unsafe:!0}))),d({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:ie}),ee(P(Ge),function(V){F(V)}),d({target:le,stat:!0,forced:!u},{for:function(ve){var te,ve=String(ve);return v(Ue,ve)?Ue[ve]:(te=ie(ve),Ue[ve]=te,ze[te]=ve,te)},keyFor:function(V){if(!Pe(V))throw TypeError(V+" is not a symbol");if(v(ze,V))return ze[V]},useSetter:function(){Ye=!0},useSimple:function(){Ye=!1}}),d({target:"Object",stat:!0,forced:!u,sham:!n},{create:function(V,te){return te===void 0?O(V):i(O(V),te)},defineProperty:xe,defineProperties:i,getOwnPropertyDescriptor:r}),d({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:a,getOwnPropertySymbols:K}),d({target:"Object",stat:!0,forced:p(function(){U.f(1)})},{getOwnPropertySymbols:function(V){return U.f(M(V))}}),ue&&d({target:"JSON",stat:!0,forced:!u||p(function(){var V=ie();return ue([V])!="[null]"||ue({a:V})!="{}"||ue(Object(V))!="{}"})},{stringify:function(V,te,ve){for(var je,Ae=[V],Ne=1;Ne<arguments.length;)Ae.push(arguments[Ne++]);if((j(je=te)||V!==void 0)&&!Pe(V))return _(te)||(te=function(Be,Ve){if(typeof je=="function"&&(Ve=je.call(this,Be,Ve)),!Pe(Ve))return Ve}),Ae[1]=te,ue.apply(null,Ae)}}),ie[fe][ae]||Y(ie[fe],ae,ie[fe].valueOf),H(ie,le),$[re]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":56,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/internal-state":70,"../internals/is-array":72,"../internals/is-object":74,"../internals/is-pure":75,"../internals/native-symbol":83,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-names-external":94,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/shared":120,"../internals/shared-key":118,"../internals/to-indexed-object":132,"../internals/to-object":135,"../internals/to-primitive":138,"../internals/uid":143,"../internals/use-symbol-as-uid":144,"../internals/well-known-symbol":146,"../internals/well-known-symbol-wrapped":145}],197:[function(e,g,y){var l=e("../internals/array-buffer-view-core"),i=e("../internals/array-copy-within"),r=l.aTypedArray;(0,l.exportTypedArrayMethod)("copyWithin",function(a,d){return i.call(r(this),a,d,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],198:[function(e,g,y){var l=e("../internals/array-buffer-view-core"),i=e("../internals/array-iteration").every,r=l.aTypedArray;(0,l.exportTypedArrayMethod)("every",function(a){return i(r(this),a,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],199:[function(e,g,y){var l=e("../internals/array-buffer-view-core"),i=e("../internals/array-fill"),r=l.aTypedArray;(0,l.exportTypedArrayMethod)("fill",function(a){return i.apply(r(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],200:[function(e,g,y){var l=e("../internals/array-buffer-view-core"),i=e("../internals/array-iteration").filter,r=e("../internals/species-constructor"),a=l.aTypedArray,d=l.aTypedArrayConstructor;(0,l.exportTypedArrayMethod)("filter",function(f){for(var s=i(a(this),f,1<arguments.length?arguments[1]:void 0),f=r(this,this.constructor),o=0,n=s.length,u=new(d(f))(n);o<n;)u[o]=s[o++];return u})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],201:[function(e,g,y){var l=e("../internals/array-buffer-view-core"),i=e("../internals/array-iteration").findIndex,r=l.aTypedArray;(0,l.exportTypedArrayMethod)("findIndex",function(a){return i(r(this),a,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],202:[function(e,g,y){var l=e("../internals/array-buffer-view-core"),i=e("../internals/array-iteration").find,r=l.aTypedArray;(0,l.exportTypedArrayMethod)("find",function(a){return i(r(this),a,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],203:[function(e,g,y){e("../internals/typed-array-constructor")("Float32",function(l){return function(i,r,a){return l(this,i,r,a)}})},{"../internals/typed-array-constructor":140}],204:[function(e,g,y){e("../internals/typed-array-constructor")("Float64",function(l){return function(i,r,a){return l(this,i,r,a)}})},{"../internals/typed-array-constructor":140}],205:[function(e,g,y){var l=e("../internals/array-buffer-view-core"),i=e("../internals/array-iteration").forEach,r=l.aTypedArray;(0,l.exportTypedArrayMethod)("forEach",function(a){i(r(this),a,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],206:[function(e,g,y){var l=e("../internals/array-buffer-view-core"),i=e("../internals/array-includes").includes,r=l.aTypedArray;(0,l.exportTypedArrayMethod)("includes",function(a){return i(r(this),a,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],207:[function(e,g,y){var l=e("../internals/array-buffer-view-core"),i=e("../internals/array-includes").indexOf,r=l.aTypedArray;(0,l.exportTypedArrayMethod)("indexOf",function(a){return i(r(this),a,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],208:[function(e,g,y){e("../internals/typed-array-constructor")("Int16",function(l){return function(i,r,a){return l(this,i,r,a)}})},{"../internals/typed-array-constructor":140}],209:[function(e,g,y){e("../internals/typed-array-constructor")("Int32",function(l){return function(i,r,a){return l(this,i,r,a)}})},{"../internals/typed-array-constructor":140}],210:[function(i,g,y){function l(){return r.call(f(this))}var n=i("../internals/global"),o=i("../internals/array-buffer-view-core"),s=i("../modules/es.array.iterator"),i=i("../internals/well-known-symbol")("iterator"),n=n.Uint8Array,r=s.values,a=s.keys,d=s.entries,f=o.aTypedArray,s=o.exportTypedArrayMethod,o=n&&n.prototype[i],n=!!o&&(o.name=="values"||o.name==null);s("entries",function(){return d.call(f(this))}),s("keys",function(){return a.call(f(this))}),s("values",l,!n),s(i,l,!n)},{"../internals/array-buffer-view-core":12,"../internals/global":59,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],211:[function(i,g,y){var i=i("../internals/array-buffer-view-core"),l=i.aTypedArray,i=i.exportTypedArrayMethod,r=[].join;i("join",function(a){return r.apply(l(this),arguments)})},{"../internals/array-buffer-view-core":12}],212:[function(e,g,y){var l=e("../internals/array-buffer-view-core"),i=e("../internals/array-last-index-of"),r=l.aTypedArray;(0,l.exportTypedArrayMethod)("lastIndexOf",function(a){return i.apply(r(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],213:[function(e,g,y){var l=e("../internals/array-buffer-view-core"),i=e("../internals/array-iteration").map,r=e("../internals/species-constructor"),a=l.aTypedArray,d=l.aTypedArrayConstructor;(0,l.exportTypedArrayMethod)("map",function(f){return i(a(this),f,1<arguments.length?arguments[1]:void 0,function(s,o){return new(d(r(s,s.constructor)))(o)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],214:[function(e,g,y){var l=e("../internals/array-buffer-view-core"),i=e("../internals/array-reduce").right,r=l.aTypedArray;(0,l.exportTypedArrayMethod)("reduceRight",function(a){return i(r(this),a,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],215:[function(e,g,y){var l=e("../internals/array-buffer-view-core"),i=e("../internals/array-reduce").left,r=l.aTypedArray;(0,l.exportTypedArrayMethod)("reduce",function(a){return i(r(this),a,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],216:[function(i,g,y){var i=i("../internals/array-buffer-view-core"),l=i.aTypedArray,i=i.exportTypedArrayMethod,r=Math.floor;i("reverse",function(){for(var a,d=l(this).length,f=r(d/2),s=0;s<f;)a=this[s],this[s++]=this[--d],this[d]=a;return this})},{"../internals/array-buffer-view-core":12}],217:[function(d,g,y){var l=d("../internals/array-buffer-view-core"),i=d("../internals/to-length"),r=d("../internals/to-offset"),a=d("../internals/to-object"),d=d("../internals/fails"),f=l.aTypedArray;(0,l.exportTypedArrayMethod)("set",function(s){f(this);var o=r(1<arguments.length?arguments[1]:void 0,1),n=this.length,u=a(s),h=i(u.length),p=0;if(n<h+o)throw RangeError("Wrong length");for(;p<h;)this[o+p]=u[p++]},d(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":134,"../internals/to-object":135,"../internals/to-offset":136}],218:[function(i,g,y){var d=i("../internals/array-buffer-view-core"),l=i("../internals/species-constructor"),i=i("../internals/fails"),r=d.aTypedArray,a=d.aTypedArrayConstructor,d=d.exportTypedArrayMethod,f=[].slice;d("slice",function(s,o){for(var n=f.call(r(this),s,o),s=l(this,this.constructor),u=0,h=n.length,p=new(a(s))(h);u<h;)p[u]=n[u++];return p},i(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":121}],219:[function(e,g,y){var l=e("../internals/array-buffer-view-core"),i=e("../internals/array-iteration").some,r=l.aTypedArray;(0,l.exportTypedArrayMethod)("some",function(a){return i(r(this),a,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],220:[function(i,g,y){var i=i("../internals/array-buffer-view-core"),l=i.aTypedArray,i=i.exportTypedArrayMethod,r=[].sort;i("sort",function(a){return r.call(l(this),a)})},{"../internals/array-buffer-view-core":12}],221:[function(e,g,y){var l=e("../internals/array-buffer-view-core"),i=e("../internals/to-length"),r=e("../internals/to-absolute-index"),a=e("../internals/species-constructor"),d=l.aTypedArray;(0,l.exportTypedArrayMethod)("subarray",function(u,s){var o=d(this),n=o.length,u=r(u,n);return new(a(o,o.constructor))(o.buffer,o.byteOffset+u*o.BYTES_PER_ELEMENT,i((s===void 0?n:r(s,n))-u))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":121,"../internals/to-absolute-index":130,"../internals/to-length":134}],222:[function(i,g,y){var d=i("../internals/global"),l=i("../internals/array-buffer-view-core"),i=i("../internals/fails"),r=d.Int8Array,a=l.aTypedArray,d=l.exportTypedArrayMethod,f=[].toLocaleString,s=[].slice,o=!!r&&i(function(){f.call(new r(1))});d("toLocaleString",function(){return f.apply(o?s.call(a(this)):a(this),arguments)},i(function(){return[1,2].toLocaleString()!=new r([1,2]).toLocaleString()})||!i(function(){r.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],223:[function(i,g,y){var l=i("../internals/array-buffer-view-core").exportTypedArrayMethod,d=i("../internals/fails"),i=i("../internals/global").Uint8Array,i=i&&i.prototype||{},r=[].toString,a=[].join,d=(d(function(){r.call({})})&&(r=function(){return a.call(this)}),i.toString!=r);l("toString",r,d)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],224:[function(e,g,y){e("../internals/typed-array-constructor")("Uint16",function(l){return function(i,r,a){return l(this,i,r,a)}})},{"../internals/typed-array-constructor":140}],225:[function(e,g,y){e("../internals/typed-array-constructor")("Uint32",function(l){return function(i,r,a){return l(this,i,r,a)}})},{"../internals/typed-array-constructor":140}],226:[function(e,g,y){e("../internals/typed-array-constructor")("Uint8",function(l){return function(i,r,a){return l(this,i,r,a)}})},{"../internals/typed-array-constructor":140}],227:[function(e,g,y){e("../internals/typed-array-constructor")("Uint8",function(l){return function(i,r,a){return l(this,i,r,a)}},!0)},{"../internals/typed-array-constructor":140}],228:[function(v,x,y){function l(M){return function(){return M(this,arguments.length?arguments[0]:void 0)}}var i,r,a,d,f,_=v("../internals/global"),s=v("../internals/redefine-all"),o=v("../internals/internal-metadata"),n=v("../internals/collection"),u=v("../internals/collection-weak"),h=v("../internals/is-object"),p=v("../internals/internal-state").enforce,v=v("../internals/native-weak-map"),_=!_.ActiveXObject&&"ActiveXObject"in _,j=Object.isExtensible,x=x.exports=n("WeakMap",l,u);v&&_&&(i=u.getConstructor(l,"WeakMap",!0),o.REQUIRED=!0,n=x.prototype,r=n.delete,a=n.has,d=n.get,f=n.set,s(n,{delete:function(M){var E;return h(M)&&!j(M)?((E=p(this)).frozen||(E.frozen=new i),r.call(this,M)||E.frozen.delete(M)):r.call(this,M)},has:function(M){var E;return h(M)&&!j(M)?((E=p(this)).frozen||(E.frozen=new i),a.call(this,M)||E.frozen.has(M)):a.call(this,M)},get:function(M){var E;return!h(M)||j(M)||((E=p(this)).frozen||(E.frozen=new i),a.call(this,M))?d.call(this,M):E.frozen.get(M)},set:function(M,E){var C;return!h(M)||j(M)||((C=p(this)).frozen||(C.frozen=new i),a.call(this,M))?f.call(this,M,E):C.frozen.set(M,E),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":59,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/redefine-all":107}],229:[function(e,g,y){var l,i=e("../internals/global"),r=e("../internals/dom-iterables"),a=e("../internals/array-for-each"),d=e("../internals/create-non-enumerable-property");for(l in r){var f=i[l],f=f&&f.prototype;if(f&&f.forEach!==a)try{d(f,"forEach",a)}catch{f.forEach=a}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59}],230:[function(f,g,y){var l,i=f("../internals/global"),r=f("../internals/dom-iterables"),a=f("../modules/es.array.iterator"),d=f("../internals/create-non-enumerable-property"),f=f("../internals/well-known-symbol"),s=f("iterator"),o=f("toStringTag"),n=a.values;for(l in r){var u=i[l],h=u&&u.prototype;if(h){if(h[s]!==n)try{d(h,s,n)}catch{h[s]=n}if(h[o]||d(h,o,l),r[l]){for(var p in a)if(h[p]!==a[p])try{d(h,p,a[p])}catch{h[p]=a[p]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],231:[function(re,g,y){re("../modules/es.array.iterator");function l(le){try{return decodeURIComponent(le)}catch{return le}}function i(le){return F[le]}function r(le){return encodeURIComponent(le).replace(L,i)}function a(le){this.entries.length=0,H(this.entries,le)}function d(le,fe){if(le<fe)throw TypeError("Not enough arguments")}function f(){_(this,f,z);var le,fe,ae,ce,ge,J,ie,ue,me=0<arguments.length?arguments[0]:void 0,pe=[];if(Y(this,{type:z,entries:pe,updateURL:function(){},updateSearchParams:a}),me!==void 0)if(C(me))if(typeof(le=I(me))=="function")for(ae=(fe=le.call(me)).next;!(ce=ae.call(fe)).done;){if((J=(ge=(ce=P(E(ce.value))).next).call(ce)).done||(ie=ge.call(ce)).done||!ge.call(ce).done)throw TypeError("Expected sequence with length 2");pe.push({key:J.value+"",value:ie.value+""})}else for(ue in me)j(me,ue)&&pe.push({key:ue,value:me[ue]+""});else H(pe,typeof me=="string"?me.charAt(0)==="?"?me.slice(1):me:me+"")}var s=re("../internals/export"),W=re("../internals/get-built-in"),o=re("../internals/native-url"),n=re("../internals/redefine"),u=re("../internals/redefine-all"),h=re("../internals/set-to-string-tag"),p=re("../internals/create-iterator-constructor"),v=re("../internals/internal-state"),_=re("../internals/an-instance"),j=re("../internals/has"),x=re("../internals/function-bind-context"),M=re("../internals/classof"),E=re("../internals/an-object"),C=re("../internals/is-object"),R=re("../internals/object-create"),O=re("../internals/create-property-descriptor"),P=re("../internals/get-iterator"),I=re("../internals/get-iterator-method"),re=re("../internals/well-known-symbol"),N=W("fetch"),U=W("Headers"),W=re("iterator"),z="URLSearchParams",q=z+"Iterator",Y=v.set,G=v.getterFor(z),X=v.getterFor(q),$=/\+/g,ne=Array(4),k=function(le){var fe,ae=le.replace($," "),ce=4;try{return decodeURIComponent(ae)}catch{for(;ce;)ae=ae.replace((fe=ce--,ne[fe-1]||(ne[fe-1]=RegExp("((?:%[\\da-f]{2}){"+fe+"})","gi"))),l);return ae}},L=/[!'()~]|%20/g,F={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},H=function(le,fe){if(fe)for(var ae,ce=fe.split("&"),ge=0;ge<ce.length;)(ae=ce[ge++]).length&&(ae=ae.split("="),le.push({key:k(ae.shift()),value:k(ae.join("="))}))},ee=p(function(le,fe){Y(this,{type:q,iterator:P(G(le).entries),kind:fe})},"Iterator",function(){var fe=X(this),le=fe.kind,fe=fe.iterator.next(),ae=fe.value;return fe.done||(fe.value=le==="keys"?ae.key:le==="values"?ae.value:[ae.key,ae.value]),fe}),re=f.prototype;u(re,{append:function(le,fe){d(arguments.length,2);var ae=G(this);ae.entries.push({key:le+"",value:fe+""}),ae.updateURL()},delete:function(le){d(arguments.length,1);for(var fe=G(this),ae=fe.entries,ce=le+"",ge=0;ge<ae.length;)ae[ge].key===ce?ae.splice(ge,1):ge++;fe.updateURL()},get:function(le){d(arguments.length,1);for(var fe=G(this).entries,ae=le+"",ce=0;ce<fe.length;ce++)if(fe[ce].key===ae)return fe[ce].value;return null},getAll:function(le){d(arguments.length,1);for(var fe=G(this).entries,ae=le+"",ce=[],ge=0;ge<fe.length;ge++)fe[ge].key===ae&&ce.push(fe[ge].value);return ce},has:function(le){d(arguments.length,1);for(var fe=G(this).entries,ae=le+"",ce=0;ce<fe.length;)if(fe[ce++].key===ae)return!0;return!1},set:function(le,fe){d(arguments.length,1);for(var ae,ce=G(this),ge=ce.entries,J=!1,ie=le+"",ue=fe+"",me=0;me<ge.length;me++)(ae=ge[me]).key===ie&&(J?ge.splice(me--,1):(J=!0,ae.value=ue));J||ge.push({key:ie,value:ue}),ce.updateURL()},sort:function(){for(var le,fe,ae=G(this),ce=ae.entries,ge=ce.slice(),J=ce.length=0;J<ge.length;J++){for(le=ge[J],fe=0;fe<J;fe++)if(ce[fe].key>le.key){ce.splice(fe,0,le);break}fe===J&&ce.push(le)}ae.updateURL()},forEach:function(le){for(var fe,ae=G(this).entries,ce=x(le,1<arguments.length?arguments[1]:void 0,3),ge=0;ge<ae.length;)ce((fe=ae[ge++]).value,fe.key,this)},keys:function(){return new ee(this,"keys")},values:function(){return new ee(this,"values")},entries:function(){return new ee(this,"entries")}},{enumerable:!0}),n(re,W,re.entries),n(re,"toString",function(){for(var le,fe=G(this).entries,ae=[],ce=0;ce<fe.length;)le=fe[ce++],ae.push(r(le.key)+"="+r(le.value));return ae.join("&")},{enumerable:!0}),h(f,z),s({global:!0,forced:!o},{URLSearchParams:f}),o||typeof N!="function"||typeof U!="function"||s({global:!0,enumerable:!0,forced:!0},{fetch:function(ge){var fe,ae,ce,ge=[ge];return 1<arguments.length&&(C(fe=arguments[1])&&(ae=fe.body,M(ae)===z&&((ce=fe.headers?new U(fe.headers):new U).has("content-type")||ce.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),fe=R(fe,{body:O(0,String(ae)),headers:O(0,ce)}))),ge.push(fe)),N.apply(this,ge)}}),g.exports={URLSearchParams:f,getState:G}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":54,"../internals/get-built-in":56,"../internals/get-iterator":58,"../internals/get-iterator-method":57,"../internals/has":60,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-url":84,"../internals/object-create":90,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],232:[function(P,g,y){P("../modules/es.string.iterator");function l(he){var Fe,Xe,De,ct;if(typeof he=="number"){for(Fe=[],Xe=0;Xe<4;Xe++)Fe.unshift(he%256),he=q(he/256);return Fe.join(".")}if(typeof he!="object")return he;for(Fe="",De=ie(he),Xe=0;Xe<8;Xe++)ct&&he[Xe]===0||(ct=ct&&!1,De===Xe?(Fe+=Xe?":":"::",ct=!0):(Fe+=he[Xe].toString(16),Xe<7&&(Fe+=":")));return"["+Fe+"]"}function i(he){return!he.host||he.cannotBeABaseURL||he.scheme=="file"}function r(he,Fe,Xe,De){var ct,Ie,mt,qe=Xe||Pe,ft=0,We="",Ft=!1,$t=!1,Lt=!1;for(Xe||(he.scheme="",he.username="",he.password="",he.host=null,he.port=null,he.path=[],he.query=null,he.fragment=null,he.cannotBeABaseURL=!1,Fe=Fe.replace(ce,"")),Fe=Fe.replace(ge,""),ct=M(Fe);ft<=ct.length;){switch(Ie=ct[ft],qe){case Pe:if(!Ie||!k.test(Ie)){if(Xe)return X;qe=Z;continue}We+=Ie.toLowerCase(),qe=xe;break;case xe:if(Ie&&(L.test(Ie)||Ie=="+"||Ie=="-"||Ie=="."))We+=Ie.toLowerCase();else{if(Ie!=":"){if(Xe)return X;We="",qe=Z,ft=0;continue}if(Xe&&(Ee(he)!=j(Re,We)||We=="file"&&(Ue(he)||he.port!==null)||he.scheme=="file"&&!he.host))return;if(he.scheme=We,Xe)return void(Ee(he)&&Re[he.scheme]==he.port&&(he.port=null));We="",he.scheme=="file"?qe=it:Ee(he)&&De&&De.scheme==he.scheme?qe=K:Ee(he)?qe=je:ct[ft+1]=="/"?(qe=V,ft++):(he.cannotBeABaseURL=!0,he.path.push(""),qe=jt)}break;case Z:if(!De||De.cannotBeABaseURL&&Ie!="#")return X;if(De.cannotBeABaseURL&&Ie=="#"){he.scheme=De.scheme,he.path=De.path.slice(),he.query=De.query,he.fragment="",he.cannotBeABaseURL=!0,qe=zt;break}qe=De.scheme=="file"?it:te;continue;case K:if(Ie!="/"||ct[ft+1]!="/"){qe=te;continue}qe=Ae,ft++;break;case V:if(Ie=="/"){qe=Ne;break}qe=rt;continue;case te:if(he.scheme=De.scheme,Ie==f)he.username=De.username,he.password=De.password,he.host=De.host,he.port=De.port,he.path=De.path.slice(),he.query=De.query;else if(Ie=="/"||Ie=="\\"&&Ee(he))qe=ve;else if(Ie=="?")he.username=De.username,he.password=De.password,he.host=De.host,he.port=De.port,he.path=De.path.slice(),he.query="",qe=cr;else{if(Ie!="#"){he.username=De.username,he.password=De.password,he.host=De.host,he.port=De.port,he.path=De.path.slice(),he.path.pop(),qe=rt;continue}he.username=De.username,he.password=De.password,he.host=De.host,he.port=De.port,he.path=De.path.slice(),he.query=De.query,he.fragment="",qe=zt}break;case ve:if(!Ee(he)||Ie!="/"&&Ie!="\\"){if(Ie!="/"){he.username=De.username,he.password=De.password,he.host=De.host,he.port=De.port,qe=rt;continue}qe=Ne}else qe=Ae;break;case je:if(qe=Ae,Ie!="/"||We.charAt(ft+1)!="/")continue;ft++;break;case Ae:if(Ie=="/"||Ie=="\\")break;qe=Ne;continue;case Ne:if(Ie=="@"){Ft&&(We="%40"+We);for(var Ft=!0,Jt=M(We),Ur=0;Ur<Jt.length;Ur++){var wr=Jt[Ur];wr!=":"||Lt?(wr=we(wr,Te),Lt?he.password+=wr:he.username+=wr):Lt=!0}We=""}else if(Ie==f||Ie=="/"||Ie=="?"||Ie=="#"||Ie=="\\"&&Ee(he)){if(Ft&&We=="")return G;ft-=M(We).length+1,We="",qe=Be}else We+=Ie;break;case Be:case Ve:if(Xe&&he.scheme=="file"){qe=Ke;continue}if(Ie!=":"||$t){if(Ie==f||Ie=="/"||Ie=="?"||Ie=="#"||Ie=="\\"&&Ee(he)){if(Ee(he)&&We=="")return $;if(Xe&&We==""&&(Ue(he)||he.port!==null))return;if(mt=J(he,We))return mt;if(We="",qe=st,Xe)return;continue}Ie=="["?$t=!0:Ie=="]"&&($t=!1),We+=Ie}else{if(We=="")return $;if(mt=J(he,We))return mt;if(We="",qe=He,Xe==Ve)return}break;case He:if(!F.test(Ie)){if(Ie==f||Ie=="/"||Ie=="?"||Ie=="#"||Ie=="\\"&&Ee(he)||Xe){if(We!=""){var Br=parseInt(We,10);if(65535<Br)return ne;he.port=Ee(he)&&Br===Re[he.scheme]?null:Br,We=""}if(Xe)return;qe=st;continue}return ne}We+=Ie;break;case it:if(he.scheme="file",Ie=="/"||Ie=="\\")qe=nt;else{if(!De||De.scheme!="file"){qe=rt;continue}if(Ie==f)he.host=De.host,he.path=De.path.slice(),he.query=De.query;else if(Ie=="?")he.host=De.host,he.path=De.path.slice(),he.query="",qe=cr;else{if(Ie!="#"){Ge(ct.slice(ft).join(""))||(he.host=De.host,he.path=De.path.slice(),Ze(he)),qe=rt;continue}he.host=De.host,he.path=De.path.slice(),he.query=De.query,he.fragment="",qe=zt}}break;case nt:if(Ie=="/"||Ie=="\\"){qe=Ke;break}De&&De.scheme=="file"&&!Ge(ct.slice(ft).join(""))&&(ze(De.path[0],!0)?he.path.push(De.path[0]):he.host=De.host),qe=rt;continue;case Ke:if(Ie==f||Ie=="/"||Ie=="\\"||Ie=="?"||Ie=="#"){if(!Xe&&ze(We))qe=rt;else{if(We==""){if(he.host="",Xe)return}else{if(mt=J(he,We))return mt;if(he.host=="localhost"&&(he.host=""),Xe)return;We=""}qe=st}continue}We+=Ie;break;case st:if(Ee(he)){if(qe=rt,Ie!="/"&&Ie!="\\")continue}else if(Xe||Ie!="?")if(Xe||Ie!="#"){if(Ie!=f&&(qe=rt,Ie!="/"))continue}else he.fragment="",qe=zt;else he.query="",qe=cr;break;case rt:if(Ie==f||Ie=="/"||Ie=="\\"&&Ee(he)||!Xe&&(Ie=="?"||Ie=="#")){if(be(We)?(Ze(he),Ie=="/"||Ie=="\\"&&Ee(he)||he.path.push("")):Ye(We)?Ie=="/"||Ie=="\\"&&Ee(he)||he.path.push(""):(he.scheme=="file"&&!he.path.length&&ze(We)&&(he.host&&(he.host=""),We=We.charAt(0)+":"),he.path.push(We)),We="",he.scheme=="file"&&(Ie==f||Ie=="?"||Ie=="#"))for(;1<he.path.length&&he.path[0]==="";)he.path.shift();Ie=="?"?(he.query="",qe=cr):Ie=="#"&&(he.fragment="",qe=zt)}else We+=we(Ie,pe);break;case jt:Ie=="?"?(he.query="",qe=cr):Ie=="#"?(he.fragment="",qe=zt):Ie!=f&&(he.path[0]+=we(Ie,ue));break;case cr:Xe||Ie!="#"?Ie!=f&&(Ie=="'"&&Ee(he)?he.query+="%27":he.query+=Ie=="#"?"%23":we(Ie,ue)):(he.fragment="",qe=zt);break;case zt:Ie!=f&&(he.fragment+=we(Ie,me))}ft++}}function a(Ie){var Fe,Xe,De=_(this,a,"URL"),ct=1<arguments.length?arguments[1]:void 0,Ie=String(Ie),mt=W(De,{type:"URL"});if(ct!==void 0){if(ct instanceof a)Fe=z(ct);else if(Xe=r(Fe={},String(ct)))throw TypeError(Xe)}if(Xe=r(mt,Ie,null,Fe))throw TypeError(Xe);var qe=mt.searchParams=new N;(ct=U(qe)).updateSearchParams(mt.query),ct.updateURL=function(){mt.query=String(qe)||null},u||(De.href=Mt.call(De),De.origin=pt.call(De),De.protocol=or.call(De),De.username=Kt.call(De),De.password=vt.call(De),De.host=ir.call(De),De.hostname=cs.call(De),De.port=us.call(De),De.pathname=ds.call(De),De.search=Qs.call(De),De.searchParams=hs.call(De),De.hash=fs.call(De))}function d(he,Fe){return{get:he,set:Fe,configurable:!0,enumerable:!0}}var f,s,o,n=P("../internals/export"),u=P("../internals/descriptors"),h=P("../internals/native-url"),yt=P("../internals/global"),p=P("../internals/object-define-properties"),v=P("../internals/redefine"),_=P("../internals/an-instance"),j=P("../internals/has"),x=P("../internals/object-assign"),M=P("../internals/array-from"),E=P("../internals/string-multibyte").codeAt,C=P("../internals/string-punycode-to-ascii"),R=P("../internals/set-to-string-tag"),O=P("../modules/web.url-search-params"),P=P("../internals/internal-state"),I=yt.URL,N=O.URLSearchParams,U=O.getState,W=P.set,z=P.getterFor("URL"),q=Math.floor,Y=Math.pow,G="Invalid authority",X="Invalid scheme",$="Invalid host",ne="Invalid port",k=/[A-Za-z]/,L=/[\d+-.A-Za-z]/,F=/\d/,H=/^(0x|0X)/,ee=/^[0-7]+$/,re=/^\d+$/,le=/^[\dA-Fa-f]+$/,fe=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,ae=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,ce=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,ge=/[\u0009\u000A\u000D]/g,J=function(he,Fe){var Xe,De,ct;if(Fe.charAt(0)=="[")return Fe.charAt(Fe.length-1)=="]"&&(Xe=function(Ie){var mt=[0,0,0,0,0,0,0,0],qe=0,ft=null,We=0,Ft,$t,Lt,Jt,Ur,wr,Br,er=function(){return Ie.charAt(We)};if(er()==":"){if(Ie.charAt(1)!=":")return;We+=2,qe++,ft=qe}for(;er();){if(qe==8)return;if(er()==":"){if(ft!==null)return;We++,qe++,ft=qe;continue}for(Ft=$t=0;$t<4&&le.test(er());)Ft=Ft*16+parseInt(er(),16),We++,$t++;if(er()=="."){if($t==0||(We-=$t,qe>6))return;for(Lt=0;er();){if(Jt=null,Lt>0)if(er()=="."&&Lt<4)We++;else return;if(!F.test(er()))return;for(;F.test(er());){if(Ur=parseInt(er(),10),Jt===null)Jt=Ur;else{if(Jt==0)return;Jt=Jt*10+Ur}if(Jt>255)return;We++}mt[qe]=mt[qe]*256+Jt,Lt++,(Lt==2||Lt==4)&&qe++}if(Lt!=4)return;break}else if(er()==":"){if(We++,!er())return}else if(er())return;mt[qe++]=Ft}if(ft!==null)for(wr=qe-ft,qe=7;qe!=0&&wr>0;)Br=mt[qe],mt[qe--]=mt[ft+wr-1],mt[ft+--wr]=Br;else if(qe!=8)return;return mt}(Fe.slice(1,-1)))?void(he.host=Xe):$;if(Ee(he))return Fe=C(Fe),fe.test(Fe)||(Xe=function(Ie){var mt=Ie.split("."),qe,ft,We,Ft,$t,Lt,Jt;if(mt.length&&mt[mt.length-1]==""&&mt.pop(),(qe=mt.length)>4)return Ie;for(ft=[],We=0;We<qe;We++){if(Ft=mt[We],Ft=="")return Ie;if($t=10,Ft.length>1&&Ft.charAt(0)=="0"&&($t=H.test(Ft)?16:8,Ft=Ft.slice($t==8?1:2)),Ft==="")Lt=0;else{if(!($t==10?re:$t==8?ee:le).test(Ft))return Ie;Lt=parseInt(Ft,$t)}ft.push(Lt)}for(We=0;We<qe;We++)if(Lt=ft[We],We==qe-1){if(Lt>=Y(256,5-qe))return null}else if(Lt>255)return null;for(Jt=ft.pop(),We=0;We<ft.length;We++)Jt+=ft[We]*Y(256,3-We);return Jt}(Fe))===null?$:void(he.host=Xe);if(ae.test(Fe))return $;for(Xe="",De=M(Fe),ct=0;ct<De.length;ct++)Xe+=we(De[ct],ue);he.host=Xe},ie=function(he){for(var Fe=null,Xe=1,De=null,ct=0,Ie=0;Ie<8;Ie++)he[Ie]!==0?(Xe<ct&&(Fe=De,Xe=ct),De=null,ct=0):(De===null&&(De=Ie),++ct);return Xe<ct&&(Fe=De,Xe=ct),Fe},ue={},me=x({},ue,{" ":1,'"':1,"<":1,">":1,"`":1}),pe=x({},me,{"#":1,"?":1,"{":1,"}":1}),Te=x({},pe,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),we=function(he,Fe){var Xe=E(he,0);return 32<Xe&&Xe<127&&!j(Fe,he)?he:encodeURIComponent(he)},Re={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Ee=function(he){return j(Re,he.scheme)},Ue=function(he){return he.username!=""||he.password!=""},ze=function(he,Fe){return he.length==2&&k.test(he.charAt(0))&&((he=he.charAt(1))==":"||!Fe&&he=="|")},Ge=function(he){return 1<he.length&&ze(he.slice(0,2))&&(he.length==2||(he=he.charAt(2))==="/"||he==="\\"||he==="?"||he==="#")},Ze=function(he){var Fe=he.path,Xe=Fe.length;!Xe||he.scheme=="file"&&Xe==1&&ze(Fe[0],!0)||Fe.pop()},Ye=function(he){return he==="."||he.toLowerCase()==="%2e"},be=function(he){return(he=he.toLowerCase())===".."||he==="%2e."||he===".%2e"||he==="%2e%2e"},Pe={},xe={},Z={},K={},V={},te={},ve={},je={},Ae={},Ne={},Be={},Ve={},He={},it={},nt={},Ke={},st={},rt={},jt={},cr={},zt={},yt=a.prototype,Mt=function(){var he=z(this),Fe=he.scheme,Xe=he.username,De=he.password,ct=he.host,Ie=he.port,mt=he.path,qe=he.query,ft=he.fragment,We=Fe+":";return ct!==null?(We+="//",Ue(he)&&(We+=Xe+(De?":"+De:"")+"@"),We+=l(ct),Ie!==null&&(We+=":"+Ie)):Fe=="file"&&(We+="//"),We+=he.cannotBeABaseURL?mt[0]:mt.length?"/"+mt.join("/"):"",qe!==null&&(We+="?"+qe),ft!==null&&(We+="#"+ft),We},pt=function(){var he=z(this),Fe=he.scheme,Xe=he.port;if(Fe=="blob")try{return new URL(Fe.path[0]).origin}catch{return"null"}return Fe!="file"&&Ee(he)?Fe+"://"+l(he.host)+(Xe!==null?":"+Xe:""):"null"},or=function(){return z(this).scheme+":"},Kt=function(){return z(this).username},vt=function(){return z(this).password},ir=function(){var Fe=z(this),he=Fe.host,Fe=Fe.port;return he===null?"":Fe===null?l(he):l(he)+":"+Fe},cs=function(){var he=z(this).host;return he===null?"":l(he)},us=function(){var he=z(this).port;return he===null?"":String(he)},ds=function(){var he=z(this),Fe=he.path;return he.cannotBeABaseURL?Fe[0]:Fe.length?"/"+Fe.join("/"):""},Qs=function(){var he=z(this).query;return he?"?"+he:""},hs=function(){return z(this).searchParams},fs=function(){var he=z(this).fragment;return he?"#"+he:""};u&&p(yt,{href:d(Mt,function(Xe){var Fe=z(this),Xe=String(Xe),Xe=r(Fe,Xe);if(Xe)throw TypeError(Xe);U(Fe.searchParams).updateSearchParams(Fe.query)}),origin:d(pt),protocol:d(or,function(he){var Fe=z(this);r(Fe,String(he)+":",Pe)}),username:d(Kt,function(he){var Fe=z(this),Xe=M(String(he));if(!i(Fe)){Fe.username="";for(var De=0;De<Xe.length;De++)Fe.username+=we(Xe[De],Te)}}),password:d(vt,function(he){var Fe=z(this),Xe=M(String(he));if(!i(Fe)){Fe.password="";for(var De=0;De<Xe.length;De++)Fe.password+=we(Xe[De],Te)}}),host:d(ir,function(he){var Fe=z(this);Fe.cannotBeABaseURL||r(Fe,String(he),Be)}),hostname:d(cs,function(he){var Fe=z(this);Fe.cannotBeABaseURL||r(Fe,String(he),Ve)}),port:d(us,function(he){var Fe=z(this);i(Fe)||((he=String(he))==""?Fe.port=null:r(Fe,he,He))}),pathname:d(ds,function(he){var Fe=z(this);Fe.cannotBeABaseURL||(Fe.path=[],r(Fe,he+"",st))}),search:d(Qs,function(he){var Fe=z(this);(he=String(he))==""?Fe.query=null:(he.charAt(0)=="?"&&(he=he.slice(1)),Fe.query="",r(Fe,he,cr)),U(Fe.searchParams).updateSearchParams(Fe.query)}),searchParams:d(hs),hash:d(fs,function(he){var Fe=z(this);(he=String(he))==""?Fe.fragment=null:(he.charAt(0)=="#"&&(he=he.slice(1)),Fe.fragment="",r(Fe,he,zt))})}),v(yt,"toJSON",function(){return Mt.call(this)},{enumerable:!0}),v(yt,"toString",function(){return Mt.call(this)},{enumerable:!0}),I&&(s=I.createObjectURL,o=I.revokeObjectURL,s&&v(a,"createObjectURL",function(he){return s.apply(I,arguments)}),o&&v(a,"revokeObjectURL",function(he){return o.apply(I,arguments)})),R(a,"URL"),n({global:!0,forced:!h,sham:!u},{URL:a})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/internal-state":70,"../internals/native-url":84,"../internals/object-assign":89,"../internals/object-define-properties":91,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/string-multibyte":123,"../internals/string-punycode-to-ascii":124,"../modules/es.string.iterator":186,"../modules/web.url-search-params":231}],233:[function(e,g,y){g.exports=e("./").polyfill()},{"./":234}],234:[function(e,g,y){(function(l,i){var r,a;r=this,a=function(){function d(J){return typeof J=="function"}var f=Array.isArray||function(J){return Object.prototype.toString.call(J)==="[object Array]"},s=0,o=void 0,n=void 0,u=function(J,ie){x[s]=J,x[s+1]=ie,(s+=2)===2&&(n?n(M):N())},h=typeof window<"u"?window:void 0,p=h||{},p=p.MutationObserver||p.WebKitMutationObserver,v=typeof self>"u"&&l!==void 0&&{}.toString.call(l)==="[object process]",_=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function j(){var J=setTimeout;return function(){return J(M,1)}}var x=new Array(1e3);function M(){for(var J=0;J<s;J+=2)(0,x[J])(x[J+1]),x[J]=void 0,x[J+1]=void 0;s=0}function E(){try{var J=Function("return this")().require("vertx");return(o=J.runOnLoop||J.runOnContext)!==void 0?function(){o(M)}:j()}catch{return j()}}var C,R,O,N=void 0;function P(J,ie){var ue,me=this,pe=new this.constructor(W),Te=(pe[U]===void 0&&le(pe),me._state);return Te?(ue=arguments[Te-1],u(function(){return ee(Te,pe,ue,me._result)})):F(me,pe,J,ie),pe}function I(J){var ie;return J&&typeof J=="object"&&J.constructor===this?J:($(ie=new this(W),J),ie)}var N=v?function(){return l.nextTick(M)}:p?(R=0,v=new p(M),O=document.createTextNode(""),v.observe(O,{characterData:!0}),function(){O.data=R=++R%2}):_?((C=new MessageChannel).port1.onmessage=M,function(){return C.port2.postMessage(0)}):(h===void 0&&typeof e=="function"?E:j)(),U=Math.random().toString(36).substring(2);function W(){}var z=void 0,q=1,Y=2;function G(J,ie,ue){u(function(me){var pe=!1,Te=function(we,Re,Ee,Ue){try{we.call(Re,Ee,Ue)}catch(ze){return ze}}(ue,ie,function(we){pe||(pe=!0,(ie!==we?$:k)(me,we))},function(we){pe||(pe=!0,L(me,we))},me._label);!pe&&Te&&(pe=!0,L(me,Te))},J)}function X(J,ie,ue){var me,pe;ie.constructor===J.constructor&&ue===P&&ie.constructor.resolve===I?(me=J,(pe=ie)._state===q?k(me,pe._result):pe._state===Y?L(me,pe._result):F(pe,void 0,function(Te){return $(me,Te)},function(Te){return L(me,Te)})):ue!==void 0&&d(ue)?G(J,ie,ue):k(J,ie)}function $(J,ie){if(J===ie)L(J,new TypeError("You cannot resolve a promise with itself"));else if(ue=typeof ie,ie===null||ue!="object"&&ue!="function")k(J,ie);else{ue=void 0;try{ue=ie.then}catch(me){return void L(J,me)}X(J,ie,ue)}var ue}function ne(J){J._onerror&&J._onerror(J._result),H(J)}function k(J,ie){J._state===z&&(J._result=ie,J._state=q,J._subscribers.length!==0&&u(H,J))}function L(J,ie){J._state===z&&(J._state=Y,J._result=ie,u(ne,J))}function F(J,ie,ue,me){var pe=J._subscribers,Te=pe.length;J._onerror=null,pe[Te]=ie,pe[Te+q]=ue,pe[Te+Y]=me,Te===0&&J._state&&u(H,J)}function H(J){var ie=J._subscribers,ue=J._state;if(ie.length!==0){for(var me,pe=void 0,Te=J._result,we=0;we<ie.length;we+=3)me=ie[we],pe=ie[we+ue],me?ee(ue,me,pe,Te):pe(Te);J._subscribers.length=0}}function ee(J,ie,ue,me){var pe=d(ue),Te=void 0,we=void 0,Re=!0;if(pe){try{Te=ue(me)}catch(Ee){Re=!1,we=Ee}if(ie===Te)return void L(ie,new TypeError("A promises callback cannot return that same promise."))}else Te=me;ie._state===z&&(pe&&Re?$(ie,Te):Re===!1?L(ie,we):J===q?k(ie,Te):J===Y&&L(ie,Te))}var re=0;function le(J){J[U]=re++,J._state=void 0,J._result=void 0,J._subscribers=[]}ae.prototype._enumerate=function(J){for(var ie=0;this._state===z&&ie<J.length;ie++)this._eachEntry(J[ie],ie)},ae.prototype._eachEntry=function(J,ie){var ue=this._instanceConstructor,me=ue.resolve;if(me===I){var pe,Te=void 0,we=void 0,Re=!1;try{Te=J.then}catch(Ee){Re=!0,we=Ee}Te===P&&J._state!==z?this._settledAt(J._state,ie,J._result):typeof Te!="function"?(this._remaining--,this._result[ie]=J):ue===ce?(pe=new ue(W),Re?L(pe,we):X(pe,J,Te),this._willSettleAt(pe,ie)):this._willSettleAt(new ue(function(Ee){return Ee(J)}),ie)}else this._willSettleAt(me(J),ie)},ae.prototype._settledAt=function(J,ie,ue){var me=this.promise;me._state===z&&(this._remaining--,J===Y?L(me,ue):this._result[ie]=ue),this._remaining===0&&k(me,this._result)},ae.prototype._willSettleAt=function(J,ie){var ue=this;F(J,void 0,function(me){return ue._settledAt(q,ie,me)},function(me){return ue._settledAt(Y,ie,me)})};var fe=ae;function ae(J,ie){this._instanceConstructor=J,this.promise=new J(W),this.promise[U]||le(this.promise),f(ie)?(this.length=ie.length,this._remaining=ie.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(ie),this._remaining!==0)||k(this.promise,this._result)):L(this.promise,new Error("Array Methods must be provided an Array"))}ge.prototype.catch=function(J){return this.then(null,J)},ge.prototype.finally=function(J){var ie=this.constructor;return d(J)?this.then(function(ue){return ie.resolve(J()).then(function(){return ue})},function(ue){return ie.resolve(J()).then(function(){throw ue})}):this.then(J,J)};var ce=ge;function ge(J){if(this[U]=re++,this._result=this._state=void 0,this._subscribers=[],W!==J){if(typeof J!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof ge))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var ie=this;try{J(function(ue){$(ie,ue)},function(ue){L(ie,ue)})}catch(ue){L(ie,ue)}}}return ce.prototype.then=P,ce.all=function(J){return new fe(this,J).promise},ce.race=function(J){var ie=this;return f(J)?new ie(function(ue,me){for(var pe=J.length,Te=0;Te<pe;Te++)ie.resolve(J[Te]).then(ue,me)}):new ie(function(ue,me){return me(new TypeError("You must pass an array to race."))})},ce.resolve=I,ce.reject=function(J){var ie=new this(W);return L(ie,J),ie},ce._setScheduler=function(J){n=J},ce._setAsap=function(J){u=J},ce._asap=u,ce.polyfill=function(){var J=void 0;if(i!==void 0)J=i;else if(typeof self<"u")J=self;else try{J=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var ie=J.Promise;if(ie){var ue=null;try{ue=Object.prototype.toString.call(ie.resolve())}catch{}if(ue==="[object Promise]"&&!ie.cast)return}J.Promise=ce},ce.Promise=ce},typeof y=="object"&&g!==void 0?g.exports=a():r.ES6Promise=a()}).call(this,e("_process"),typeof uo<"u"?uo:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:243}],235:[function(e,g,y){var l,i;l=this,i=function(r,a){var d=5e3,f="callback";function s(n){try{delete window[n]}catch{window[n]=void 0}}function o(n){n=document.getElementById(n),n&&document.getElementsByTagName("head")[0].removeChild(n)}a.exports=function(n){var u=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],h=n,p=u.timeout||d,v=u.jsonpCallback||f,_=void 0;return new Promise(function(j,x){var M=u.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),E=v+"_"+M,C=(window[M]=function(R){j({ok:!0,json:function(){return Promise.resolve(R)}}),_&&clearTimeout(_),o(E),s(M)},h+=h.indexOf("?")===-1?"?":"&",document.createElement("script"));C.setAttribute("src",""+h+v+"="+M),u.charset&&C.setAttribute("charset",u.charset),C.id=E,document.getElementsByTagName("head")[0].appendChild(C),_=setTimeout(function(){x(new Error("JSONP request to "+n+" timed out")),s(M),o(E),window[M]=function(){s(M)}},p),C.onerror=function(){x(new Error("JSONP request to "+n+" failed")),s(M),o(E),_&&clearTimeout(_)}})}},y!==void 0&&g!==void 0?i(0,g):(i(i={exports:{}},i),l.fetchJsonp=i.exports)},{}],236:[function(e,g,y){var l=function(i){var r,a,d,f,s,o,n,u,h,p,v;if(!(i===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return v=i.document,r=function(){return i.URL||i.webkitURL||i},a=v.createElementNS("http://www.w3.org/1999/xhtml","a"),d="download"in a,f=/constructor/i.test(i.HTMLElement)||i.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent),o=function(_){(i.setImmediate||i.setTimeout)(function(){throw _},0)},n=4e4,u=function(_){setTimeout(function(){typeof _=="string"?r().revokeObjectURL(_):_.remove()},n)},h=function(_){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(_.type)?new Blob([String.fromCharCode(65279),_],{type:_.type}):_},v=(p=function(_,j,R){R||(_=h(_));var M,E,C=this,R=_.type==="application/octet-stream",O=function(){for(var P=C,I="writestart progress write writeend".split(" "),N=void 0,U=(I=[].concat(I)).length;U--;){var W=P["on"+I[U]];if(typeof W=="function")try{W.call(P,N||P)}catch(z){o(z)}}};C.readyState=C.INIT,d?(M=r().createObjectURL(_),setTimeout(function(){var P,I;a.href=M,a.download=j,P=a,I=new MouseEvent("click"),P.dispatchEvent(I),O(),u(M),C.readyState=C.DONE})):(s||R&&f)&&i.FileReader?((E=new FileReader).onloadend=function(){var P=s?E.result:E.result.replace(/^data:[^;]*;/,"data:attachment/file;");i.open(P,"_blank")||(i.location.href=P),P=void 0,C.readyState=C.DONE,O()},E.readAsDataURL(_),C.readyState=C.INIT):(M=M||r().createObjectURL(_),!R&&i.open(M,"_blank")||(i.location.href=M),C.readyState=C.DONE,O(),u(M))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(_,j,x){return j=j||_.name||"download",x||(_=h(_)),navigator.msSaveOrOpenBlob(_,j)}:(v.abort=function(){},v.readyState=v.INIT=0,v.WRITING=1,v.DONE=2,v.error=v.onwritestart=v.onprogress=v.onwrite=v.onabort=v.onerror=v.onwriteend=null,function(_,j,x){return new p(_,j||_.name||"download",x)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);g!==void 0&&g.exports?g.exports.saveAs=l:c!=null},{}],237:[function(e,g,y){var l,i=Object.defineProperty,r=(i(y,"__esModule",{value:!0}),y),a={GIFEncoder:()=>O,applyPalette:()=>function(z,q,Y="rgb565"){if(!z||!z.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(z instanceof Uint8Array||z instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<q.length)throw new Error("applyPalette() only works with 256 colors or less");const G=new Uint32Array(z.buffer),X=G.length,$=Y==="rgb444"?4096:65536,ne=new Uint8Array(X),k=new Array($);if(Y==="rgba4444")for(let ge=0;ge<X;ge++){var ee=G[ge],L=ee>>24&255,F=ee>>16&255,H=ee>>8&255,ee=255&ee,re=u(ee,H,F,L),re=re in k?k[re]:k[re]=function(J,ie,ue,me,pe){let Te=0,we=1e100;for(let ze=0;ze<pe.length;ze++){var Re,Ee=pe[ze],Ue=E(Ee[3]-me);Ue>we||(Re=Ee[0],(Ue+=E(Re-J))>we||(Re=Ee[1],(Ue+=E(Re-ie))>we||(Re=Ee[2],(Ue+=E(Re-ue))>we||(we=Ue,Te=ze))))}return Te}(ee,H,F,L,q);ne[ge]=re}else{const ge=Y==="rgb444"?h:n;for(let J=0;J<X;J++){var ae=G[J],le=ae>>16&255,fe=ae>>8&255,ae=255&ae,ce=ge(ae,fe,le),ce=ce in k?k[ce]:k[ce]=function(ie,ue,me,pe){let Te=0,we=1e100;for(let ze=0;ze<pe.length;ze++){var Re,Ee=pe[ze],Ue=E(Ee[0]-ie);Ue>we||(Re=Ee[1],(Ue+=E(Re-ue))>we||(Re=Ee[2],(Ue+=E(Re-me))>we||(we=Ue,Te=ze)))}return Te}(ae,fe,le,q);ne[J]=ce}}return ne},default:()=>W,nearestColor:()=>function(z,q,Y=x){return z[C(z,q,Y)]},nearestColorIndex:()=>C,nearestColorIndexWithDistance:()=>R,prequantize:()=>function(z,{roundRGB:q=5,roundAlpha:Y=10,oneBitAlpha:G=null}={}){const X=new Uint32Array(z.buffer);for(let F=0;F<X.length;F++){var L=X[F];let H=L>>24&255;var $,ne=L>>16&255,k=L>>8&255,L=255&L;H=M(H,Y),G&&($=typeof G=="number"?G:127,H=H<=$?0:255),L=M(L,q),k=M(k,q),ne=M(ne,q),X[F]=H<<24|ne<<16|k<<8|L<<0}},quantize:()=>function(z,q,Y={}){var{format:G="rgb565",clearAlpha:X=!0,clearAlphaColor:$=0,clearAlphaThreshold:ne=0,oneBitAlpha:k=!1}=Y;if(!z||!z.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(z instanceof Uint8Array||z instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");z=new Uint32Array(z.buffer);let L=Y.useSqrt!==!1;const F=G==="rgba4444",H=function(Ge,Ze){const Ye=Ze==="rgb444"?4096:65536,be=new Array(Ye),Pe=Ge.length;if(Ze==="rgba4444")for(let nt=0;nt<Pe;++nt){var V=Ge[nt],xe=V>>24&255,Z=V>>16&255,K=V>>8&255,V=255&V,te=u(V,K,Z,xe);let Ke=te in be?be[te]:be[te]=j();Ke.rc+=V,Ke.gc+=K,Ke.bc+=Z,Ke.ac+=xe,Ke.cnt++}else if(Ze==="rgb444")for(let nt=0;nt<Pe;++nt){var Ae=Ge[nt],ve=Ae>>16&255,je=Ae>>8&255,Ae=255&Ae,Ne=h(Ae,je,ve);let Ke=Ne in be?be[Ne]:be[Ne]=j();Ke.rc+=Ae,Ke.gc+=je,Ke.bc+=ve,Ke.cnt++}else for(let nt=0;nt<Pe;++nt){var He=Ge[nt],Be=He>>16&255,Ve=He>>8&255,He=255&He,it=n(He,Ve,Be);let Ke=it in be?be[it]:be[it]=j();Ke.rc+=He,Ke.gc+=Ve,Ke.bc+=Be,Ke.cnt++}return be}(z,G),ee=H.length,re=ee-1,le=new Uint32Array(ee+1);for(var fe=0,ae=0;ae<ee;++ae){const Ge=H[ae];Ge!=null&&(Ee=1/Ge.cnt,F&&(Ge.ac*=Ee),Ge.rc*=Ee,Ge.gc*=Ee,Ge.bc*=Ee,H[fe++]=Ge)}v(q)/fe<.022&&(L=!1);for(var ce,ge,J,ae=0;ae<fe-1;++ae)H[ae].fw=ae+1,H[ae+1].bk=ae,L&&(H[ae].cnt=Math.sqrt(H[ae].cnt));for(L&&(H[ae].cnt=Math.sqrt(H[ae].cnt)),ae=0;ae<fe;++ae){_(H,ae,!1);var ie=H[ae].err;for(ge=++le[0];1<ge&&(J=ge>>1,!(H[ce=le[J]].err<=ie));ge=J)le[ge]=ce;le[ge]=ae}var ue,me=fe-q;for(ae=0;ae<me;){for(;;){var pe=le[1];if((ue=H[pe]).tm>=ue.mtm&&H[ue.nn].mtm<=ue.tm)break;for(ue.mtm==re?pe=le[1]=le[le[0]--]:(_(H,pe,!1),ue.tm=ae),ie=H[pe].err,ge=1;(J=ge+ge)<=le[0]&&(J<le[0]&&H[le[J]].err>H[le[J+1]].err&&J++,!(ie<=H[ce=le[J]].err));ge=J)le[ge]=ce;le[ge]=pe}var Te=H[ue.nn],we=ue.cnt,Re=Te.cnt,Ee=1/(we+Re);F&&(ue.ac=Ee*(we*ue.ac+Re*Te.ac)),ue.rc=Ee*(we*ue.rc+Re*Te.rc),ue.gc=Ee*(we*ue.gc+Re*Te.gc),ue.bc=Ee*(we*ue.bc+Re*Te.bc),ue.cnt+=Te.cnt,ue.mtm=++ae,H[Te.bk].fw=Te.fw,H[Te.fw].bk=Te.bk,Te.mtm=re}let Ue=[];for(ae=0;;0){let Ge=p(Math.round(H[ae].rc),0,255),Ze=p(Math.round(H[ae].gc),0,255),Ye=p(Math.round(H[ae].bc),0,255),be=255;F&&(be=p(Math.round(H[ae].ac),0,255),k&&(ze=typeof k=="number"?k:127,be=be<=ze?0:255),X&&be<=ne&&(Ge=Ze=Ye=$,be=0));var ze=F?[Ge,Ze,Ye,be]:[Ge,Ze,Ye];if(function(Pe,xe){for(let V=0;V<Pe.length;V++){var K=Pe[V],Z=K[0]===xe[0]&&K[1]===xe[1]&&K[2]===xe[2],K=!(4<=K.length&&4<=xe.length)||K[3]===xe[3];if(Z&&K)return!0}return!1}(Ue,ze)||Ue.push(ze),(ae=H[ae].fw)==0)break}return Ue},snapColorsToPalette:()=>function(z,q,Y=5){if(z.length&&q.length){var G=z.map(L=>L.slice(0,3)),X=Y*Y,$=z[0].length;for(let L=0;L<q.length;L++){let F=q[L];F=F.length<$?[F[0],F[1],F[2],255]:F.length>$?F.slice(0,3):F.slice();var k=R(G,F.slice(0,3),x),ne=k[0],k=k[1];0<k&&k<=X&&(z[ne]=F)}}}};for(l in a)i(r,l,{get:a[l],enumerable:!0});var d={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function f(z=256){let q=0,Y=new Uint8Array(z);return{get buffer(){return Y.buffer},reset(){q=0},bytesView(){return Y.subarray(0,q)},bytes(){return Y.slice(0,q)},writeByte(X){G(q+1),Y[q]=X,q++},writeBytes(X,$=0,ne=X.length){G(q+ne);for(let k=0;k<ne;k++)Y[q++]=X[k+$]},writeBytesView(X,$=0,ne=X.byteLength){G(q+ne),Y.set(X.subarray($,$+ne),q),q+=ne}};function G(X){var $=Y.length;if(!(X<=$)){X=Math.max(X,$*($<1048576?2:1.125)>>>0),$!=0&&(X=Math.max(X,256));const ne=Y;Y=new Uint8Array(X),0<q&&Y.set(ne.subarray(0,q),0)}}}var s=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],o=function(z,q,Y,F,X=f(512),$=new Uint8Array(256),ne=new Int32Array(5003),k=new Int32Array(5003)){var L=ne.length,F=Math.max(2,F);$.fill(0),k.fill(0),ne.fill(-1);let H=0,ee=0;var re=F+1;const le=re;let fe=!1,ae=le,ce=(1<<ae)-1;var ge=1<<re-1;const J=1+ge;let ie=2+ge,ue=0,me=Y[0],pe=0;for(let ze=L;ze<65536;ze*=2)++pe;pe=8-pe,X.writeByte(F),Ue(ge);var Te=Y.length;for(let ze=1;ze<Te;ze++)e:{var we=Y[ze],Re=(we<<12)+me;let Ge=we<<pe^me;if(ne[Ge]===Re)me=k[Ge];else{for(var Ee=Ge===0?1:L-Ge;0<=ne[Ge];)if((Ge-=Ee)<0&&(Ge+=L),ne[Ge]===Re){me=k[Ge];break e}Ue(me),me=we,ie<4096?(k[Ge]=ie++,ne[Ge]=Re):(ne.fill(-1),ie=2+ge,fe=!0,Ue(ge))}}return Ue(me),Ue(J),X.writeByte(0),X.bytesView();function Ue(ze){for(H&=s[ee],0<ee?H|=ze<<ee:H=ze,ee+=ae;8<=ee;)$[ue++]=255&H,254<=ue&&(X.writeByte(ue),X.writeBytesView($,0,ue),ue=0),H>>=8,ee-=8;if((ie>ce||fe)&&(fe?(ae=le,ce=(1<<ae)-1,fe=!1):(++ae,ce=ae===12?1<<ae:(1<<ae)-1)),ze==J){for(;0<ee;)$[ue++]=255&H,254<=ue&&(X.writeByte(ue),X.writeBytesView($,0,ue),ue=0),H>>=8,ee-=8;0<ue&&(X.writeByte(ue),X.writeBytesView($,0,ue),ue=0)}}};function n(z,q,Y){return z<<8&63488|q<<2&992|Y>>3}function u(z,q,Y,G){return z>>4|240&q|(240&Y)<<4|(240&G)<<8}function h(z,q,Y){return z>>4<<8|240&q|Y>>4}function p(z,q,Y){return z<q?q:Y<z?Y:z}function v(z){return z*z}function _(z,q,Y){var G=0,X=1e100;const $=z[q];for(var ne=$.cnt,k=$.ac,L=$.rc,F=$.gc,H=$.bc,ee=$.fw;ee!=0;ee=z[ee].fw){var re,le=z[ee],fe=le.cnt,fe=ne*fe/(ne+fe);X<=fe||(re=0,Y&&X<=(re+=fe*v(le.ac-k))||X<=(re+=fe*v(le.rc-L))||X<=(re+=fe*v(le.gc-F))||X<=(re+=fe*v(le.bc-H))||(X=re,G=ee))}$.err=X,$.nn=G}function j(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function x(z,q){for(var Y=0,G=0;G<z.length;G++){var X=z[G]-q[G];Y+=X*X}return Y}function M(z,q){return 1<q?Math.round(z/q)*q:z}function E(z){return z*z}function C(z,q,Y=x){let G=1/0,X=-1;for(let ne=0;ne<z.length;ne++){var $=Y(q,z[ne]);$<G&&(G=$,X=ne)}return X}function R(z,q,Y=x){let G=1/0,X=-1;for(let ne=0;ne<z.length;ne++){var $=Y(q,z[ne]);$<G&&(G=$,X=ne)}return[X,G]}function O(z={}){const{initialCapacity:q=4096,auto:Y=!0}=z,G=f(q),X=new Uint8Array(256),$=new Int32Array(5003),ne=new Int32Array(5003);let k=!1;return{reset(){G.reset(),k=!1},finish(){G.writeByte(d.trailer)},bytes(){return G.bytes()},bytesView(){return G.bytesView()},get buffer(){return G.buffer},get stream(){return G},writeHeader:L,writeFrame(F,H,ee,me={}){var{transparent:le=!1,transparentIndex:fe=0,delay:Ee=0,palette:ae=null,repeat:Te=0,colorDepth:ce=8,dispose:ge=-1}=me;let J=!1;if(Y?k||(J=!0,L(),k=!0):J=Boolean(me.first),H=Math.max(0,Math.floor(H)),ee=Math.max(0,Math.floor(ee)),J){if(!ae)throw new Error("First frame must include a { palette } option");var[me,we,ue,Re,pe=8]=[G,H,ee,ae,ce];Re=U(Re.length)-1,pe=128|pe-1<<4|Re,I(me,we),I(me,ue),me.writeBytes([pe,0,0]),P(G,ae),0<=Te&&(Re=G,we=Te,Re.writeByte(33),Re.writeByte(255),Re.writeByte(11),N(Re,"NETSCAPE2.0"),Re.writeByte(3),Re.writeByte(1),I(Re,we),Re.writeByte(0))}var ie,ue=Math.round(Ee/10),me=G,pe=ge,Te=ue,we=le,Re=fe,Ee=(me.writeByte(33),me.writeByte(249),me.writeByte(4),Re<0&&(Re=0,we=!1),we=we?(ie=1,2):ie=0,0<=pe&&(we=7&pe),we<<=2,me.writeByte(0|we|ie),I(me,Te),me.writeByte(Re||0),me.writeByte(0),Boolean(ae)&&!J);ge=G,le=H,fe=ee,ie=Ee?ae:null,ge.writeByte(44),I(ge,0),I(ge,0),I(ge,le),I(ge,fe),ie?(le=U(ie.length)-1,ge.writeByte(128|le)):ge.writeByte(0),Ee&&P(G,ae),[Te,me,fe,le,ge=8,Ee,ae,F]=[G,F,H,ee,ce,X,$,ne],o(fe,le,me,ge,Te,Ee,ae,F)}};function L(){N(G,"GIF89a")}}function P(z,q){var Y=1<<U(q.length);for(let G=0;G<Y;G++){let X=[0,0,0];G<q.length&&(X=q[G]),z.writeByte(X[0]),z.writeByte(X[1]),z.writeByte(X[2])}}function I(z,q){z.writeByte(255&q),z.writeByte(q>>8&255)}function N(z,q){for(var Y=0;Y<q.length;Y++)z.writeByte(q.charCodeAt(Y))}function U(z){return Math.max(Math.ceil(Math.log2(z)),1)}var W=O},{}],238:[function(e,g,y){y.read=function(l,i,r,a,_){var f,s,o=8*_-a-1,n=(1<<o)-1,u=n>>1,h=-7,p=r?_-1:0,v=r?-1:1,_=l[i+p];for(p+=v,f=_&(1<<-h)-1,_>>=-h,h+=o;0<h;f=256*f+l[i+p],p+=v,h-=8);for(s=f&(1<<-h)-1,f>>=-h,h+=a;0<h;s=256*s+l[i+p],p+=v,h-=8);if(f===0)f=1-u;else{if(f===n)return s?NaN:1/0*(_?-1:1);s+=Math.pow(2,a),f-=u}return(_?-1:1)*s*Math.pow(2,f-a)},y.write=function(l,i,r,a,d,j){var s,o,n=8*j-d-1,u=(1<<n)-1,h=u>>1,p=d===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=a?0:j-1,_=a?1:-1,j=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(o=isNaN(i)?1:0,s=u):(s=Math.floor(Math.log(i)/Math.LN2),i*(a=Math.pow(2,-s))<1&&(s--,a*=2),2<=(i+=1<=s+h?p/a:p*Math.pow(2,1-h))*a&&(s++,a/=2),u<=s+h?(o=0,s=u):1<=s+h?(o=(i*a-1)*Math.pow(2,d),s+=h):(o=i*Math.pow(2,h-1)*Math.pow(2,d),s=0));8<=d;l[r+v]=255&o,v+=_,o/=256,d-=8);for(s=s<<d|o,n+=d;0<n;l[r+v]=255&s,v+=_,s/=256,n-=8);l[r+v-_]|=128*j}},{}],239:[function(e,g,y){var l;function i(Z,K){return Z.b===K.b&&Z.a===K.a}function r(Z,K){return Z.b<K.b||Z.b===K.b&&Z.a<=K.a}function a(Z,K,V){var te=K.b-Z.b,ve=V.b-K.b;return 0<te+ve?te<ve?K.a-Z.a+te/(te+ve)*(Z.a-V.a):K.a-V.a+ve/(te+ve)*(V.a-Z.a):0}function d(Z,K,V){var te=K.b-Z.b,ve=V.b-K.b;return 0<te+ve?(K.a-V.a)*te+(K.a-Z.a)*ve:0}function f(Z,K){return Z.a<K.a||Z.a===K.a&&Z.b<=K.b}function s(Z,K,V){var te=K.a-Z.a,ve=V.a-K.a;return 0<te+ve?te<ve?K.b-Z.b+te/(te+ve)*(Z.b-V.b):K.b-V.b+ve/(te+ve)*(V.b-Z.b):0}function o(Z,K,V){var te=K.a-Z.a,ve=V.a-K.a;return 0<te+ve?(K.b-V.b)*te+(K.b-Z.b)*ve:0}function n(Z,K,V,te){return(Z=Z<0?0:Z)<=(V=V<0?0:V)?V===0?(K+te)/2:K+Z/(Z+V)*(te-K):te+V/(Z+V)*(K-te)}function u(Z){var K=j(Z.b);return M(K,Z.c),M(K.b,Z.c),E(K,Z.a),K}function h(Z,K){var V=!1,te=!1;Z!==K&&(K.a!==Z.a&&(te=!0,R(K.a,Z.a)),K.d!==Z.d&&(V=!0,O(K.d,Z.d)),x(K,Z),te||(M(K,Z.a),Z.a.c=Z),V||(E(K,Z.d),Z.d.a=Z))}function p(Z){var K=Z.b,V=!1;Z.d!==Z.b.d&&(V=!0,O(Z.d,Z.b.d)),Z.c===Z?R(Z.a,null):(Z.b.d.a=Z.b.e,Z.a.c=Z.c,x(Z,Z.b.e),V||E(Z,Z.d)),K.c===K?(R(K.a,null),O(K.d,null)):(Z.d.a=K.b.e,K.a.c=K.c,x(K,K.b.e)),C(Z)}function v(Z){var K=j(Z),V=K.b;return x(K,Z.e),K.a=Z.b.a,M(V,K.a),K.d=V.d=Z.d,K=K.b,x(Z.b,Z.b.b.e),x(Z.b,K),Z.b.a=K.a,K.b.a.c=K.b,K.b.d=Z.b.d,K.f=Z.f,K.b.f=Z.b.f,K}function _(Z,K){var V=!1,te=j(Z),ve=te.b;return K.d!==Z.d&&(V=!0,O(K.d,Z.d)),x(te,Z.e),x(ve,K),te.a=Z.b.a,ve.a=K.a,te.d=ve.d=Z.d,Z.d.a=ve,V||E(te,Z.d),te}function j(Z){var K=new ue,V=new ue,te=Z.b.h;return(((V.h=te).b.h=K).h=Z).b.h=V,K.b=V,((K.c=K).e=V).b=K,(V.c=V).e=K}function x(Z,K){var V=Z.c,te=K.c;V.b.e=K,(te.b.e=Z).c=te,K.c=V}function M(Z,K){var V=K.f,te=new pe(K,V);for(V.e=te,V=(K.f=te).c=Z;V.a=te,(V=V.c)!==Z;);}function E(Z,K){var V=K.d,te=new ie(K,V);for(V.b=te,(K.d=te).a=Z,te.c=K.c,V=Z;V.d=te,(V=V.e)!==Z;);}function C(Z){var K=Z.h;Z=Z.b.h,(K.b.h=Z).b.h=K}function R(Z,K){for(var V=Z.c,te=V;te.a=K,(te=te.c)!==V;);V=Z.f,((te=Z.e).f=V).e=te}function O(Z,K){for(var V=Z.a,te=V;te.d=K,(te=te.e)!==V;);V=Z.d,((te=Z.b).d=V).b=te}function P(Z){var K=0;return Math.abs(Z[1])>Math.abs(Z[0])&&(K=1),K=Math.abs(Z[2])>Math.abs(Z[K])?2:K}function I(Z,K){Z.f+=K.f,Z.b.f+=K.b.f}function N(Z,K,V){return Z=Z.a,K=K.a,V=V.a,K.b.a===Z?V.b.a===Z?r(K.a,V.a)?d(V.b.a,K.a,V.a)<=0:0<=d(K.b.a,V.a,K.a):d(V.b.a,Z,V.a)<=0:V.b.a===Z?0<=d(K.b.a,Z,K.a):(K=a(K.b.a,Z,K.a),(Z=a(V.b.a,Z,V.a))<=K)}function U(Z){Z.a.i=null;var K=Z.e;K.a.c=K.c,K.c.a=K.a,Z.e=null}function W(Z,K){p(Z.a),Z.c=!1,(Z.a=K).i=Z}function z(Z){for(var K=Z.a.a;(Z=xe(Z)).a.a===K;);return Z.c&&(W(Z,K=_(Pe(Z).a.b,Z.a.e)),Z=xe(Z)),Z}function q(Z,K,V){var te=new be;return te.a=V,te.e=fe(Z.f,K.e,te),V.i=te}function Y(Z,K){switch(Z.s){case 100130:return(1&K)!=0;case 100131:return K!==0;case 100132:return 0<K;case 100133:return K<0;case 100134:return 2<=K||K<=-2}return!1}function G(Z){var K=Z.a,V=K.d;V.c=Z.d,V.a=K,U(Z)}function X(Z,K,V){for(K=(Z=K).a;Z!==V;){Z.c=!1;var te=Pe(Z),ve=te.a;if(ve.a!==K.a){if(!te.c){G(Z);break}W(te,ve=_(K.c.b,ve.b))}K.c!==ve&&(h(ve.b.e,ve),h(K,ve)),G(Z),K=te.a,Z=te}return K}function $(Z,K,V,te,ve,je){for(var Ae=!0;q(Z,K,V.b),(V=V.c)!==te;);for(ve===null&&(ve=Pe(K).a.b.c);(V=(te=Pe(K)).a.b).a===ve.a;)V.c!==ve&&(h(V.b.e,V),h(ve.b.e,V)),te.f=K.f-V.f,te.d=Y(Z,te.f),K.b=!0,!Ae&&F(Z,K)&&(I(V,ve),U(K),p(ve)),Ae=!1,K=te,ve=V;K.b=!0,je&&ee(Z,K)}function ne(Z,K,V,te,ve){var je=[K.g[0],K.g[1],K.g[2]];K.d=null,K.d=Z.o&&Z.o(je,V,te,Z.c)||null,K.d===null&&(ve?Z.n||(J(Z,100156),Z.n=!0):K.d=V[0])}function k(Z,K,V){var te=[null,null,null,null];te[0]=K.a.d,te[1]=V.a.d,ne(Z,K.a,te,[.5,.5,0,0],!1),h(K,V)}function L(Z,K,V,te,ve){var je=Math.abs(K.b-Z.b)+Math.abs(K.a-Z.a),Ae=Math.abs(V.b-Z.b)+Math.abs(V.a-Z.a),Ne=ve+1;te[ve]=.5*Ae/(je+Ae),te[Ne]=.5*je/(je+Ae),Z.g[0]+=te[ve]*K.g[0]+te[Ne]*V.g[0],Z.g[1]+=te[ve]*K.g[1]+te[Ne]*V.g[1],Z.g[2]+=te[ve]*K.g[2]+te[Ne]*V.g[2]}function F(Z,K){var V=Pe(K),te=K.a,ve=V.a;if(r(te.a,ve.a)){if(0<d(ve.b.a,te.a,ve.a))return;if(i(te.a,ve.a)){if(te.a!==ve.a){var V=Z.e,je=te.a.h;if(0<=je){var Ae=(V=V.b).d,Ne=V.e,Be=V.c,Ve=Be[je];Ae[Ve]=Ae[V.a],(Be[Ae[Ve]]=Ve)<=--V.a&&(Ve<=1||r(Ne[Ae[Ve>>1]],Ne[Ae[Ve]])?Ze:Ye)(V,Ve),Ne[je]=null,Be[je]=V.b,V.b=je}else for(V.c[-(je+1)]=null;0<V.a&&V.c[V.d[V.a-1]]===null;)--V.a;k(Z,ve.b.e,te)}}else v(ve.b),h(te,ve.b.e),K.b=V.b=!0}else{if(d(te.b.a,ve.a,te.a)<0)return;xe(K).b=K.b=!0,v(te.b),h(ve.b.e,te)}return 1}function H(Z,K){var V=Pe(K),te=K.a,ve=V.a,je=te.a,Ae=ve.a,Ne=te.b.a,Be=ve.b.a,Ve=new pe;if(d(Ne,Z.a,je),d(Be,Z.a,Ae),!(je===Ae||Math.min(je.a,Ne.a)>Math.max(Ae.a,Be.a))){if(r(je,Ae)){if(0<d(Be,je,Ae))return}else if(d(Ne,Ae,je)<0)return;var He,it,nt=Ne,Ke=je,st=Be,rt=Ae;if(r(nt,Ke)||(He=nt,nt=Ke,Ke=He),r(st,rt)||(He=st,st=rt,rt=He),r(nt,st)||(He=nt,nt=st,st=He,He=Ke,Ke=rt,rt=He),r(st,Ke)?r(Ke,rt)?((He=a(nt,st,Ke))+(it=a(st,Ke,rt))<0&&(He=-He,it=-it),Ve.b=n(He,st.b,it,Ke.b)):((He=d(nt,st,Ke))+(it=-d(nt,rt,Ke))<0&&(He=-He,it=-it),Ve.b=n(He,st.b,it,rt.b)):Ve.b=(st.b+Ke.b)/2,f(nt,Ke)||(He=nt,nt=Ke,Ke=He),f(st,rt)||(He=st,st=rt,rt=He),f(nt,st)||(He=nt,nt=st,st=He,He=Ke,Ke=rt,rt=He),f(st,Ke)?f(Ke,rt)?((He=s(nt,st,Ke))+(it=s(st,Ke,rt))<0&&(He=-He,it=-it),Ve.a=n(He,st.a,it,Ke.a)):((He=o(nt,st,Ke))+(it=-o(nt,rt,Ke))<0&&(He=-He,it=-it),Ve.a=n(He,st.a,it,rt.a)):Ve.a=(st.a+Ke.a)/2,r(Ve,Z.a)&&(Ve.b=Z.a.b,Ve.a=Z.a.a),nt=r(je,Ae)?je:Ae,r(nt,Ve)&&(Ve.b=nt.b,Ve.a=nt.a),i(Ve,je)||i(Ve,Ae))return F(Z,K),0;if(!i(Ne,Z.a)&&0<=d(Ne,Z.a,Ve)||!i(Be,Z.a)&&d(Be,Z.a,Ve)<=0){if(Be===Z.a)v(te.b),h(ve.b,te),te=Pe(K=z(K)).a,X(Z,Pe(K),V),$(Z,K,te.b.e,te,te,!0);else{if(Ne!==Z.a)return 0<=d(Ne,Z.a,Ve)&&(xe(K).b=K.b=!0,v(te.b),te.a.b=Z.a.b,te.a.a=Z.a.a),void(d(Be,Z.a,Ve)<=0&&(K.b=V.b=!0,v(ve.b),ve.a.b=Z.a.b,ve.a.a=Z.a.a));for(v(ve.b),h(te.e,ve.b.e),Ae=(je=V=K).a.b.a;(je=xe(je)).a.b.a===Ae;);je=Pe(K=je).a.b.c,V.a=ve.b.e,$(Z,K,(ve=X(Z,V,null)).c,te.b.c,je,!0)}return 1}v(te.b),v(ve.b),h(ve.b.e,te),te.a.b=Ve.b,te.a.a=Ve.a,te.a.h=we(Z.e,te.a),te=te.a,ve=[0,0,0,0],Ve=[je.d,Ne.d,Ae.d,Be.d],te.g[0]=te.g[1]=te.g[2]=0,L(te,je,Ne,ve,0),L(te,Ae,Be,ve,2),ne(Z,te,Ve,ve,!0),xe(K).b=K.b=V.b=!0}}function ee(Z,K){for(var V=Pe(K);;){for(;V.b;)V=Pe(K=V);if(!K.b&&((K=xe(V=K))===null||!K.b))break;K.b=!1;var te=K.a,ve=V.a;if(je=te.b.a!==ve.b.a)e:{var je,Ae=Pe(je=K),Ne=je.a,Be=Ae.a,Ve=void 0;if(r(Ne.b.a,Be.b.a)){if(d(Ne.b.a,Be.b.a,Ne.a)<0){je=!1;break e}xe(je).b=je.b=!0,Ve=v(Ne),h(Be.b,Ve),Ve.d.c=je.d}else{if(0<d(Be.b.a,Ne.b.a,Be.a)){je=!1;break e}je.b=Ae.b=!0,Ve=v(Be),h(Ne.e,Be.b),Ve.b.d.c=je.d}je=!0}if(je&&(V.c?(U(V),p(ve),ve=(V=Pe(K)).a):K.c&&(U(K),p(te),te=(K=xe(V)).a)),te.a!==ve.a){if(te.b.a===ve.b.a||K.c||V.c||te.b.a!==Z.a&&ve.b.a!==Z.a)F(Z,K);else if(H(Z,K))break}te.a===ve.a&&te.b.a===ve.b.a&&(I(ve,te),U(K),p(te),K=xe(V))}}function re(Z,K){var V=new be,te=u(Z.b);te.a.b=4e150,te.a.a=K,te.b.a.b=-4e150,te.b.a.a=K,Z.a=te.b.a,V.a=te,V.f=0,V.d=!1,V.c=!1,V.h=!0,V.b=!1,te=fe(te=Z.f,te.a,V),V.e=te}function le(Z){this.a=new ae,this.b=Z,this.c=N}function fe(Z,K,V){for(;(K=K.c).b!==null&&!Z.c(Z.b,K.b,V););return Z=new ae(V,K.a,K),K.a.c=Z,K.a=Z}function ae(Z,K,V){this.b=Z||null,this.a=K||this,this.c=V||this}function ce(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function ge(Z,K){if(Z.d!==K)for(;Z.d!==K;)if(Z.d<K)switch(Z.d){case 0:J(Z,100151),Z.u(null);break;case 1:J(Z,100152),Z.t()}else switch(Z.d){case 2:J(Z,100154),Z.v();break;case 1:J(Z,100153),Z.w()}}function J(Z,K){Z.p&&Z.p(K,Z.c)}function ie(Z,K){this.b=Z||this,this.d=K||this,this.a=null,this.c=!1}function ue(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function me(){this.c=new pe,this.a=new ie,this.b=new ue,this.d=new ue,this.b.b=this.d,this.d.b=this.b}function pe(Z,K){this.e=Z||this,this.f=K||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function Te(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Ee}function we(Z,K){var V,te,ve;return Z.e?(2*(te=++(V=Z.b).a)>V.f&&(V.f*=2,V.c=Ue(V.c,V.f+1)),V.b===0?ve=te:(ve=V.b,V.b=V.c[V.b]),V.e[ve]=K,V.c[ve]=te,V.d[te]=ve,V.h&&Ye(V,te),ve):(V=Z.a++,Z.c[V]=K,-(V+1))}function Re(Z){if(Z.a===0)return Ge(Z.b);var K=Z.c[Z.d[Z.a-1]];if(Z.b.a!==0&&r(ze(Z.b),K))return Ge(Z.b);for(;--Z.a,0<Z.a&&Z.c[Z.d[Z.a-1]]===null;);return K}function Ee(){this.d=Ue([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function Ue(Z,K){for(var V=Array(K),te=0;te<Z.length;te++)V[te]=Z[te];for(;te<K;te++)V[te]=0;return V}function ze(Z){return Z.e[Z.d[1]]}function Ge(Z){var K=Z.d,V=Z.e,te=Z.c,ve=K[1],je=V[ve];return 0<Z.a&&(K[1]=K[Z.a],te[K[1]]=1,V[ve]=null,te[ve]=Z.b,Z.b=ve,0<--Z.a&&Ze(Z,1)),je}function Ze(Z,K){for(var V=Z.d,te=Z.e,ve=Z.c,je=K,Ae=V[je];;){var Ne=je<<1,Be=(Ne<Z.a&&r(te[V[Ne+1]],te[V[Ne]])&&(Ne+=1),V[Ne]);if(Ne>Z.a||r(te[Ae],te[Be])){ve[V[je]=Ae]=je;break}ve[V[je]=Be]=je,je=Ne}}function Ye(Z,K){for(var V=Z.d,te=Z.e,ve=Z.c,je=K,Ae=V[je];;){var Ne=je>>1,Be=V[Ne];if(Ne==0||r(te[Be],te[Ae])){ve[V[je]=Ae]=je;break}ve[V[je]=Be]=je,je=Ne}}function be(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function Pe(Z){return Z.e.c.b}function xe(Z){return Z.e.a.b}(l=ce.prototype).x=function(){ge(this,0)},l.B=function(Z,K){switch(Z){case 100142:return;case 100140:switch(K){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=K)}break;case 100141:return void(this.m=!!K);default:return void J(this,100900)}J(this,100901)},l.y=function(Z){switch(Z){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:J(this,100900)}return!1},l.A=function(Z,K,V){this.j[0]=Z,this.j[1]=K,this.j[2]=V},l.z=function(Z,K){var V=K||null;switch(Z){case 100100:case 100106:this.h=V;break;case 100104:case 100110:this.l=V;break;case 100101:case 100107:this.k=V;break;case 100102:case 100108:this.i=V;break;case 100103:case 100109:this.p=V;break;case 100105:case 100111:this.o=V;break;case 100112:this.r=V;break;default:J(this,100900)}},l.C=function(Z,K){var V=!1,te=[0,0,0];ge(this,2);for(var ve=0;ve<3;++ve){var je=Z[ve];je<-1e150&&(je=-1e150,V=!0),1e150<je&&(je=1e150,V=!0),te[ve]=je}V&&J(this,100155),(V=this.q)===null?h(V=u(this.b),V.b):(v(V),V=V.e),V.a.d=K,V.a.g[0]=te[0],V.a.g[1]=te[1],V.a.g[2]=te[2],V.f=1,V.b.f=-1,this.q=V},l.u=function(Z){ge(this,0),this.d=1,this.b=new me,this.c=Z},l.t=function(){ge(this,1),this.d=2,this.q=null},l.v=function(){ge(this,2),this.d=1},l.w=function(){ge(this,1),this.d=0;var Z,K,V=this.j[0],te=this.j[1],ve=this.j[2],je=!1,Ae=[V,te,ve];if(V===0&&te===0&&ve===0){for(var te=[-2e150,-2e150,-2e150],Ne=[2e150,2e150,2e150],ve=[],Be=[],V=(je=this.b.c).e;V!==je;V=V.e)for(var Ve=0;Ve<3;++Ve){var He=V.g[Ve];He<Ne[Ve]&&(Ne[Ve]=He,Be[Ve]=V),He>te[Ve]&&(te[Ve]=He,ve[Ve]=V)}if(te[1]-Ne[1]>te[V=0]-Ne[0]&&(V=1),Ne[V=te[2]-Ne[2]>te[V]-Ne[V]?2:V]>=te[V])Ae[0]=0,Ae[1]=0,Ae[2]=1;else{for(Ne=Be[V],ve=ve[V],Be=[te=0,0,0],Ne=[Ne.g[0]-ve.g[0],Ne.g[1]-ve.g[1],Ne.g[2]-ve.g[2]],Ve=[0,0,0],V=je.e;V!==je;V=V.e)Ve[0]=V.g[0]-ve.g[0],Ve[1]=V.g[1]-ve.g[1],Ve[2]=V.g[2]-ve.g[2],Be[0]=Ne[1]*Ve[2]-Ne[2]*Ve[1],Be[1]=Ne[2]*Ve[0]-Ne[0]*Ve[2],Be[2]=Ne[0]*Ve[1]-Ne[1]*Ve[0],te<(He=Be[0]*Be[0]+Be[1]*Be[1]+Be[2]*Be[2])&&(te=He,Ae[0]=Be[0],Ae[1]=Be[1],Ae[2]=Be[2]);te<=0&&(Ae[0]=Ae[1]=Ae[2]=0,Ae[P(Ne)]=1)}je=!0}for(Be=P(Ae),V=this.b.c,te=(Be+1)%3,ve=(Be+2)%3,Be=0<Ae[Be]?1:-1,Ae=V.e;Ae!==V;Ae=Ae.e)Ae.b=Ae.g[te],Ae.a=Be*Ae.g[ve];if(je){for(Ae=0,V=(je=this.b.a).b;V!==je;V=V.b)if(!((te=V.a).f<=0))for(;Ae+=(te.a.b-te.b.a.b)*(te.a.a+te.b.a.a),(te=te.e)!==V.a;);if(Ae<0)for(je=(Ae=this.b.c).e;je!==Ae;je=je.e)je.a=-je.a}for(this.n=!1,Ae=this.b.b,V=Ae.h;V!==Ae;V=je)je=V.h,te=V.e,i(V.a,V.b.a)&&V.e.e!==V&&(k(this,te,V),p(V),te=(V=te).e),te.e===V&&(te!==V&&(te!==je&&te!==je.b||(je=je.h),p(te)),V!==je&&V!==je.b||(je=je.h),p(V));for(this.e=Ae=new Te,je=this.b.c,V=je.e;V!==je;V=V.e)V.h=we(Ae,V);var it=Ae;it.d=[];for(var nt=0;nt<it.a;nt++)it.d[nt]=nt;it.d.sort(function(rt){return function(jt,cr){return r(rt[jt],rt[cr])?1:-1}}(it.c)),it.e=!0;for(var Ke=it.b,st=Ke.a;1<=st;--st)Ze(Ke,st);for(Ke.h=!0,this.f=new le(this),re(this,-4e150),re(this,4e150);(Ae=Re(this.e))!==null;){for(;;){e:if((V=this.e).a===0)je=ze(V.b);else if(je=V.c[V.d[V.a-1]],V.b.a!==0&&r(V=ze(V.b),je)){je=V;break e}if(je===null||!i(je,Ae))break;je=Re(this.e),k(this,Ae.c,je.c)}(function rt(jt,cr){for(var zt,yt=(jt.a=cr).c;yt.i===null;)if((yt=yt.c)===cr.c){var yt=jt,Mt=cr;(vt=new be).a=Mt.c.b;for(var ir=(pt=yt.f).a;(ir=ir.a).b!==null&&!pt.c(pt.b,vt,ir.b););var pt,or,Kt=Pe(pt=ir.b),vt=pt.a,ir=Kt.a;return void(d(vt.b.a,Mt,vt.a)===0?i((vt=pt.a).a,Mt)||i(vt.b.a,Mt)||(v(vt.b),pt.c&&(p(vt.c),pt.c=!1),h(Mt.c,vt),rt(yt,Mt)):(or=r(ir.b.a,vt.b.a)?pt:Kt,Kt=void 0,pt.d||or.c?(Kt=or===pt?_(Mt.c.b,vt.e):_(ir.b.c.b,Mt.c).b,or.c?W(or,Kt):((pt=q(vt=yt,pt,Kt)).f=xe(pt).f+pt.a.f,pt.d=Y(vt,pt.f)),rt(yt,Mt)):$(yt,pt,Mt.c,Mt.c,null,!0)))}pt=(vt=Pe(yt=z(yt.i))).a,(vt=X(jt,vt,null)).c===pt?(vt=(pt=vt).c,ir=Pe(yt),Kt=yt.a,or=ir.a,zt=!1,Kt.b.a!==or.b.a&&H(jt,yt),i(Kt.a,jt.a)&&(h(vt.b.e,Kt),vt=Pe(yt=z(yt)).a,X(jt,Pe(yt),ir),zt=!0),i(or.a,jt.a)&&(h(pt,or.b.e),pt=X(jt,ir,null),zt=!0),zt?$(jt,yt,pt.c,vt,vt,!0):(Mt=r(or.a,Kt.a)?or.b.e:Kt,$(jt,yt,Mt=_(pt.c.b,Mt),Mt.c,Mt.c,!1),Mt.b.i.c=!0,ee(jt,yt))):$(jt,yt,vt.c,pt,pt,!0)})(this,Ae)}for(this.a=this.f.a.a.b.a.a,Ae=0;(je=this.f.a.a.b)!==null;)je.h||++Ae,U(je);for(this.f=null,(Ae=this.e).b=null,Ae.d=null,this.e=Ae.c=null,Ae=this.b,V=Ae.a.b;V!==Ae.a;V=je)je=V.b,(V=V.a).e.e===V&&(I(V.c,V),p(V));if(!this.n){if(Ae=this.b,this.m)for(V=Ae.b.h;V!==Ae.b;V=je)je=V.h,V.b.d.c!==V.d.c?V.f=V.d.c?1:-1:p(V);else for(V=Ae.a.b;V!==Ae.a;V=je)if(je=V.b,V.c){for(V=V.a;r(V.b.a,V.a);V=V.c.b);for(;r(V.a,V.b.a);V=V.e);for(te=V.c.b,ve=void 0;V.e!==te;)if(r(V.b.a,te.a)){for(;te.e!==V&&(r((K=te.e).b.a,K.a)||d(te.a,te.b.a,te.e.b.a)<=0);)te=(ve=_(te.e,te)).b;te=te.c.b}else{for(;te.e!==V&&(r((Z=V.c.b).a,Z.b.a)||0<=d(V.b.a,V.a,V.c.b.a));)V=(ve=_(V,V.c.b)).b;V=V.e}for(;te.e.e!==V;)ve=_(te.e,te),te=ve.b}if(this.h||this.i||this.k||this.l)if(this.m){for(je=(Ae=this.b).a.b;je!==Ae.a;je=je.b)if(je.c){for(this.h&&this.h(2,this.c),V=je.a;this.k&&this.k(V.a.d,this.c),(V=V.e)!==je.a;);this.i&&this.i(this.c)}}else{for(Ae=this.b,je=!!this.l,V=!1,te=-1,ve=Ae.a.d;ve!==Ae.a;ve=ve.d)if(ve.c)for(V||(this.h&&this.h(4,this.c),V=!0),Be=ve.a;je&&(Ne=Be.b.d.c?0:1,te!==Ne&&(te=Ne,this.l&&this.l(!!te,this.c))),this.k&&this.k(Be.a.d,this.c),(Be=Be.e)!==ve.a;);V&&this.i&&this.i(this.c)}if(this.r){for(Ae=this.b,V=Ae.a.b;V!==Ae.a;V=je)if(je=V.b,!V.c){for(ve=(te=V.a).e,Be=void 0;ve=(Be=ve).e,(Be.d=null)===Be.b.d&&(Be.c===Be?R(Be.a,null):(Be.a.c=Be.c,x(Be,Be.b.e)),(Ne=Be.b).c===Ne?R(Ne.a,null):(Ne.a.c=Ne.c,x(Ne,Ne.b.e)),C(Be)),Be!==te;);te=V.d,((V=V.b).d=te).b=V}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:ce,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},ce.prototype.gluDeleteTess=ce.prototype.x,ce.prototype.gluTessProperty=ce.prototype.B,ce.prototype.gluGetTessProperty=ce.prototype.y,ce.prototype.gluTessNormal=ce.prototype.A,ce.prototype.gluTessCallback=ce.prototype.z,ce.prototype.gluTessVertex=ce.prototype.C,ce.prototype.gluTessBeginPolygon=ce.prototype.u,ce.prototype.gluTessBeginContour=ce.prototype.t,ce.prototype.gluTessEndContour=ce.prototype.v,ce.prototype.gluTessEndPolygon=ce.prototype.w,g!==void 0&&(g.exports=this.libtess)},{}],240:[function(e,g,y){function l(r,a,d,f){var s=0,o=(f=f===void 0?{}:f).loop===void 0?null:f.loop,n=f.palette===void 0?null:f.palette;if(a<=0||d<=0||65535<a||65535<d)throw new Error("Width/Height invalid.");function u(E){if(E=E.length,E<2||256<E||E&E-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return E}r[s++]=71,r[s++]=73,r[s++]=70,r[s++]=56,r[s++]=57,r[s++]=97;var h=0,p=0;if(n!==null){for(var v=u(n);v>>=1;)++h;if(v=1<<h,--h,f.background!==void 0){if(v<=(p=f.background))throw new Error("Background index out of range.");if(p===0)throw new Error("Background index explicitly passed as 0.")}}if(r[s++]=255&a,r[s++]=a>>8&255,r[s++]=255&d,r[s++]=d>>8&255,r[s++]=(n!==null?128:0)|h,r[s++]=p,r[s++]=0,n!==null)for(var _=0,j=n.length;_<j;++_){var x=n[_];r[s++]=x>>16&255,r[s++]=x>>8&255,r[s++]=255&x}if(o!==null){if(o<0||65535<o)throw new Error("Loop count invalid.");r[s++]=33,r[s++]=255,r[s++]=11,r[s++]=78,r[s++]=69,r[s++]=84,r[s++]=83,r[s++]=67,r[s++]=65,r[s++]=80,r[s++]=69,r[s++]=50,r[s++]=46,r[s++]=48,r[s++]=3,r[s++]=1,r[s++]=255&o,r[s++]=o>>8&255,r[s++]=0}var M=!1;this.addFrame=function(E,C,R,O,P,I){if(M===!0&&(--s,M=!1),I=I===void 0?{}:I,E<0||C<0||65535<E||65535<C)throw new Error("x/y invalid.");if(R<=0||O<=0||65535<R||65535<O)throw new Error("Width/Height invalid.");if(P.length<R*O)throw new Error("Not enough pixels for the frame size.");var N=!0,U=I.palette;if(U==null&&(N=!1,U=n),U==null)throw new Error("Must supply either a local or global palette.");for(var z=u(U),W=0;z>>=1;)++W;var z=1<<W,q=I.delay===void 0?0:I.delay,Y=I.disposal===void 0?0:I.disposal;if(Y<0||3<Y)throw new Error("Disposal out of range.");var G=!1,X=0;if(I.transparent!==void 0&&I.transparent!==null&&(G=!0,(X=I.transparent)<0||z<=X))throw new Error("Transparent color index.");if(Y===0&&!G&&q===0||(r[s++]=33,r[s++]=249,r[s++]=4,r[s++]=Y<<2|(G===!0?1:0),r[s++]=255&q,r[s++]=q>>8&255,r[s++]=X,r[s++]=0),r[s++]=44,r[s++]=255&E,r[s++]=E>>8&255,r[s++]=255&C,r[s++]=C>>8&255,r[s++]=255&R,r[s++]=R>>8&255,r[s++]=255&O,r[s++]=O>>8&255,r[s++]=N===!0?128|W-1:0,N===!0)for(var $=0,ne=U.length;$<ne;++$){var k=U[$];r[s++]=k>>16&255,r[s++]=k>>8&255,r[s++]=255&k}return s=function(L,F,H,ee){L[F++]=H;var re=F++,le=1<<H,fe=le-1,ae=1+le,ce=1+ae,ge=H+1,J=0,ie=0;function ue(Ge){for(;Ge<=J;)L[F++]=255&ie,ie>>=8,J-=8,F===re+256&&(L[re]=255,re=F++)}function me(Ge){ie|=Ge<<J,J+=ge,ue(8)}var pe=ee[0]&fe,Te={};me(le);for(var we=1,Re=ee.length;we<Re;++we){var Ee=ee[we]&fe,Ue=pe<<8|Ee,ze=Te[Ue];if(ze===void 0){for(ie|=pe<<J,J+=ge;8<=J;)L[F++]=255&ie,ie>>=8,J-=8,F===re+256&&(L[re]=255,re=F++);ce===4096?(me(le),ce=1+ae,ge=H+1,Te={}):(1<<ge<=ce&&++ge,Te[Ue]=ce++),pe=Ee}else pe=ze}return me(pe),me(ae),ue(1),re+1===F?L[re]=0:(L[re]=F-re-1,L[F++]=0),F}(r,s,W<2?2:W,P)},this.end=function(){return M===!1&&(r[s++]=59,M=!0),s},this.getOutputBuffer=function(){return r},this.setOutputBuffer=function(E){r=E},this.getOutputBufferPosition=function(){return s},this.setOutputBufferPosition=function(E){s=E}}function i(r,a,d,f){for(var s=r[a++],o=1<<s,n=1+o,u=1+n,h=s+1,p=(1<<h)-1,v=0,_=0,j=0,x=r[a++],M=new Int32Array(4096),E=null;;){for(;v<16&&x!==0;)_|=r[a++]<<v,v+=8,x===1?x=r[a++]:--x;if(v<h)break;var C=_&p;if(_>>=h,v-=h,C==o)u=1+n,p=(1<<(h=s+1))-1,E=null;else{if(C==n)break;for(var R=C<u?C:E,O=0,P=R;o<P;)P=M[P]>>8,++O;var I=P;if(f<j+O+(R!==C?1:0))return void console.log("Warning, gif stream longer than expected.");d[j++]=I;var N=j+=O;for(R!==C&&(d[j++]=I),P=R;O--;)P=M[P],d[--N]=255&P,P>>=8;E!==null&&u<4096&&(M[u++]=E<<8|I,p+1<=u&&h<12&&(++h,p=p<<1|1)),E=C}}j!==f&&console.log("Warning, gif stream shorter than expected.")}try{y.GifWriter=l,y.GifReader=function(r){var a=0;if(r[a++]!==71||r[a++]!==73||r[a++]!==70||r[a++]!==56||(r[a++]+1&253)!=56||r[a++]!==97)throw new Error("Invalid GIF 87a/89a header.");var d=r[a++]|r[a++]<<8,f=r[a++]|r[a++]<<8,s=r[a++],o=1<<1+(7&s),n=(r[a++],r[a++],null),u=null,h=(s>>7&&(n=a,a+=3*(u=o)),!0),p=[],v=0,_=null,j=0,x=null;for(this.width=d,this.height=f;h&&a<r.length;)switch(r[a++]){case 33:switch(r[a++]){case 255:if(r[a]!==11||r[a+1]==78&&r[a+2]==69&&r[a+3]==84&&r[a+4]==83&&r[a+5]==67&&r[a+6]==65&&r[a+7]==80&&r[a+8]==69&&r[a+9]==50&&r[a+10]==46&&r[a+11]==48&&r[a+12]==3&&r[a+13]==1&&r[a+16]==0)a+=14,x=r[a++]|r[a++]<<8,a++;else for(a+=12;;){if(!(0<=(E=r[a++])))throw Error("Invalid block size");if(E===0)break;a+=E}break;case 249:if(r[a++]!==4||r[a+4]!==0)throw new Error("Invalid graphics extension block.");var M=r[a++],v=r[a++]|r[a++]<<8,_=r[a++];!(1&M)&&(_=null),j=M>>2&7,a++;break;case 254:for(;;){if(!(0<=(E=r[a++])))throw Error("Invalid block size");if(E===0)break;a+=E}break;default:throw new Error("Unknown graphic control label: 0x"+r[a-1].toString(16))}break;case 44:var E,C=r[a++]|r[a++]<<8,R=r[a++]|r[a++]<<8,O=r[a++]|r[a++]<<8,P=r[a++]|r[a++]<<8,q=r[a++],I=q>>6&1,N=1<<1+(7&q),U=n,W=u,z=!1,q=(q>>7&&(z=!0,U=a,a+=3*(W=N)),a);for(a++;;){if(!(0<=(E=r[a++])))throw Error("Invalid block size");if(E===0)break;a+=E}p.push({x:C,y:R,width:O,height:P,has_local_palette:z,palette_offset:U,palette_size:W,data_offset:q,data_length:a-q,transparent_index:_,interlaced:!!I,delay:v,disposal:j});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+r[a-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return x},this.frameInfo=function(Y){if(Y<0||Y>=p.length)throw new Error("Frame index out of range.");return p[Y]},this.decodeAndBlitFrameBGRA=function(Y,G){for(var Y=this.frameInfo(Y),X=Y.width*Y.height,$=new Uint8Array(X),ne=(i(r,Y.data_offset,$,X),Y.palette_offset),k=Y.transparent_index,L=(k===null&&(k=256),Y.width),F=d-L,H=L,ee=4*(Y.y*d+Y.x),re=4*((Y.y+Y.height)*d+Y.x),le=ee,fe=4*F,ae=(Y.interlaced===!0&&(fe+=4*d*7),8),ce=0,ge=$.length;ce<ge;++ce){var J,ie,ue=$[ce];H===0&&(H=L,re<=(le+=fe)&&(fe=4*F+4*d*(ae-1),le=ee+(L+F)*(ae<<1),ae>>=1)),ue===k?le+=4:(J=r[ne+3*ue],ie=r[ne+3*ue+1],ue=r[ne+3*ue+2],G[le++]=ue,G[le++]=ie,G[le++]=J,G[le++]=255),--H}},this.decodeAndBlitFrameRGBA=function(Y,G){for(var Y=this.frameInfo(Y),X=Y.width*Y.height,$=new Uint8Array(X),ne=(i(r,Y.data_offset,$,X),Y.palette_offset),k=Y.transparent_index,L=(k===null&&(k=256),Y.width),F=d-L,H=L,ee=4*(Y.y*d+Y.x),re=4*((Y.y+Y.height)*d+Y.x),le=ee,fe=4*F,ae=(Y.interlaced===!0&&(fe+=4*d*7),8),ce=0,ge=$.length;ce<ge;++ce){var J,ie,ue=$[ce];H===0&&(H=L,re<=(le+=fe)&&(fe=4*F+4*d*(ae-1),le=ee+(L+F)*(ae<<1),ae>>=1)),ue===k?le+=4:(J=r[ne+3*ue],ie=r[ne+3*ue+1],ue=r[ne+3*ue+2],G[le++]=J,G[le++]=ie,G[le++]=ue,G[le++]=255),--H}}}}catch{}},{}],241:[function(e,g,y){(function(l){var i,r;i=this,r=function(a){function d(A){if(this==null)throw TypeError();var w,S=String(this),T=S.length,A=A?Number(A):0;if(!((A=A!=A?0:A)<0||T<=A))return 55296<=(w=S.charCodeAt(A))&&w<=56319&&A+1<T&&56320<=(T=S.charCodeAt(A+1))&&T<=57343?1024*(w-55296)+T-56320+65536:w}String.prototype.codePointAt||((f=function(){try{var m={},w=Object.defineProperty,S=w(m,m,m)&&w}catch{}return S}())?f(String.prototype,"codePointAt",{value:d,configurable:!0,writable:!0}):String.prototype.codePointAt=d);var f,s=0,o=-3;function n(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function u(m,w){this.source=m,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=w,this.destLen=0,this.ltree=new n,this.dtree=new n}var h=new n,p=new n,v=new Uint8Array(30),_=new Uint16Array(30),j=new Uint8Array(30),x=new Uint16Array(30),M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),E=new n,C=new Uint8Array(320);function R(m,w,S,T){for(var A,D=0;D<S;++D)m[D]=0;for(D=0;D<30-S;++D)m[D+S]=D/S|0;for(A=T,D=0;D<30;++D)w[D]=A,A+=1<<m[D]}var O=new Uint16Array(16);function P(m,w,S,T){for(var A,D=0;D<16;++D)m.table[D]=0;for(D=0;D<T;++D)m.table[w[S+D]]++;for(D=A=m.table[0]=0;D<16;++D)O[D]=A,A+=m.table[D];for(D=0;D<T;++D)w[S+D]&&(m.trans[O[w[S+D]]++]=D)}function I(m,w,S){if(!w)return S;for(;m.bitcount<24;)m.tag|=m.source[m.sourceIndex++]<<m.bitcount,m.bitcount+=8;var T=m.tag&65535>>>16-w;return m.tag>>>=w,m.bitcount-=w,T+S}function N(m,w){for(;m.bitcount<24;)m.tag|=m.source[m.sourceIndex++]<<m.bitcount,m.bitcount+=8;for(var S=0,T=0,A=0,D=m.tag;T=2*T+(1&D),D>>>=1,S+=w.table[++A],0<=(T-=w.table[A]););return m.tag=D,m.bitcount-=A,w.trans[S+T]}function U(m,w,S){for(;;){var T=N(m,w);if(T===256)return s;if(T<256)m.dest[m.destLen++]=T;else for(var A,D=I(m,v[T-=257],_[T]),T=N(m,S),B=A=m.destLen-I(m,j[T],x[T]);B<A+D;++B)m.dest[m.destLen++]=m.dest[B]}}for(var W=h,z=p,q=0;q<7;++q)W.table[q]=0;for(W.table[7]=24,W.table[8]=152,W.table[9]=112,q=0;q<24;++q)W.trans[q]=256+q;for(q=0;q<144;++q)W.trans[24+q]=q;for(q=0;q<8;++q)W.trans[168+q]=280+q;for(q=0;q<112;++q)W.trans[176+q]=144+q;for(q=0;q<5;++q)z.table[q]=0;for(z.table[5]=32,q=0;q<32;++q)z.trans[q]=q;R(v,_,4,3),R(j,x,2,1),v[28]=0,_[28]=258;var Y=function(m,w){var S,T,A,D=new u(m,w);do{switch(A=void 0,(T=D).bitcount--||(T.tag=T.source[T.sourceIndex++],T.bitcount=7),A=1&T.tag,T.tag>>>=1,T=A,I(D,2,0)){case 0:S=function(Ce){for(var Je,ot;8<Ce.bitcount;)Ce.sourceIndex--,Ce.bitcount-=8;if((Je=256*Ce.source[Ce.sourceIndex+1]+Ce.source[Ce.sourceIndex])!==(65535&~(256*Ce.source[Ce.sourceIndex+3]+Ce.source[Ce.sourceIndex+2])))return o;for(Ce.sourceIndex+=4,ot=Je;ot;--ot)Ce.dest[Ce.destLen++]=Ce.source[Ce.sourceIndex++];return Ce.bitcount=0,s}(D);break;case 1:S=U(D,h,p);break;case 2:Oe=ke=Le=Me=B=de=_e=Se=ye=se=oe=Q=void 0;for(var B,Q=D,oe=D.ltree,se=D.dtree,ye=I(Q,5,257),Se=I(Q,5,1),_e=I(Q,4,4),de=0;de<19;++de)C[de]=0;for(de=0;de<_e;++de){var Le=I(Q,3,0);C[M[de]]=Le}for(P(E,C,0,19),B=0;B<ye+Se;){var ke=N(Q,E);switch(ke){case 16:for(var Oe=C[B-1],Me=I(Q,2,3);Me;--Me)C[B++]=Oe;break;case 17:for(Me=I(Q,3,3);Me;--Me)C[B++]=0;break;case 18:for(Me=I(Q,7,11);Me;--Me)C[B++]=0;break;default:C[B++]=ke}}P(oe,C,0,ye),P(se,C,ye,Se),S=U(D,D.ltree,D.dtree);break;default:S=o}if(S!==s)throw new Error("Data error")}while(!T);return D.destLen<D.dest.length?typeof D.dest.slice=="function"?D.dest.slice(0,D.destLen):D.dest.subarray(0,D.destLen):D.dest};function G(m,w,S,T,A){return Math.pow(1-A,3)*m+3*Math.pow(1-A,2)*A*w+3*(1-A)*Math.pow(A,2)*S+Math.pow(A,3)*T}function X(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function $(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function ne(m){throw new Error(m)}function k(m,w){m||ne(w)}X.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},X.prototype.addPoint=function(m,w){typeof m=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=m,this.x2=m),m<this.x1&&(this.x1=m),m>this.x2&&(this.x2=m)),typeof w=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=w,this.y2=w),w<this.y1&&(this.y1=w),w>this.y2&&(this.y2=w))},X.prototype.addX=function(m){this.addPoint(m,null)},X.prototype.addY=function(m){this.addPoint(null,m)},X.prototype.addBezier=function(m,w,S,T,A,D,B,Q){var oe=[m,w],se=[S,T],ye=[A,D],Se=[B,Q];this.addPoint(m,w),this.addPoint(B,Q);for(var _e=0;_e<=1;_e++){var de,Le=6*oe[_e]-12*se[_e]+6*ye[_e],ke=-3*oe[_e]+9*se[_e]-9*ye[_e]+3*Se[_e],Oe=3*se[_e]-3*oe[_e];ke==0?Le==0||0<(de=-Oe/Le)&&de<1&&(_e===0&&this.addX(G(oe[_e],se[_e],ye[_e],Se[_e],de)),_e===1&&this.addY(G(oe[_e],se[_e],ye[_e],Se[_e],de))):(de=Math.pow(Le,2)-4*Oe*ke)<0||(0<(Oe=(-Le+Math.sqrt(de))/(2*ke))&&Oe<1&&(_e===0&&this.addX(G(oe[_e],se[_e],ye[_e],Se[_e],Oe)),_e===1&&this.addY(G(oe[_e],se[_e],ye[_e],Se[_e],Oe))),0<(Oe=(-Le-Math.sqrt(de))/(2*ke))&&Oe<1&&(_e===0&&this.addX(G(oe[_e],se[_e],ye[_e],Se[_e],Oe)),_e===1&&this.addY(G(oe[_e],se[_e],ye[_e],Se[_e],Oe))))}},X.prototype.addQuad=function(m,w,S,T,A,D){S=m+2/3*(S-m),T=w+2/3*(T-w),this.addBezier(m,w,S,T,S+1/3*(A-m),T+1/3*(D-w),A,D)},$.prototype.moveTo=function(m,w){this.commands.push({type:"M",x:m,y:w})},$.prototype.lineTo=function(m,w){this.commands.push({type:"L",x:m,y:w})},$.prototype.curveTo=$.prototype.bezierCurveTo=function(m,w,S,T,A,D){this.commands.push({type:"C",x1:m,y1:w,x2:S,y2:T,x:A,y:D})},$.prototype.quadTo=$.prototype.quadraticCurveTo=function(m,w,S,T){this.commands.push({type:"Q",x1:m,y1:w,x:S,y:T})},$.prototype.close=$.prototype.closePath=function(){this.commands.push({type:"Z"})},$.prototype.extend=function(m){var w;if(m.commands)m=m.commands;else if(m instanceof X)return w=m,this.moveTo(w.x1,w.y1),this.lineTo(w.x2,w.y1),this.lineTo(w.x2,w.y2),this.lineTo(w.x1,w.y2),void this.close();Array.prototype.push.apply(this.commands,m)},$.prototype.getBoundingBox=function(){for(var m=new X,w=0,S=0,T=0,A=0,D=0;D<this.commands.length;D++){var B=this.commands[D];switch(B.type){case"M":m.addPoint(B.x,B.y),w=T=B.x,S=A=B.y;break;case"L":m.addPoint(B.x,B.y),T=B.x,A=B.y;break;case"Q":m.addQuad(T,A,B.x1,B.y1,B.x,B.y),T=B.x,A=B.y;break;case"C":m.addBezier(T,A,B.x1,B.y1,B.x2,B.y2,B.x,B.y),T=B.x,A=B.y;break;case"Z":T=w,A=S;break;default:throw new Error("Unexpected path command "+B.type)}}return m.isEmpty()&&m.addPoint(0,0),m},$.prototype.draw=function(m){m.beginPath();for(var w=0;w<this.commands.length;w+=1){var S=this.commands[w];S.type==="M"?m.moveTo(S.x,S.y):S.type==="L"?m.lineTo(S.x,S.y):S.type==="C"?m.bezierCurveTo(S.x1,S.y1,S.x2,S.y2,S.x,S.y):S.type==="Q"?m.quadraticCurveTo(S.x1,S.y1,S.x,S.y):S.type==="Z"&&m.closePath()}this.fill&&(m.fillStyle=this.fill,m.fill()),this.stroke&&(m.strokeStyle=this.stroke,m.lineWidth=this.strokeWidth,m.stroke())},$.prototype.toPathData=function(m){function w(){for(var D=arguments,B="",Q=0;Q<arguments.length;Q+=1){var oe=D[Q];0<=oe&&0<Q&&(B+=" "),B+=(oe=oe,Math.round(oe)===oe?""+Math.round(oe):oe.toFixed(m))}return B}m=m!==void 0?m:2;for(var S="",T=0;T<this.commands.length;T+=1){var A=this.commands[T];A.type==="M"?S+="M"+w(A.x,A.y):A.type==="L"?S+="L"+w(A.x,A.y):A.type==="C"?S+="C"+w(A.x1,A.y1,A.x2,A.y2,A.x,A.y):A.type==="Q"?S+="Q"+w(A.x1,A.y1,A.x,A.y):A.type==="Z"&&(S+="Z")}return S},$.prototype.toSVG=function(m){var w=(w='<path d="')+this.toPathData(m)+'"';return this.fill&&this.fill!=="black"&&(this.fill===null?w+=' fill="none"':w+=' fill="'+this.fill+'"'),this.stroke&&(w+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),w+="/>"},$.prototype.toDOMElement=function(w){var w=this.toPathData(w),S=document.createElementNS("http://www.w3.org/2000/svg","path");return S.setAttribute("d",w),S};var L={fail:ne,argument:k,assert:k},F={},H={},ee={};function re(m){return function(){return m}}H.BYTE=function(m){return L.argument(0<=m&&m<=255,"Byte value should be between 0 and 255."),[m]},ee.BYTE=re(1),H.CHAR=function(m){return[m.charCodeAt(0)]},ee.CHAR=re(1),H.CHARARRAY=function(m){for(var w=[],S=0;S<m.length;S+=1)w[S]=m.charCodeAt(S);return w},ee.CHARARRAY=function(m){return m.length},H.USHORT=function(m){return[m>>8&255,255&m]},ee.USHORT=re(2),H.SHORT=function(m){return[(m=32768<=m?-(65536-m):m)>>8&255,255&m]},ee.SHORT=re(2),H.UINT24=function(m){return[m>>16&255,m>>8&255,255&m]},ee.UINT24=re(3),H.ULONG=function(m){return[m>>24&255,m>>16&255,m>>8&255,255&m]},ee.ULONG=re(4),H.LONG=function(m){return[(m=2147483648<=m?-(4294967296-m):m)>>24&255,m>>16&255,m>>8&255,255&m]},ee.LONG=re(4),H.FIXED=H.ULONG,ee.FIXED=ee.ULONG,H.FWORD=H.SHORT,ee.FWORD=ee.SHORT,H.UFWORD=H.USHORT,ee.UFWORD=ee.USHORT,H.LONGDATETIME=function(m){return[0,0,0,0,m>>24&255,m>>16&255,m>>8&255,255&m]},ee.LONGDATETIME=re(8),H.TAG=function(m){return L.argument(m.length===4,"Tag should be exactly 4 ASCII characters."),[m.charCodeAt(0),m.charCodeAt(1),m.charCodeAt(2),m.charCodeAt(3)]},ee.TAG=re(4),H.Card8=H.BYTE,ee.Card8=ee.BYTE,H.Card16=H.USHORT,ee.Card16=ee.USHORT,H.OffSize=H.BYTE,ee.OffSize=ee.BYTE,H.SID=H.USHORT,ee.SID=ee.USHORT,H.NUMBER=function(m){return-107<=m&&m<=107?[m+139]:108<=m&&m<=1131?[247+((m-=108)>>8),255&m]:-1131<=m&&m<=-108?[251+((m=-m-108)>>8),255&m]:-32768<=m&&m<=32767?H.NUMBER16(m):H.NUMBER32(m)},ee.NUMBER=function(m){return H.NUMBER(m).length},H.NUMBER16=function(m){return[28,m>>8&255,255&m]},ee.NUMBER16=re(3),H.NUMBER32=function(m){return[29,m>>24&255,m>>16&255,m>>8&255,255&m]},ee.NUMBER32=re(5),H.REAL=function(m){for(var w=m.toString(),S=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(w),T=(S&&(S=parseFloat("1e"+((S[2]?+S[2]:0)+S[1].length)),w=(Math.round(m*S)/S).toString()),""),A=0,D=w.length;A<D;A+=1){var B=w[A];T+=B==="e"?w[++A]==="-"?"c":"b":B==="."?"a":B==="-"?"e":B}for(var Q=[30],oe=0,se=(T+=1&T.length?"f":"ff").length;oe<se;oe+=2)Q.push(parseInt(T.substr(oe,2),16));return Q},ee.REAL=function(m){return H.REAL(m).length},H.NAME=H.CHARARRAY,ee.NAME=ee.CHARARRAY,H.STRING=H.CHARARRAY,ee.STRING=ee.CHARARRAY,F.UTF8=function(m,w,S){for(var T=[],A=S,D=0;D<A;D++,w+=1)T[D]=m.getUint8(w);return String.fromCharCode.apply(null,T)},F.UTF16=function(m,w,S){for(var T=[],A=S/2,D=0;D<A;D++,w+=2)T[D]=m.getUint16(w);return String.fromCharCode.apply(null,T)},H.UTF16=function(m){for(var w=[],S=0;S<m.length;S+=1){var T=m.charCodeAt(S);w[w.length]=T>>8&255,w[w.length]=255&T}return w},ee.UTF16=function(m){return 2*m.length};var le,fe={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""},ae=(F.MACSTRING=function(m,w,S,T){var A=fe[T];if(A!==void 0){for(var D="",B=0;B<S;B++){var Q=m.getUint8(w+B);D+=Q<=127?String.fromCharCode(Q):A[127&Q]}return D}},typeof WeakMap=="function"&&new WeakMap);function ce(m){return-128<=m&&m<=127}H.MACSTRING=function(m,w){var S=function(B){if(!le)for(var Q in le={},fe)le[Q]=new String(Q);var oe=le[B];if(oe!==void 0){if(ae){var se=ae.get(oe);if(se!==void 0)return se}var ye=fe[B];if(ye!==void 0){for(var Se={},_e=0;_e<ye.length;_e++)Se[ye.charCodeAt(_e)]=_e+128;return ae&&ae.set(oe,Se),Se}}}(w);if(S!==void 0){for(var T=[],A=0;A<m.length;A++){var D=m.charCodeAt(A);if(128<=D&&(D=S[D])===void 0)return;T[A]=D}return T}},ee.MACSTRING=function(m,w){return m=H.MACSTRING(m,w),m!==void 0?m.length:0},H.VARDELTAS=function(m){for(var T=0,w=[];T<m.length;)var S=m[T],T=(S===0?function(A,D,B){for(var Q=0,oe=A.length;D<oe&&Q<64&&A[D]===0;)++D,++Q;return B.push(128|Q-1),D}:-128<=S&&S<=127?function(A,D,B){for(var Q=0,oe=A.length,se=D;se<oe&&Q<64;){var ye=A[se];if(!ce(ye)||ye===0&&se+1<oe&&A[se+1]===0)break;++se,++Q}B.push(Q-1);for(var Se=D;Se<se;++Se)B.push(A[Se]+256&255);return se}:function(A,D,B){for(var Q=0,oe=A.length,se=D;se<oe&&Q<64;){var ye=A[se];if(ye===0||ce(ye)&&se+1<oe&&ce(A[se+1]))break;++se,++Q}B.push(64|Q-1);for(var Se=D;Se<se;++Se){var _e=A[Se];B.push(_e+65536>>8&255,_e+256&255)}return se})(m,T,w);return w},H.INDEX=function(m){for(var w=1,S=[w],T=[],A=0;A<m.length;A+=1){var D=H.OBJECT(m[A]);Array.prototype.push.apply(T,D),w+=D.length,S.push(w)}if(T.length===0)return[0,0];for(var B=[],Q=1+Math.floor(Math.log(w)/Math.log(2))/8|0,oe=[void 0,H.BYTE,H.USHORT,H.UINT24,H.ULONG][Q],se=0;se<S.length;se+=1){var ye=oe(S[se]);Array.prototype.push.apply(B,ye)}return Array.prototype.concat(H.Card16(m.length),H.OffSize(Q),B,T)},ee.INDEX=function(m){return H.INDEX(m).length},H.DICT=function(m){for(var w=[],S=Object.keys(m),T=S.length,A=0;A<T;A+=1){var D=parseInt(S[A],0),B=m[D];w=(w=w.concat(H.OPERAND(B.value,B.type))).concat(H.OPERATOR(D))}return w},ee.DICT=function(m){return H.DICT(m).length},H.OPERATOR=function(m){return m<1200?[m]:[12,m-1200]},H.OPERAND=function(m,w){var S=[];if(Array.isArray(w))for(var T=0;T<w.length;T+=1)L.argument(m.length===w.length,"Not enough arguments given for type"+w),S=S.concat(H.OPERAND(m[T],w[T]));else if(w==="SID")S=S.concat(H.NUMBER(m));else if(w==="offset")S=S.concat(H.NUMBER32(m));else if(w==="number")S=S.concat(H.NUMBER(m));else{if(w!=="real")throw new Error("Unknown operand type "+w);S=S.concat(H.REAL(m))}return S},H.OP=H.BYTE,ee.OP=ee.BYTE;var ge=typeof WeakMap=="function"&&new WeakMap;function J(m,w,S){for(var T=0;T<w.length;T+=1){var A=w[T];this[A.name]=A.value}if(this.tableName=m,this.fields=w,S)for(var D=Object.keys(S),B=0;B<D.length;B+=1){var Q=D[B],oe=S[Q];this[Q]!==void 0&&(this[Q]=oe)}}function ie(m,w,S){S===void 0&&(S=w.length);var T=new Array(w.length+1);T[0]={name:m+"Count",type:"USHORT",value:S};for(var A=0;A<w.length;A++)T[A+1]={name:m+A,type:"USHORT",value:w[A]};return T}function ue(m,w,S){var T=w.length,A=new Array(T+1);A[0]={name:m+"Count",type:"USHORT",value:T};for(var D=0;D<T;D++)A[D+1]={name:m+D,type:"TABLE",value:S(w[D],D)};return A}function me(m,w,S){var T=w.length,A=[];A[0]={name:m+"Count",type:"USHORT",value:T};for(var D=0;D<T;D++)A=A.concat(S(w[D],D));return A}function pe(m){m.format===1?J.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(ie("glyph",m.glyphs))):L.assert(!1,"Can't create coverage table format 2 yet.")}function Te(m){J.call(this,"scriptListTable",me("scriptRecord",m,function(w,S){var T=w.script,A=T.defaultLangSys;return L.assert(!!A,"Unable to write GSUB: script "+w.tag+" has no default language system."),[{name:"scriptTag"+S,type:"TAG",value:w.tag},{name:"script"+S,type:"TABLE",value:new J("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new J("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:A.reqFeatureIndex}].concat(ie("featureIndex",A.featureIndexes)))}].concat(me("langSys",T.langSysRecords,function(D,B){var Q=D.langSys;return[{name:"langSysTag"+B,type:"TAG",value:D.tag},{name:"langSys"+B,type:"TABLE",value:new J("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:Q.reqFeatureIndex}].concat(ie("featureIndex",Q.featureIndexes)))}]})))}]}))}function we(m){J.call(this,"featureListTable",me("featureRecord",m,function(w,S){var T=w.feature;return[{name:"featureTag"+S,type:"TAG",value:w.tag},{name:"feature"+S,type:"TABLE",value:new J("featureTable",[{name:"featureParams",type:"USHORT",value:T.featureParams}].concat(ie("lookupListIndex",T.lookupListIndexes)))}]}))}function Re(m,w){J.call(this,"lookupListTable",ue("lookup",m,function(S){var T=w[S.lookupType];return L.assert(!!T,"Unable to write GSUB lookup type "+S.lookupType+" tables."),new J("lookupTable",[{name:"lookupType",type:"USHORT",value:S.lookupType},{name:"lookupFlag",type:"USHORT",value:S.lookupFlag}].concat(ue("subtable",S.subtables,T)))}))}H.CHARSTRING=function(m){if(ge){var w=ge.get(m);if(w!==void 0)return w}for(var D=[],S=m.length,T=0;T<S;T+=1)var A=m[T],D=D.concat(H[A.type](A.value));return ge&&ge.set(m,D),D},ee.CHARSTRING=function(m){return H.CHARSTRING(m).length},H.OBJECT=function(m){var w=H[m.type];return L.argument(w!==void 0,"No encoding function for type "+m.type),w(m.value)},ee.OBJECT=function(m){var w=ee[m.type];return L.argument(w!==void 0,"No sizeOf function for type "+m.type),w(m.value)},H.TABLE=function(m){for(var w=[],S=m.fields.length,T=[],A=[],D=0;D<S;D+=1){var B=m.fields[D],oe=H[B.type],Q=(L.argument(oe!==void 0,"No encoding function for field type "+B.type+" ("+B.name+")"),m[B.name]),oe=oe(Q=Q===void 0?B.value:Q);B.type==="TABLE"?(A.push(w.length),w=w.concat([0,0]),T.push(oe)):w=w.concat(oe)}for(var se=0;se<T.length;se+=1){var ye=A[se],Se=w.length;L.argument(Se<65536,"Table "+m.tableName+" too big."),w[ye]=Se>>8,w[ye+1]=255&Se,w=w.concat(T[se])}return w},ee.TABLE=function(m){for(var w=0,S=m.fields.length,T=0;T<S;T+=1){var A=m.fields[T],D=ee[A.type],B=(L.argument(D!==void 0,"No sizeOf function for field type "+A.type+" ("+A.name+")"),m[A.name]);w+=D(B=B===void 0?A.value:B),A.type==="TABLE"&&(w+=2)}return w},H.RECORD=H.TABLE,ee.RECORD=ee.TABLE,H.LITERAL=function(m){return m},ee.LITERAL=function(m){return m.length},J.prototype.encode=function(){return H.TABLE(this)},J.prototype.sizeOf=function(){return ee.TABLE(this)};var Ee={Table:J,Record:J,Coverage:(pe.prototype=Object.create(J.prototype)).constructor=pe,ScriptList:(Te.prototype=Object.create(J.prototype)).constructor=Te,FeatureList:(we.prototype=Object.create(J.prototype)).constructor=we,LookupList:(Re.prototype=Object.create(J.prototype)).constructor=Re,ushortList:ie,tableList:ue,recordList:me};function Ue(m,w){return m.getUint8(w)}function ze(m,w){return m.getUint16(w,!1)}function Ge(m,w){return m.getUint32(w,!1)}function Ze(m,w){return m.getInt16(w,!1)+m.getUint16(w+2,!1)/65535}var Ye={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function be(m,w){this.data=m,this.offset=w,this.relativeOffset=0}be.prototype.parseByte=function(){var m=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,m},be.prototype.parseChar=function(){var m=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,m},be.prototype.parseCard8=be.prototype.parseByte,be.prototype.parseCard16=be.prototype.parseUShort=function(){var m=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,m},be.prototype.parseSID=be.prototype.parseUShort,be.prototype.parseOffset16=be.prototype.parseUShort,be.prototype.parseShort=function(){var m=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,m},be.prototype.parseF2Dot14=function(){var m=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,m},be.prototype.parseOffset32=be.prototype.parseULong=function(){var m=Ge(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,m},be.prototype.parseFixed=function(){var m=Ze(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,m},be.prototype.parseString=function(m){var w=this.data,S=this.offset+this.relativeOffset,T="";this.relativeOffset+=m;for(var A=0;A<m;A++)T+=String.fromCharCode(w.getUint8(S+A));return T},be.prototype.parseTag=function(){return this.parseString(4)},be.prototype.parseLongDateTime=function(){var m=Ge(this.data,this.offset+this.relativeOffset+4);return m-=2082844800,this.relativeOffset+=8,m},be.prototype.parseVersion=function(m){var w=ze(this.data,this.offset+this.relativeOffset),S=ze(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,w+S/(m=m===void 0?4096:m)/10},be.prototype.skip=function(m,w){this.relativeOffset+=Ye[m]*(w=w===void 0?1:w)},be.prototype.parseULongList=function(m){m===void 0&&(m=this.parseULong());for(var w=new Array(m),S=this.data,T=this.offset+this.relativeOffset,A=0;A<m;A++)w[A]=S.getUint32(T),T+=4;return this.relativeOffset+=4*m,w},be.prototype.parseOffset16List=be.prototype.parseUShortList=function(m){m===void 0&&(m=this.parseUShort());for(var w=new Array(m),S=this.data,T=this.offset+this.relativeOffset,A=0;A<m;A++)w[A]=S.getUint16(T),T+=2;return this.relativeOffset+=2*m,w},be.prototype.parseShortList=function(m){for(var w=new Array(m),S=this.data,T=this.offset+this.relativeOffset,A=0;A<m;A++)w[A]=S.getInt16(T),T+=2;return this.relativeOffset+=2*m,w},be.prototype.parseByteList=function(m){for(var w=new Array(m),S=this.data,T=this.offset+this.relativeOffset,A=0;A<m;A++)w[A]=S.getUint8(T++);return this.relativeOffset+=m,w},be.prototype.parseList=function(m,w){w||(w=m,m=this.parseUShort());for(var S=new Array(m),T=0;T<m;T++)S[T]=w.call(this);return S},be.prototype.parseList32=function(m,w){w||(w=m,m=this.parseULong());for(var S=new Array(m),T=0;T<m;T++)S[T]=w.call(this);return S},be.prototype.parseRecordList=function(m,w){w||(w=m,m=this.parseUShort());for(var S=new Array(m),T=Object.keys(w),A=0;A<m;A++){for(var D={},B=0;B<T.length;B++){var Q=T[B],oe=w[Q];D[Q]=oe.call(this)}S[A]=D}return S},be.prototype.parseRecordList32=function(m,w){w||(w=m,m=this.parseULong());for(var S=new Array(m),T=Object.keys(w),A=0;A<m;A++){for(var D={},B=0;B<T.length;B++){var Q=T[B],oe=w[Q];D[Q]=oe.call(this)}S[A]=D}return S},be.prototype.parseStruct=function(m){if(typeof m=="function")return m.call(this);for(var w=Object.keys(m),S={},T=0;T<w.length;T++){var A=w[T],D=m[A];S[A]=D.call(this)}return S},be.prototype.parseValueRecord=function(m){var w;if((m=m===void 0?this.parseUShort():m)!==0)return w={},1&m&&(w.xPlacement=this.parseShort()),2&m&&(w.yPlacement=this.parseShort()),4&m&&(w.xAdvance=this.parseShort()),8&m&&(w.yAdvance=this.parseShort()),16&m&&(w.xPlaDevice=void 0,this.parseShort()),32&m&&(w.yPlaDevice=void 0,this.parseShort()),64&m&&(w.xAdvDevice=void 0,this.parseShort()),128&m&&(w.yAdvDevice=void 0,this.parseShort()),w},be.prototype.parseValueRecordList=function(){for(var m=this.parseUShort(),w=this.parseUShort(),S=new Array(w),T=0;T<w;T++)S[T]=this.parseValueRecord(m);return S},be.prototype.parsePointer=function(m){var w=this.parseOffset16();if(0<w)return new be(this.data,this.offset+w).parseStruct(m)},be.prototype.parsePointer32=function(m){var w=this.parseOffset32();if(0<w)return new be(this.data,this.offset+w).parseStruct(m)},be.prototype.parseListOfLists=function(m){for(var w=this.parseOffset16List(),S=w.length,T=this.relativeOffset,A=new Array(S),D=0;D<S;D++){var B=w[D];if(B===0)A[D]=void 0;else if(this.relativeOffset=B,m){for(var Q=this.parseOffset16List(),oe=new Array(Q.length),se=0;se<Q.length;se++)this.relativeOffset=B+Q[se],oe[se]=m.call(this);A[D]=oe}else A[D]=this.parseUShortList()}return this.relativeOffset=T,A},be.prototype.parseCoverage=function(){var m=this.offset+this.relativeOffset,w=this.parseUShort(),S=this.parseUShort();if(w===1)return{format:1,glyphs:this.parseUShortList(S)};if(w!==2)throw new Error("0x"+m.toString(16)+": Coverage format must be 1 or 2.");for(var T=new Array(S),A=0;A<S;A++)T[A]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:T}},be.prototype.parseClassDef=function(){var m=this.offset+this.relativeOffset,w=this.parseUShort();if(w===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(w===2)return{format:2,ranges:this.parseRecordList({start:be.uShort,end:be.uShort,classId:be.uShort})};throw new Error("0x"+m.toString(16)+": ClassDef format must be 1 or 2.")},be.list=function(m,w){return function(){return this.parseList(m,w)}},be.list32=function(m,w){return function(){return this.parseList32(m,w)}},be.recordList=function(m,w){return function(){return this.parseRecordList(m,w)}},be.recordList32=function(m,w){return function(){return this.parseRecordList32(m,w)}},be.pointer=function(m){return function(){return this.parsePointer(m)}},be.pointer32=function(m){return function(){return this.parsePointer32(m)}},be.tag=be.prototype.parseTag,be.byte=be.prototype.parseByte,be.uShort=be.offset16=be.prototype.parseUShort,be.uShortList=be.prototype.parseUShortList,be.uLong=be.offset32=be.prototype.parseULong,be.uLongList=be.prototype.parseULongList,be.struct=be.prototype.parseStruct,be.coverage=be.prototype.parseCoverage,be.classDef=be.prototype.parseClassDef;var Pe={reserved:be.uShort,reqFeatureIndex:be.uShort,featureIndexes:be.uShortList},xe=(be.prototype.parseScriptList=function(){return this.parsePointer(be.recordList({tag:be.tag,script:be.pointer({defaultLangSys:be.pointer(Pe),langSysRecords:be.recordList({tag:be.tag,langSys:be.pointer(Pe)})})}))||[]},be.prototype.parseFeatureList=function(){return this.parsePointer(be.recordList({tag:be.tag,feature:be.pointer({featureParams:be.offset16,lookupListIndexes:be.uShortList})}))||[]},be.prototype.parseLookupList=function(m){return this.parsePointer(be.list(be.pointer(function(){var w=this.parseUShort(),S=(L.argument(1<=w&&w<=9,"GPOS/GSUB lookup type "+w+" unknown."),this.parseUShort()),T=16&S;return{lookupType:w,lookupFlag:S,subtables:this.parseList(be.pointer(m[w])),markFilteringSet:T?this.parseUShort():void 0}})))||[]},be.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var m=this.parseUShort(),w=this.parseUShort();return L.argument(m===1&&w<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:be.offset32,featureTableSubstitutionOffset:be.offset32})})||[]},{getByte:Ue,getCard8:Ue,getUShort:ze,getCard16:ze,getShort:function(m,w){return m.getInt16(w,!1)},getULong:Ge,getFixed:Ze,getTag:function(m,w){for(var S="",T=w;T<w+4;T+=1)S+=String.fromCharCode(m.getInt8(T));return S},getOffset:function(m,w,S){for(var T=0,A=0;A<S;A+=1)T=(T<<=8)+m.getUint8(w+A);return T},getBytes:function(m,w,S){for(var T=[],A=w;A<S;A+=1)T.push(m.getUint8(A));return T},bytesToString:function(m){for(var w="",S=0;S<m.length;S+=1)w+=String.fromCharCode(m[S]);return w},Parser:be}),Z={parse:function(m,w){for(var S={},T=(S.version=xe.getUShort(m,w),L.argument(S.version===0,"cmap table version should be 0."),S.numTables=xe.getUShort(m,w+2),-1),A=S.numTables-1;0<=A;--A){var D=xe.getUShort(m,w+4+8*A),B=xe.getUShort(m,w+4+8*A+2);if(D===3&&(B===0||B===1||B===10)||D===0&&(B===0||B===1||B===2||B===3||B===4)){T=xe.getULong(m,w+4+8*A+4);break}}if(T===-1)throw new Error("No valid cmap sub-tables found.");var Q=new xe.Parser(m,w+T);if(S.format=Q.parseUShort(),S.format===12){var oe,se=S,ye=Q;ye.parseUShort(),se.length=ye.parseULong(),se.language=ye.parseULong(),se.groupCount=oe=ye.parseULong(),se.glyphIndexMap={};for(var Se=0;Se<oe;Se+=1)for(var _e=ye.parseULong(),de=ye.parseULong(),Le=ye.parseULong(),ke=_e;ke<=de;ke+=1)se.glyphIndexMap[ke]=Le,Le++}else{if(S.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+S.format+").");var Oe=S,Me=m,Ce=w,Je=T;Oe.length=Q.parseUShort(),Oe.language=Q.parseUShort(),Oe.segCount=ot=Q.parseUShort()>>1,Q.skip("uShort",3),Oe.glyphIndexMap={};for(var ot,et=new xe.Parser(Me,Ce+Je+14),tt=new xe.Parser(Me,Ce+Je+16+2*ot),lt=new xe.Parser(Me,Ce+Je+16+4*ot),St=new xe.Parser(Me,Ce+Je+16+6*ot),It=Ce+Je+16+8*ot,Ht=0;Ht<ot-1;Ht+=1)for(var ur=void 0,dr=et.parseUShort(),Ar=tt.parseUShort(),wt=lt.parseShort(),Ct=St.parseUShort(),gt=Ar;gt<=dr;gt+=1)Ct!==0?(It=(It=St.offset+St.relativeOffset-2)+Ct+2*(gt-Ar),(ur=xe.getUShort(Me,It))!==0&&(ur=ur+wt&65535)):ur=gt+wt&65535,Oe.glyphIndexMap[gt]=ur}return S},make:function(m){for(var w=!0,S=m.length-1;0<S;--S)if(65535<m.get(S).unicode){console.log("Adding CMAP format 12 (needed!)"),w=!1;break}var T,A,D=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:w?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:w?12:20}],B=(D=(D=w?D:D.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new Ee.Table("cmap",D));for(B.segments=[],S=0;S<m.length;S+=1){for(var Q=m.get(S),oe=0;oe<Q.unicodes.length;oe+=1)T=Q.unicodes[oe],A=S,B.segments.push({end:T,start:T,delta:-(T-A),offset:0,glyphIndex:A});B.segments=B.segments.sort(function(Ce,Je){return Ce.start-Je.start})}B.segments.push({end:65535,start:65535,delta:1,offset:0});var se=B.segments.length,ye=0,Se=[],_e=[],de=[],Le=[],ke=[],Oe=[];for(S=0;S<se;S+=1){var Me=B.segments[S];Me.end<=65535&&Me.start<=65535?(Se=Se.concat({name:"end_"+S,type:"USHORT",value:Me.end}),_e=_e.concat({name:"start_"+S,type:"USHORT",value:Me.start}),de=de.concat({name:"idDelta_"+S,type:"SHORT",value:Me.delta}),Le=Le.concat({name:"idRangeOffset_"+S,type:"USHORT",value:Me.offset}),Me.glyphId!==void 0&&(ke=ke.concat({name:"glyph_"+S,type:"USHORT",value:Me.glyphId}))):ye+=1,w||Me.glyphIndex===void 0||(Oe=(Oe=(Oe=Oe.concat({name:"cmap12Start_"+S,type:"ULONG",value:Me.start})).concat({name:"cmap12End_"+S,type:"ULONG",value:Me.end})).concat({name:"cmap12Glyph_"+S,type:"ULONG",value:Me.glyphIndex}))}return B.segCountX2=2*(se-ye),B.searchRange=2*Math.pow(2,Math.floor(Math.log(se-ye)/Math.log(2))),B.entrySelector=Math.log(B.searchRange/2)/Math.log(2),B.rangeShift=B.segCountX2-B.searchRange,B.fields=B.fields.concat(Se),B.fields.push({name:"reservedPad",type:"USHORT",value:0}),B.fields=B.fields.concat(_e),B.fields=B.fields.concat(de),B.fields=B.fields.concat(Le),B.fields=B.fields.concat(ke),B.cmap4Length=14+2*Se.length+2+2*_e.length+2*de.length+2*Le.length+2*ke.length,w||(D=16+4*Oe.length,B.cmap12Offset=20+B.cmap4Length,B.fields=B.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:D},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:Oe.length/3}]),B.fields=B.fields.concat(Oe)),B}},K=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],V=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],te=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],ve=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function je(m){this.font=m}function Ae(m){this.cmap=m}function Ne(m,w){this.encoding=m,this.charset=w}function Be(m){switch(m.version){case 1:this.names=ve.slice();break;case 2:this.names=new Array(m.numberOfGlyphs);for(var w=0;w<m.numberOfGlyphs;w++)m.glyphNameIndex[w]<ve.length?this.names[w]=ve[m.glyphNameIndex[w]]:this.names[w]=m.names[m.glyphNameIndex[w]-ve.length];break;case 2.5:this.names=new Array(m.numberOfGlyphs);for(var S=0;S<m.numberOfGlyphs;S++)this.names[S]=ve[S+m.glyphNameIndex[S]];break;default:this.names=[]}}je.prototype.charToGlyphIndex=function(m){var w=m.codePointAt(0),S=this.font.glyphs;if(S){for(var T=0;T<S.length;T+=1)for(var A=S.get(T),D=0;D<A.unicodes.length;D+=1)if(A.unicodes[D]===w)return T}return null},Ae.prototype.charToGlyphIndex=function(m){return this.cmap.glyphIndexMap[m.codePointAt(0)]||0},Ne.prototype.charToGlyphIndex=function(m){return m=m.codePointAt(0),m=this.encoding[m],this.charset.indexOf(m)},Be.prototype.nameToGlyphIndex=function(m){return this.names.indexOf(m)},Be.prototype.glyphIndexToName=function(m){return this.names[m]};var Ve={line:function(m,w,S,T,A){m.beginPath(),m.moveTo(w,S),m.lineTo(T,A),m.stroke()}};function He(m){this.bindConstructorValues(m)}function it(m,w,S){Object.defineProperty(m,w,{get:function(){return m.path,m[S]},set:function(T){m[S]=T},enumerable:!0,configurable:!0})}function nt(m,w){if(this.font=m,this.glyphs={},Array.isArray(w))for(var S=0;S<w.length;S++)this.glyphs[S]=w[S];this.length=w&&w.length||0}He.prototype.bindConstructorValues=function(m){var w;this.index=m.index||0,this.name=m.name||null,this.unicode=m.unicode||void 0,this.unicodes=m.unicodes||m.unicode!==void 0?[m.unicode]:[],m.xMin&&(this.xMin=m.xMin),m.yMin&&(this.yMin=m.yMin),m.xMax&&(this.xMax=m.xMax),m.yMax&&(this.yMax=m.yMax),m.advanceWidth&&(this.advanceWidth=m.advanceWidth),Object.defineProperty(this,"path",(m=m.path,w=m||new $,{configurable:!0,get:function(){return w=typeof w=="function"?w():w},set:function(S){w=S}}))},He.prototype.addUnicode=function(m){this.unicodes.length===0&&(this.unicode=m),this.unicodes.push(m)},He.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},He.prototype.getPath=function(m,w,S,T,A){m=m!==void 0?m:0,w=w!==void 0?w:0,S=S!==void 0?S:72;for(var D,B,Q=(T=T||{}).xScale,oe=T.yScale,se=((D=T.hinting&&A&&A.hinting?this.path&&A.hinting.exec(this,S):D)?(B=A.hinting.getCommands(D),m=Math.round(m),w=Math.round(w),Q=oe=1):(B=this.path.commands,T=1/this.path.unitsPerEm*S,Q===void 0&&(Q=T),oe===void 0&&(oe=T)),new $),ye=0;ye<B.length;ye+=1){var Se=B[ye];Se.type==="M"?se.moveTo(m+Se.x*Q,w+-Se.y*oe):Se.type==="L"?se.lineTo(m+Se.x*Q,w+-Se.y*oe):Se.type==="Q"?se.quadraticCurveTo(m+Se.x1*Q,w+-Se.y1*oe,m+Se.x*Q,w+-Se.y*oe):Se.type==="C"?se.curveTo(m+Se.x1*Q,w+-Se.y1*oe,m+Se.x2*Q,w+-Se.y2*oe,m+Se.x*Q,w+-Se.y*oe):Se.type==="Z"&&se.closePath()}return se},He.prototype.getContours=function(){if(this.points===void 0)return[];for(var m=[],w=[],S=0;S<this.points.length;S+=1){var T=this.points[S];w.push(T),T.lastPointOfContour&&(m.push(w),w=[])}return L.argument(w.length===0,"There are still points left in the current contour."),m},He.prototype.getMetrics=function(){for(var m=this.path.commands,w=[],S=[],T=0;T<m.length;T+=1){var A=m[T];A.type!=="Z"&&(w.push(A.x),S.push(A.y)),A.type!=="Q"&&A.type!=="C"||(w.push(A.x1),S.push(A.y1)),A.type==="C"&&(w.push(A.x2),S.push(A.y2))}var D={xMin:Math.min.apply(null,w),yMin:Math.min.apply(null,S),xMax:Math.max.apply(null,w),yMax:Math.max.apply(null,S),leftSideBearing:this.leftSideBearing};return isFinite(D.xMin)||(D.xMin=0),isFinite(D.xMax)||(D.xMax=this.advanceWidth),isFinite(D.yMin)||(D.yMin=0),isFinite(D.yMax)||(D.yMax=0),D.rightSideBearing=this.advanceWidth-D.leftSideBearing-(D.xMax-D.xMin),D},He.prototype.draw=function(m,w,S,T,A){this.getPath(w,S,T,A).draw(m)},He.prototype.drawPoints=function(m,w,S,T){function A(ye,Se,_e,de){var Le=2*Math.PI;m.beginPath();for(var ke=0;ke<ye.length;ke+=1)m.moveTo(Se+ye[ke].x*de,_e+ye[ke].y*de),m.arc(Se+ye[ke].x*de,_e+ye[ke].y*de,2,0,Le,!1);m.closePath(),m.fill()}w=w!==void 0?w:0,S=S!==void 0?S:0;for(var T=1/this.path.unitsPerEm*(T=T!==void 0?T:24),D=[],B=[],Q=this.path,oe=0;oe<Q.commands.length;oe+=1){var se=Q.commands[oe];se.x!==void 0&&D.push({x:se.x,y:-se.y}),se.x1!==void 0&&B.push({x:se.x1,y:-se.y1}),se.x2!==void 0&&B.push({x:se.x2,y:-se.y2})}m.fillStyle="blue",A(D,w,S,T),m.fillStyle="red",A(B,w,S,T)},He.prototype.drawMetrics=function(m,w,S,T){w=w!==void 0?w:0,S=S!==void 0?S:0,T=1/this.path.unitsPerEm*(T=T!==void 0?T:24),m.lineWidth=1,m.strokeStyle="black",Ve.line(m,w,-1e4,w,1e4),Ve.line(m,-1e4,S,1e4,S);var A=this.xMin||0,D=this.yMin||0,B=this.xMax||0,Q=this.yMax||0,oe=this.advanceWidth||0;m.strokeStyle="blue",Ve.line(m,w+A*T,-1e4,w+A*T,1e4),Ve.line(m,w+B*T,-1e4,w+B*T,1e4),Ve.line(m,-1e4,S+-D*T,1e4,S+-D*T),Ve.line(m,-1e4,S+-Q*T,1e4,S+-Q*T),m.strokeStyle="green",Ve.line(m,w+oe*T,-1e4,w+oe*T,1e4)},nt.prototype.get=function(m){return typeof this.glyphs[m]=="function"&&(this.glyphs[m]=this.glyphs[m]()),this.glyphs[m]},nt.prototype.push=function(m,w){this.glyphs[m]=w,this.length++};var Ke={GlyphSet:nt,glyphLoader:function(m,w){return new He({index:w,font:m})},ttfGlyphLoader:function(m,w,S,T,A,D){return function(){var B=new He({index:w,font:m});return B.path=function(){S(B,T,A);var Q=D(m.glyphs,B);return Q.unitsPerEm=m.unitsPerEm,Q},it(B,"xMin","_xMin"),it(B,"xMax","_xMax"),it(B,"yMin","_yMin"),it(B,"yMax","_yMax"),B}},cffGlyphLoader:function(m,w,S,T){return function(){var A=new He({index:w,font:m});return A.path=function(){var D=S(m,A,T);return D.unitsPerEm=m.unitsPerEm,D},A}}};function st(m){return m=m.length<1240?107:m.length<33900?1131:32768,m}function rt(m,w,S){var T,A=[],D=[],B=xe.getCard16(m,w);if(B!==0){for(var Q=xe.getByte(m,w+2),oe=w+(B+1)*Q+2,se=w+3,ye=0;ye<B+1;ye+=1)A.push(xe.getOffset(m,se,Q)),se+=Q;T=oe+A[B]}else T=w+2;for(var Se=0;Se<A.length-1;Se+=1){var _e=xe.getBytes(m,oe+A[Se],oe+A[Se+1]);S&&(_e=S(_e)),D.push(_e)}return{objects:D,startOffset:w,endOffset:T}}function jt(m,w){if(w===28)return m.parseByte()<<8|m.parseByte();if(w===29)return m.parseByte()<<24|m.parseByte()<<16|m.parseByte()<<8|m.parseByte();if(w===30){for(var S=m,T="",A=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var B=S.parseByte(),D=B>>4,B=15&B;if(D==15||(T+=A[D],B==15))break;T+=A[B]}return parseFloat(T)}if(32<=w&&w<=246)return w-139;if(247<=w&&w<=250)return 256*(w-247)+m.parseByte()+108;if(251<=w&&w<=254)return 256*-(w-251)-m.parseByte()-108;throw new Error("Invalid b0 "+w)}function cr(m,w,S){var T=new xe.Parser(m,w=w!==void 0?w:0),A=[],D=[];for(S=S!==void 0?S:m.length;T.relativeOffset<S;){var B=T.parseByte();B<=21?(B===12&&(B=1200+T.parseByte()),A.push([B,D]),D=[]):D.push(jt(T,B))}for(var Q=A,oe={},se=0;se<Q.length;se+=1){var ye=Q[se][0],Se=Q[se][1],_e=void 0,_e=Se.length===1?Se[0]:Se;if(oe.hasOwnProperty(ye)&&!isNaN(oe[ye]))throw new Error("Object "+oe+" already has key "+ye);oe[ye]=_e}return oe}function zt(m,w){return w=w<=390?K[w]:m[w-391]}function yt(m,w,S){for(var T,A={},D=0;D<w.length;D+=1){var B=w[D];if(Array.isArray(B.type)){var Q=[];Q.length=B.type.length;for(var oe=0;oe<B.type.length;oe++)(T=m[B.op]!==void 0?m[B.op][oe]:void 0)===void 0&&(T=B.value!==void 0&&B.value[oe]!==void 0?B.value[oe]:null),B.type[oe]==="SID"&&(T=zt(S,T)),Q[oe]=T;A[B.name]=Q}else(T=m[B.op])===void 0&&(T=B.value!==void 0?B.value:null),B.type==="SID"&&(T=zt(S,T)),A[B.name]=T}return A}var Mt=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],pt=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function or(m,w,S,T){return yt(cr(m,w,S),pt,T)}function Kt(m,w,S,T){for(var A=[],D=0;D<S.length;D+=1){var B=new DataView(new Uint8Array(S[D]).buffer),B=(Q=T,yt(cr(B,0,B.byteLength),Mt,Q)),Q=(B._subrs=[],B._subrsBias=0,B.private[0]),oe=B.private[1];Q!==0&&oe!==0&&(Q=or(m,oe+w,Q,T),B._defaultWidthX=Q.defaultWidthX,B._nominalWidthX=Q.nominalWidthX,Q.subrs!==0&&(oe=rt(m,oe+Q.subrs+w),B._subrs=oe.objects,B._subrsBias=st(B._subrs)),B._privateDict=Q),A.push(B)}return A}function vt(m,w,S){var T,A,D,B,Q,oe,se,ye,Se,_e=new $,de=[],Le=0,ke=!1,Oe=!1,Me=0,Ce=0,Je=(Se=(m.isCIDFont?(Q=m.tables.cff.topDict._fdSelect[w.index],Q=m.tables.cff.topDict._fdArray[Q],oe=Q._subrs,se=Q._subrsBias,ye=Q._defaultWidthX,Q):(oe=m.tables.cff.topDict._subrs,se=m.tables.cff.topDict._subrsBias,ye=m.tables.cff.topDict._defaultWidthX,m.tables.cff.topDict))._nominalWidthX,ye);function ot(tt,lt){Oe&&_e.closePath(),_e.moveTo(tt,lt),Oe=!0}function et(){de.length%2==0||ke||(Je=de.shift()+Se),Le+=de.length>>1,de.length=0,ke=!0}return function tt(lt){for(var St,It,Ht,ur,dr,Ar,wt,Ct,gt,hr,Pt,ar,kt=0;kt<lt.length;){var tr=lt[kt];switch(kt+=1,tr){case 1:case 3:et();break;case 4:1<de.length&&!ke&&(Je=de.shift()+Se,ke=!0),Ce+=de.pop(),ot(Me,Ce);break;case 5:for(;0<de.length;)Me+=de.shift(),Ce+=de.shift(),_e.lineTo(Me,Ce);break;case 6:for(;0<de.length&&(Me+=de.shift(),_e.lineTo(Me,Ce),de.length!==0);)Ce+=de.shift(),_e.lineTo(Me,Ce);break;case 7:for(;0<de.length&&(Ce+=de.shift(),_e.lineTo(Me,Ce),de.length!==0);)Me+=de.shift(),_e.lineTo(Me,Ce);break;case 8:for(;0<de.length;)T=Me+de.shift(),A=Ce+de.shift(),D=T+de.shift(),B=A+de.shift(),Me=D+de.shift(),Ce=B+de.shift(),_e.curveTo(T,A,D,B,Me,Ce);break;case 10:dr=de.pop()+se,(Ar=oe[dr])&&tt(Ar);break;case 11:return;case 12:switch(tr=lt[kt],kt+=1,tr){case 35:T=Me+de.shift(),A=Ce+de.shift(),D=T+de.shift(),B=A+de.shift(),wt=D+de.shift(),Ct=B+de.shift(),gt=wt+de.shift(),hr=Ct+de.shift(),Pt=gt+de.shift(),ar=hr+de.shift(),Me=Pt+de.shift(),Ce=ar+de.shift(),de.shift(),_e.curveTo(T,A,D,B,wt,Ct),_e.curveTo(gt,hr,Pt,ar,Me,Ce);break;case 34:T=Me+de.shift(),A=Ce,D=T+de.shift(),B=A+de.shift(),wt=D+de.shift(),Ct=B,gt=wt+de.shift(),hr=B,Pt=gt+de.shift(),ar=Ce,Me=Pt+de.shift(),_e.curveTo(T,A,D,B,wt,Ct),_e.curveTo(gt,hr,Pt,ar,Me,Ce);break;case 36:T=Me+de.shift(),A=Ce+de.shift(),D=T+de.shift(),B=A+de.shift(),wt=D+de.shift(),Ct=B,gt=wt+de.shift(),hr=B,Pt=gt+de.shift(),ar=hr+de.shift(),Me=Pt+de.shift(),_e.curveTo(T,A,D,B,wt,Ct),_e.curveTo(gt,hr,Pt,ar,Me,Ce);break;case 37:T=Me+de.shift(),A=Ce+de.shift(),D=T+de.shift(),B=A+de.shift(),wt=D+de.shift(),Ct=B+de.shift(),gt=wt+de.shift(),hr=Ct+de.shift(),Pt=gt+de.shift(),ar=hr+de.shift(),Math.abs(Pt-Me)>Math.abs(ar-Ce)?Me=Pt+de.shift():Ce=ar+de.shift(),_e.curveTo(T,A,D,B,wt,Ct),_e.curveTo(gt,hr,Pt,ar,Me,Ce);break;default:console.log("Glyph "+w.index+": unknown operator 1200"+tr),de.length=0}break;case 14:0<de.length&&!ke&&(Je=de.shift()+Se,ke=!0),Oe&&(_e.closePath(),Oe=!1);break;case 18:et();break;case 19:case 20:et(),kt+=Le+7>>3;break;case 21:2<de.length&&!ke&&(Je=de.shift()+Se,ke=!0),Ce+=de.pop(),ot(Me+=de.pop(),Ce);break;case 22:1<de.length&&!ke&&(Je=de.shift()+Se,ke=!0),ot(Me+=de.pop(),Ce);break;case 23:et();break;case 24:for(;2<de.length;)T=Me+de.shift(),A=Ce+de.shift(),D=T+de.shift(),B=A+de.shift(),Me=D+de.shift(),Ce=B+de.shift(),_e.curveTo(T,A,D,B,Me,Ce);Me+=de.shift(),Ce+=de.shift(),_e.lineTo(Me,Ce);break;case 25:for(;6<de.length;)Me+=de.shift(),Ce+=de.shift(),_e.lineTo(Me,Ce);T=Me+de.shift(),A=Ce+de.shift(),D=T+de.shift(),B=A+de.shift(),Me=D+de.shift(),Ce=B+de.shift(),_e.curveTo(T,A,D,B,Me,Ce);break;case 26:for(de.length%2&&(Me+=de.shift());0<de.length;)T=Me,A=Ce+de.shift(),D=T+de.shift(),B=A+de.shift(),Me=D,Ce=B+de.shift(),_e.curveTo(T,A,D,B,Me,Ce);break;case 27:for(de.length%2&&(Ce+=de.shift());0<de.length;)T=Me+de.shift(),A=Ce,D=T+de.shift(),B=A+de.shift(),Me=D+de.shift(),Ce=B,_e.curveTo(T,A,D,B,Me,Ce);break;case 28:St=lt[kt],It=lt[kt+1],de.push((St<<24|It<<16)>>16),kt+=2;break;case 29:dr=de.pop()+m.gsubrsBias,(Ar=m.gsubrs[dr])&&tt(Ar);break;case 30:for(;0<de.length&&(T=Me,A=Ce+de.shift(),D=T+de.shift(),B=A+de.shift(),Me=D+de.shift(),Ce=B+(de.length===1?de.shift():0),_e.curveTo(T,A,D,B,Me,Ce),de.length!==0);)T=Me+de.shift(),A=Ce,D=T+de.shift(),B=A+de.shift(),Ce=B+de.shift(),Me=D+(de.length===1?de.shift():0),_e.curveTo(T,A,D,B,Me,Ce);break;case 31:for(;0<de.length&&(T=Me+de.shift(),A=Ce,D=T+de.shift(),B=A+de.shift(),Ce=B+de.shift(),Me=D+(de.length===1?de.shift():0),_e.curveTo(T,A,D,B,Me,Ce),de.length!==0);)T=Me,A=Ce+de.shift(),D=T+de.shift(),B=A+de.shift(),Me=D+de.shift(),Ce=B+(de.length===1?de.shift():0),_e.curveTo(T,A,D,B,Me,Ce);break;default:tr<32?console.log("Glyph "+w.index+": unknown operator "+tr):tr<247?de.push(tr-139):tr<251?(St=lt[kt],kt+=1,de.push(256*(tr-247)+St+108)):tr<255?(St=lt[kt],kt+=1,de.push(256*-(tr-251)-St-108)):(St=lt[kt],It=lt[kt+1],Ht=lt[kt+2],ur=lt[kt+3],kt+=4,de.push((St<<24|It<<16|Ht<<8|ur)/65536))}}}(S),w.advanceWidth=Je,_e}function ir(m,w){var S,T=K.indexOf(m);return 0<=T&&(S=T),0<=(T=w.indexOf(m))?S=T+K.length:(S=K.length+w.length,w.push(m)),S}function cs(m,w,S){for(var T={},A=0;A<m.length;A+=1){var D=m[A],B=w[D.name];B===void 0||function Q(oe,se){if(oe===se)return 1;if(Array.isArray(oe)&&Array.isArray(se)&&oe.length===se.length){for(var ye=0;ye<oe.length;ye+=1)if(!Q(oe[ye],se[ye]))return;return 1}}(B,D.value)||(D.type==="SID"&&(B=ir(B,S)),T[D.op]={name:D.name,type:D.type,value:B})}return T}function us(m,w){var S=new Ee.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return S.dict=cs(Mt,m,w),S}function ds(m){var w=new Ee.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return w.topDicts=[{name:"topDict_0",type:"TABLE",value:m}],w}function Qs(m){for(var w=new Ee.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),S=0;S<m.length;S+=1){var T=m.get(S),A=function(D){for(var B=[],Q=D.path,oe=(B.push({name:"width",type:"NUMBER",value:D.advanceWidth}),0),se=0,ye=0;ye<Q.commands.length;ye+=1){var Se,_e,de,Le,ke=void 0,Oe=void 0,Me=Q.commands[ye];(Me=Me.type==="Q"?{type:"C",x:Me.x,y:Me.y,x1:1/3*oe+2/3*Me.x1,y1:1/3*se+2/3*Me.y1,x2:1/3*Me.x+2/3*Me.x1,y2:1/3*Me.y+2/3*Me.y1}:Me).type==="M"?(ke=Math.round(Me.x-oe),Oe=Math.round(Me.y-se),B.push({name:"dx",type:"NUMBER",value:ke}),B.push({name:"dy",type:"NUMBER",value:Oe}),B.push({name:"rmoveto",type:"OP",value:21}),oe=Math.round(Me.x),se=Math.round(Me.y)):Me.type==="L"?(ke=Math.round(Me.x-oe),Oe=Math.round(Me.y-se),B.push({name:"dx",type:"NUMBER",value:ke}),B.push({name:"dy",type:"NUMBER",value:Oe}),B.push({name:"rlineto",type:"OP",value:5}),oe=Math.round(Me.x),se=Math.round(Me.y)):Me.type==="C"&&(Se=Math.round(Me.x1-oe),_e=Math.round(Me.y1-se),de=Math.round(Me.x2-Me.x1),Le=Math.round(Me.y2-Me.y1),ke=Math.round(Me.x-Me.x2),Oe=Math.round(Me.y-Me.y2),B.push({name:"dx1",type:"NUMBER",value:Se}),B.push({name:"dy1",type:"NUMBER",value:_e}),B.push({name:"dx2",type:"NUMBER",value:de}),B.push({name:"dy2",type:"NUMBER",value:Le}),B.push({name:"dx",type:"NUMBER",value:ke}),B.push({name:"dy",type:"NUMBER",value:Oe}),B.push({name:"rrcurveto",type:"OP",value:8}),oe=Math.round(Me.x),se=Math.round(Me.y))}return B.push({name:"endchar",type:"OP",value:14}),B}(T);w.charStrings.push({name:T.name,type:"CHARSTRING",value:A})}return w}var hs={parse:function(m,w,S){S.tables.cff={},Q=m,T=w,(A={}).formatMajor=xe.getCard8(Q,T),A.formatMinor=xe.getCard8(Q,T+1),A.size=xe.getCard8(Q,T+2),A.offsetSize=xe.getCard8(Q,T+3),A.startOffset=T,A.endOffset=T+4;var Q=rt(m,A.endOffset,xe.bytesToString),T=rt(m,Q.endOffset),A=rt(m,T.endOffset,xe.bytesToString),Q=rt(m,A.endOffset);if(S.gsubrs=Q.objects,S.gsubrsBias=st(S.gsubrs),(Q=Kt(m,w,T.objects,A.objects)).length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+Q.length);if(T=Q[0],(S.tables.cff.topDict=T)._privateDict&&(S.defaultWidthX=T._privateDict.defaultWidthX,S.nominalWidthX=T._privateDict.nominalWidthX),T.ros[0]!==void 0&&T.ros[1]!==void 0&&(S.isCIDFont=!0),S.isCIDFont){var Q=T.fdArray,D=T.fdSelect;if(Q===0||D===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");Q=Kt(m,w,rt(m,Q+=w).objects,A.objects),T._fdArray=Q,T._fdSelect=function(_e,de,Le,ke){var Oe,Me=[],Ce=new xe.Parser(_e,de);if((_e=Ce.parseCard8())===0)for(var Je=0;Je<Le;Je++){if(ke<=(Oe=Ce.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+Oe+" (FD count "+ke+")");Me.push(Oe)}else{if(_e!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+_e);var ot,et=Ce.parseCard16(),tt=Ce.parseCard16();if(tt!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+tt);for(var lt=0;lt<et;lt++){if(Oe=Ce.parseCard8(),ot=Ce.parseCard16(),ke<=Oe)throw new Error("CFF table CID Font FDSelect has bad FD index value "+Oe+" (FD count "+ke+")");if(Le<ot)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+ot);for(;tt<ot;tt++)Me.push(Oe);tt=ot}if(ot!==Le)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+ot)}return Me}(m,D+=w,S.numGlyphs,Q.length)}var D=w+T.private[1],Q=or(m,D,T.private[0],A.objects),B=(S.defaultWidthX=Q.defaultWidthX,S.nominalWidthX=Q.nominalWidthX,Q.subrs!==0?(D=rt(m,D+Q.subrs),S.subrs=D.objects,S.subrsBias=st(S.subrs)):(S.subrs=[],S.subrsBias=0),rt(m,w+T.charStrings)),Q=(S.nGlyphs=B.objects.length,function(ye,Se,_e,de){var Le=new xe.Parser(ye,Se),ke=(--_e,[".notdef"]);if((ye=Le.parseCard8())===0)for(var Oe=0;Oe<_e;Oe+=1)Me=Le.parseSID(),ke.push(zt(de,Me));else if(ye===1)for(;ke.length<=_e;)for(var Me=Le.parseSID(),Ce=Le.parseCard8(),Je=0;Je<=Ce;Je+=1)ke.push(zt(de,Me)),Me+=1;else{if(ye!==2)throw new Error("Unknown charset format "+ye);for(;ke.length<=_e;){Me=Le.parseSID(),Ce=Le.parseCard16();for(var ot=0;ot<=Ce;ot+=1)ke.push(zt(de,Me)),Me+=1}}return ke}(m,w+T.charset,S.nGlyphs,A.objects));T.encoding===0?S.cffEncoding=new Ne(V,Q):T.encoding===1?S.cffEncoding=new Ne(te,Q):S.cffEncoding=function(ye,Se,_e){var de={},Le=new xe.Parser(ye,Se);if((ye=Le.parseCard8())===0)for(var ke=Le.parseCard8(),Oe=0;Oe<ke;Oe+=1)de[Ce=Le.parseCard8()]=Oe;else{if(ye!==1)throw new Error("Unknown encoding format "+ye);for(var Me=Le.parseCard8(),Ce=1,Je=0;Je<Me;Je+=1)for(var ot=Le.parseCard8(),et=Le.parseCard8(),tt=ot;tt<=ot+et;tt+=1)de[tt]=Ce,Ce+=1}return new Ne(de,_e)}(m,w+T.encoding,Q),S.encoding=S.encoding||S.cffEncoding,S.glyphs=new Ke.GlyphSet(S);for(var oe=0;oe<S.nGlyphs;oe+=1){var se=B.objects[oe];S.glyphs.push(oe,Ke.cffGlyphLoader(S,oe,vt,se))}},make:function(m,ye){for(var S,T=new Ee.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),A=1/ye.unitsPerEm,A={version:ye.version,fullName:ye.fullName,familyName:ye.familyName,weight:ye.weightName,fontBBox:ye.fontBBox||[0,0,0,0],fontMatrix:[A,0,0,A,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},D=[],B=1;B<m.length;B+=1)S=m.get(B),D.push(S.name);var Q,oe,se=[],ye=(T.header=new Ee.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),T.nameIndex=function(_e){var de=new Ee.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);de.names=[];for(var Le=0;Le<_e.length;Le+=1)de.names.push({name:"name_"+Le,type:"NAME",value:_e[Le]});return de}([ye.postScriptName]),us(A,se)),Se=(T.topDictIndex=ds(ye),T.globalSubrIndex=new Ee.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),T.charsets=function(_e,de){for(var Le=new Ee.Record("Charsets",[{name:"format",type:"Card8",value:0}]),ke=0;ke<_e.length;ke+=1){var Oe=ir(_e[ke],de);Le.fields.push({name:"glyph_"+ke,type:"SID",value:Oe})}return Le}(D,se),T.charStringsIndex=Qs(m),T.privateDict=(Se={},Q=se,(oe=new Ee.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=cs(pt,Se,Q),oe),T.stringIndex=function(_e){var de=new Ee.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);de.strings=[];for(var Le=0;Le<_e.length;Le+=1)de.strings.push({name:"string_"+Le,type:"STRING",value:_e[Le]});return de}(se),T.header.sizeOf()+T.nameIndex.sizeOf()+T.topDictIndex.sizeOf()+T.stringIndex.sizeOf()+T.globalSubrIndex.sizeOf());return A.charset=Se,A.encoding=0,A.charStrings=A.charset+T.charsets.sizeOf(),A.private[1]=A.charStrings+T.charStringsIndex.sizeOf(),ye=us(A,se),T.topDictIndex=ds(ye),T}},fs={parse:function(T,w){var S={},T=new xe.Parser(T,w);return S.version=T.parseVersion(),S.fontRevision=Math.round(1e3*T.parseFixed())/1e3,S.checkSumAdjustment=T.parseULong(),S.magicNumber=T.parseULong(),L.argument(S.magicNumber===1594834165,"Font header has wrong magic number."),S.flags=T.parseUShort(),S.unitsPerEm=T.parseUShort(),S.created=T.parseLongDateTime(),S.modified=T.parseLongDateTime(),S.xMin=T.parseShort(),S.yMin=T.parseShort(),S.xMax=T.parseShort(),S.yMax=T.parseShort(),S.macStyle=T.parseUShort(),S.lowestRecPPEM=T.parseUShort(),S.fontDirectionHint=T.parseShort(),S.indexToLocFormat=T.parseShort(),S.glyphDataFormat=T.parseShort(),S},make:function(m){var w=Math.round(new Date().getTime()/1e3)+2082844800,S=w;return m.createdTimestamp&&(S=m.createdTimestamp+2082844800),new Ee.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:S},{name:"modified",type:"LONGDATETIME",value:w},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],m)}},he={parse:function(T,w){var S={},T=new xe.Parser(T,w);return S.version=T.parseVersion(),S.ascender=T.parseShort(),S.descender=T.parseShort(),S.lineGap=T.parseShort(),S.advanceWidthMax=T.parseUShort(),S.minLeftSideBearing=T.parseShort(),S.minRightSideBearing=T.parseShort(),S.xMaxExtent=T.parseShort(),S.caretSlopeRise=T.parseShort(),S.caretSlopeRun=T.parseShort(),S.caretOffset=T.parseShort(),T.relativeOffset+=8,S.metricDataFormat=T.parseShort(),S.numberOfHMetrics=T.parseUShort(),S},make:function(m){return new Ee.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],m)}},Fe={parse:function(m,w,S,T,A){for(var D,B,Q=new xe.Parser(m,w),oe=0;oe<T;oe+=1){oe<S&&(D=Q.parseUShort(),B=Q.parseShort());var se=A.get(oe);se.advanceWidth=D,se.leftSideBearing=B}},make:function(m){for(var w=new Ee.Table("hmtx",[]),S=0;S<m.length;S+=1){var A=m.get(S),T=A.advanceWidth||0,A=A.leftSideBearing||0;w.fields.push({name:"advanceWidth_"+S,type:"USHORT",value:T}),w.fields.push({name:"leftSideBearing_"+S,type:"SHORT",value:A})}return w}},Xe={make:function(m){for(var w=new Ee.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:m.length}]),S="",T=12+4*m.length,A=0;A<m.length;++A){var D=S.indexOf(m[A]);D<0&&(D=S.length,S+=m[A]),w.fields.push({name:"offset "+A,type:"USHORT",value:T+D}),w.fields.push({name:"length "+A,type:"USHORT",value:m[A].length})}return w.fields.push({name:"stringPool",type:"CHARARRAY",value:S}),w},parse:function(m,w){for(var S=new xe.Parser(m,w),T=S.parseULong(),A=(L.argument(T===1,"Unsupported ltag table version."),S.skip("uLong",1),S.parseULong()),D=[],B=0;B<A;B++){for(var Q="",oe=w+S.parseUShort(),se=S.parseUShort(),ye=oe;ye<oe+se;++ye)Q+=String.fromCharCode(m.getInt8(ye));D.push(Q)}return D}},De={parse:function(T,w){var S={},T=new xe.Parser(T,w);return S.version=T.parseVersion(),S.numGlyphs=T.parseUShort(),S.version===1&&(S.maxPoints=T.parseUShort(),S.maxContours=T.parseUShort(),S.maxCompositePoints=T.parseUShort(),S.maxCompositeContours=T.parseUShort(),S.maxZones=T.parseUShort(),S.maxTwilightPoints=T.parseUShort(),S.maxStorage=T.parseUShort(),S.maxFunctionDefs=T.parseUShort(),S.maxInstructionDefs=T.parseUShort(),S.maxStackElements=T.parseUShort(),S.maxSizeOfInstructions=T.parseUShort(),S.maxComponentElements=T.parseUShort(),S.maxComponentDepth=T.parseUShort()),S},make:function(m){return new Ee.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:m}])}},ct=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Ie={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},mt={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},qe={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},ft="utf-16",We={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Ft={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function $t(m,w,S){switch(m){case 0:return ft;case 1:return Ft[S]||We[w];case 3:if(w===1||w===10)return ft}}function Lt(m){var w,S={};for(w in m)S[m[w]]=parseInt(w);return S}function Jt(m,w,S,T,A,D){return new Ee.Record("NameRecord",[{name:"platformID",type:"USHORT",value:m},{name:"encodingID",type:"USHORT",value:w},{name:"languageID",type:"USHORT",value:S},{name:"nameID",type:"USHORT",value:T},{name:"length",type:"USHORT",value:A},{name:"offset",type:"USHORT",value:D}])}function Ur(m,w){if((S=function(D,B){var Q=D.length,oe=B.length-Q+1;e:for(var se=0;se<oe;se++)for(;se<oe;se++){for(var ye=0;ye<Q;ye++)if(B[se+ye]!==D[ye])continue e;return se}return-1}(m,w))<0)for(var S=w.length,T=0,A=m.length;T<A;++T)w.push(m[T]);return S}var wr={parse:function(m,w,S){for(var T={},A=new xe.Parser(m,w),w=A.parseUShort(),D=A.parseUShort(),B=A.offset+A.parseUShort(),Q=0;Q<D;Q++){var Le=A.parseUShort(),oe=A.parseUShort(),se=A.parseUShort(),ye=A.parseUShort(),ye=ct[ye]||ye,Se=A.parseUShort(),_e=A.parseUShort(),de=function(Oe,Me,Ce){switch(Oe){case 0:if(Me===65535)return"und";if(Ce)return Ce[Me];break;case 1:return Ie[Me];case 3:return qe[Me]}}(Le,se,S),Le=$t(Le,oe,se);Le!==void 0&&de!==void 0&&(oe=void 0,(oe=Le===ft?F.UTF16(m,B+_e,Se):F.MACSTRING(m,B+_e,Se,Le))&&((se=(se=T[ye])===void 0?T[ye]={}:se)[de]=oe))}return w===1&&A.parseUShort(),T},make:function(m,w){var S,T=[],A={},D=Lt(ct);for(S in m){var B=D[S];if(B===void 0&&(B=S),_e=parseInt(B),isNaN(_e))throw new Error('Name table entry "'+S+'" does not exist, see nameTableNames for complete list.');A[_e]=m[S],T.push(_e)}for(var Q=Lt(Ie),oe=Lt(qe),se=[],ye=[],Se=0;Se<T.length;Se++){var _e,de,Le=A[_e=T[Se]];for(de in Le){var ke=Le[de],ot=1,Oe=Q[de],Me=mt[Oe],Ce=$t(ot,Me,Oe),Ce=H.MACSTRING(ke,Ce),Je=(Ce===void 0&&(ot=0,(Oe=w.indexOf(de))<0&&(Oe=w.length,w.push(de)),Me=4,Ce=H.UTF16(ke)),Ur(Ce,ye)),ot=(se.push(Jt(ot,Me,Oe,_e,Ce.length,Je)),oe[de]);ot!==void 0&&(Oe=Ur(Me=H.UTF16(ke),ye),se.push(Jt(3,1,ot,_e,Me.length,Oe)))}}se.sort(function(lt,St){return lt.platformID-St.platformID||lt.encodingID-St.encodingID||lt.languageID-St.languageID||lt.nameID-St.nameID});for(var et=new Ee.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:se.length},{name:"stringOffset",type:"USHORT",value:6+12*se.length}]),tt=0;tt<se.length;tt++)et.fields.push({name:"record_"+tt,type:"RECORD",value:se[tt]});return et.fields.push({name:"strings",type:"LITERAL",value:ye}),et}},Br=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],er={parse:function(m,w){var S={},T=new xe.Parser(m,w);S.version=T.parseUShort(),S.xAvgCharWidth=T.parseShort(),S.usWeightClass=T.parseUShort(),S.usWidthClass=T.parseUShort(),S.fsType=T.parseUShort(),S.ySubscriptXSize=T.parseShort(),S.ySubscriptYSize=T.parseShort(),S.ySubscriptXOffset=T.parseShort(),S.ySubscriptYOffset=T.parseShort(),S.ySuperscriptXSize=T.parseShort(),S.ySuperscriptYSize=T.parseShort(),S.ySuperscriptXOffset=T.parseShort(),S.ySuperscriptYOffset=T.parseShort(),S.yStrikeoutSize=T.parseShort(),S.yStrikeoutPosition=T.parseShort(),S.sFamilyClass=T.parseShort(),S.panose=[];for(var A=0;A<10;A++)S.panose[A]=T.parseByte();return S.ulUnicodeRange1=T.parseULong(),S.ulUnicodeRange2=T.parseULong(),S.ulUnicodeRange3=T.parseULong(),S.ulUnicodeRange4=T.parseULong(),S.achVendID=String.fromCharCode(T.parseByte(),T.parseByte(),T.parseByte(),T.parseByte()),S.fsSelection=T.parseUShort(),S.usFirstCharIndex=T.parseUShort(),S.usLastCharIndex=T.parseUShort(),S.sTypoAscender=T.parseShort(),S.sTypoDescender=T.parseShort(),S.sTypoLineGap=T.parseShort(),S.usWinAscent=T.parseUShort(),S.usWinDescent=T.parseUShort(),1<=S.version&&(S.ulCodePageRange1=T.parseULong(),S.ulCodePageRange2=T.parseULong()),2<=S.version&&(S.sxHeight=T.parseShort(),S.sCapHeight=T.parseShort(),S.usDefaultChar=T.parseUShort(),S.usBreakChar=T.parseUShort(),S.usMaxContent=T.parseUShort()),S},make:function(m){return new Ee.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],m)},unicodeRanges:Br,getUnicodeRange:function(m){for(var w=0;w<Br.length;w+=1){var S=Br[w];if(m>=S.begin&&m<S.end)return w}return-1}},ra={parse:function(m,w){var S={},T=new xe.Parser(m,w);switch(S.version=T.parseVersion(),S.italicAngle=T.parseFixed(),S.underlinePosition=T.parseShort(),S.underlineThickness=T.parseShort(),S.isFixedPitch=T.parseULong(),S.minMemType42=T.parseULong(),S.maxMemType42=T.parseULong(),S.minMemType1=T.parseULong(),S.maxMemType1=T.parseULong(),S.version){case 1:S.names=ve.slice();break;case 2:S.numberOfGlyphs=T.parseUShort(),S.glyphNameIndex=new Array(S.numberOfGlyphs);for(var A=0;A<S.numberOfGlyphs;A++)S.glyphNameIndex[A]=T.parseUShort();S.names=[];for(var D,B=0;B<S.numberOfGlyphs;B++)S.glyphNameIndex[B]>=ve.length&&(D=T.parseChar(),S.names.push(T.parseString(D)));break;case 2.5:S.numberOfGlyphs=T.parseUShort(),S.offset=new Array(S.numberOfGlyphs);for(var Q=0;Q<S.numberOfGlyphs;Q++)S.offset[Q]=T.parseChar()}return S},make:function(){return new Ee.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},Cr=new Array(9),Fn=(Cr[1]=function(){var m=this.offset+this.relativeOffset,w=this.parseUShort();return w===1?{substFormat:1,coverage:this.parsePointer(be.coverage),deltaGlyphId:this.parseUShort()}:w===2?{substFormat:2,coverage:this.parsePointer(be.coverage),substitute:this.parseOffset16List()}:void L.assert(!1,"0x"+m.toString(16)+": lookup type 1 format must be 1 or 2.")},Cr[2]=function(){var m=this.parseUShort();return L.argument(m===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:m,coverage:this.parsePointer(be.coverage),sequences:this.parseListOfLists()}},Cr[3]=function(){var m=this.parseUShort();return L.argument(m===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:m,coverage:this.parsePointer(be.coverage),alternateSets:this.parseListOfLists()}},Cr[4]=function(){var m=this.parseUShort();return L.argument(m===1,"GSUB ligature table identifier-format must be 1"),{substFormat:m,coverage:this.parsePointer(be.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:be.uShort,lookupListIndex:be.uShort});Cr[5]=function(){var m,w,S=this.offset+this.relativeOffset,T=this.parseUShort();return T===1?{substFormat:T,coverage:this.parsePointer(be.coverage),ruleSets:this.parseListOfLists(function(){var A=this.parseUShort(),D=this.parseUShort();return{input:this.parseUShortList(A-1),lookupRecords:this.parseRecordList(D,Fn)}})}:T===2?{substFormat:T,coverage:this.parsePointer(be.coverage),classDef:this.parsePointer(be.classDef),classSets:this.parseListOfLists(function(){var A=this.parseUShort(),D=this.parseUShort();return{classes:this.parseUShortList(A-1),lookupRecords:this.parseRecordList(D,Fn)}})}:T===3?(m=this.parseUShort(),w=this.parseUShort(),{substFormat:T,coverages:this.parseList(m,be.pointer(be.coverage)),lookupRecords:this.parseRecordList(w,Fn)}):void L.assert(!1,"0x"+S.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},Cr[6]=function(){var m=this.offset+this.relativeOffset,w=this.parseUShort();return w===1?{substFormat:1,coverage:this.parsePointer(be.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Fn)}})}:w===2?{substFormat:2,coverage:this.parsePointer(be.coverage),backtrackClassDef:this.parsePointer(be.classDef),inputClassDef:this.parsePointer(be.classDef),lookaheadClassDef:this.parsePointer(be.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Fn)}})}:w===3?{substFormat:3,backtrackCoverage:this.parseList(be.pointer(be.coverage)),inputCoverage:this.parseList(be.pointer(be.coverage)),lookaheadCoverage:this.parseList(be.pointer(be.coverage)),lookupRecords:this.parseRecordList(Fn)}:void L.assert(!1,"0x"+m.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},Cr[7]=function(){var m=this.parseUShort(),m=(L.argument(m===1,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),w=new be(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:m,extension:Cr[m].call(w)}},Cr[8]=function(){var m=this.parseUShort();return L.argument(m===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:m,coverage:this.parsePointer(be.coverage),backtrackCoverage:this.parseList(be.pointer(be.coverage)),lookaheadCoverage:this.parseList(be.pointer(be.coverage)),substitutes:this.parseUShortList()}};var Ks=new Array(9);Ks[1]=function(m){return m.substFormat===1?new Ee.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ee.Coverage(m.coverage)},{name:"deltaGlyphID",type:"USHORT",value:m.deltaGlyphId}]):new Ee.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Ee.Coverage(m.coverage)}].concat(Ee.ushortList("substitute",m.substitute)))},Ks[3]=function(m){return L.assert(m.substFormat===1,"Lookup type 3 substFormat must be 1."),new Ee.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ee.Coverage(m.coverage)}].concat(Ee.tableList("altSet",m.alternateSets,function(w){return new Ee.Table("alternateSetTable",Ee.ushortList("alternate",w))})))},Ks[4]=function(m){return L.assert(m.substFormat===1,"Lookup type 4 substFormat must be 1."),new Ee.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ee.Coverage(m.coverage)}].concat(Ee.tableList("ligSet",m.ligatureSets,function(w){return new Ee.Table("ligatureSetTable",Ee.tableList("ligature",w,function(S){return new Ee.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:S.ligGlyph}].concat(Ee.ushortList("component",S.components,S.components.length+1)))}))})))};var na={parse:function(m,w){return w=(m=new be(m,w=w||0)).parseVersion(1),L.argument(w===1||w===1.1,"Unsupported GSUB table version."),w===1?{version:w,scripts:m.parseScriptList(),features:m.parseFeatureList(),lookups:m.parseLookupList(Cr)}:{version:w,scripts:m.parseScriptList(),features:m.parseFeatureList(),lookups:m.parseLookupList(Cr),variations:m.parseFeatureVariationsList()}},make:function(m){return new Ee.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Ee.ScriptList(m.scripts)},{name:"features",type:"TABLE",value:new Ee.FeatureList(m.features)},{name:"lookups",type:"TABLE",value:new Ee.LookupList(m.lookups,Ks)}])}},sa={parse:function(m,w){for(var S=new xe.Parser(m,w),T=S.parseULong(),A=(L.argument(T===1,"Unsupported META table version."),S.parseULong(),S.parseULong(),S.parseULong()),D={},B=0;B<A;B++){var Q=S.parseTag(),se=S.parseULong(),oe=S.parseULong(),se=F.UTF8(m,w+se,oe);D[Q]=se}return D},make:function(m){var w,S=Object.keys(m).length,T="",A=16+12*S,D=new Ee.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:A},{name:"numTags",type:"ULONG",value:S}]);for(w in m){var B=T.length;T+=m[w],D.fields.push({name:"tag "+w,type:"TAG",value:w}),D.fields.push({name:"offset "+w,type:"ULONG",value:A+B}),D.fields.push({name:"length "+w,type:"ULONG",value:m[w].length})}return D.fields.push({name:"stringPool",type:"CHARARRAY",value:T}),D}};function oa(m){return Math.log(m)/Math.log(2)|0}function Ko(m){for(;m.length%4!=0;)m.push(0);for(var w=0,S=0;S<m.length;S+=4)w+=(m[S]<<24)+(m[S+1]<<16)+(m[S+2]<<8)+m[S+3];return w%=Math.pow(2,32)}function ia(m,w,S,T){return new Ee.Record("Table Record",[{name:"tag",type:"TAG",value:m!==void 0?m:""},{name:"checkSum",type:"ULONG",value:w!==void 0?w:0},{name:"offset",type:"ULONG",value:S!==void 0?S:0},{name:"length",type:"ULONG",value:T!==void 0?T:0}])}function aa(m){for(var w=new Ee.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),S=(w.tables=m,w.numTables=m.length,Math.pow(2,oa(w.numTables))),T=(w.searchRange=16*S,w.entrySelector=oa(S),w.rangeShift=16*w.numTables-w.searchRange,[]),A=[],D=w.sizeOf()+ia().sizeOf()*w.numTables;D%4!=0;)D+=1,A.push({name:"padding",type:"BYTE",value:0});for(var B=0;B<m.length;B+=1){var Q=m[B],oe=(L.argument(Q.tableName.length===4,"Table name"+Q.tableName+" is invalid."),Q.sizeOf()),se=ia(Q.tableName,Ko(Q.encode()),D,oe);for(T.push({name:se.tag+" Table Record",type:"RECORD",value:se}),A.push({name:Q.tableName+" table",type:"RECORD",value:Q}),D+=oe,L.argument(!isNaN(D),"Something went wrong calculating the offset.");D%4!=0;)D+=1,A.push({name:"padding",type:"BYTE",value:0})}return T.sort(function(ye,Se){return ye.value.tag>Se.value.tag?1:-1}),w.fields=w.fields.concat(T),w.fields=w.fields.concat(A),w}function la(m,w,S){for(var T=0;T<w.length;T+=1){var A=m.charToGlyphIndex(w[T]);if(0<A)return m.glyphs.get(A).getMetrics()}return S}var zc={make:aa,fontToTable:function(m){for(var w,S=[],T=[],A=[],D=[],B=[],Q=[],oe=[],se=0,ye=0,Se=0,_e=0,de=0,Le=0;Le<m.glyphs.length;Le+=1){var ke=m.glyphs.get(Le),Oe=0|ke.unicode;if(isNaN(ke.advanceWidth))throw new Error("Glyph "+ke.name+" ("+Le+"): advanceWidth is not a number.");(Oe<w||w===void 0)&&0<Oe&&(w=Oe),se<Oe&&(se=Oe);var Oe=er.getUnicodeRange(Oe);if(Oe<32)ye|=1<<Oe;else if(Oe<64)Se|=1<<Oe-32;else if(Oe<96)_e|=1<<Oe-64;else{if(!(Oe<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");de|=1<<Oe-96}ke.name!==".notdef"&&(Oe=ke.getMetrics(),S.push(Oe.xMin),T.push(Oe.yMin),A.push(Oe.xMax),D.push(Oe.yMax),Q.push(Oe.leftSideBearing),oe.push(Oe.rightSideBearing),B.push(ke.advanceWidth))}var Me,Ce={xMin:Math.min.apply(null,S),yMin:Math.min.apply(null,T),xMax:Math.max.apply(null,A),yMax:Math.max.apply(null,D),advanceWidthMax:Math.max.apply(null,B),advanceWidthAvg:function(tr){for(var gs=0,Vn=0;Vn<tr.length;Vn+=1)gs+=tr[Vn];return gs/tr.length}(B),minLeftSideBearing:Math.min.apply(null,Q),maxLeftSideBearing:Math.max.apply(null,Q),minRightSideBearing:Math.min.apply(null,oe)},Je=(Ce.ascender=m.ascender,Ce.descender=m.descender,fs.make({flags:3,unitsPerEm:m.unitsPerEm,xMin:Ce.xMin,yMin:Ce.yMin,xMax:Ce.xMax,yMax:Ce.yMax,lowestRecPPEM:3,createdTimestamp:m.createdTimestamp})),ot=he.make({ascender:Ce.ascender,descender:Ce.descender,advanceWidthMax:Ce.advanceWidthMax,minLeftSideBearing:Ce.minLeftSideBearing,minRightSideBearing:Ce.minRightSideBearing,xMaxExtent:Ce.maxLeftSideBearing+(Ce.xMax-Ce.xMin),numberOfHMetrics:m.glyphs.length}),et=De.make(m.glyphs.length),tt=er.make({xAvgCharWidth:Math.round(Ce.advanceWidthAvg),usWeightClass:m.tables.os2.usWeightClass,usWidthClass:m.tables.os2.usWidthClass,usFirstCharIndex:w,usLastCharIndex:se,ulUnicodeRange1:ye,ulUnicodeRange2:Se,ulUnicodeRange3:_e,ulUnicodeRange4:de,fsSelection:m.tables.os2.fsSelection,sTypoAscender:Ce.ascender,sTypoDescender:Ce.descender,sTypoLineGap:0,usWinAscent:Ce.yMax,usWinDescent:Math.abs(Ce.yMin),ulCodePageRange1:1,sxHeight:la(m,"xyvw",{yMax:Math.round(Ce.ascender/2)}).yMax,sCapHeight:la(m,"HIKLEFJMNTZBDPRAGOQSUVWXY",Ce).yMax,usDefaultChar:m.hasChar(" ")?32:0,usBreakChar:m.hasChar(" ")?32:0}),lt=Fe.make(m.glyphs),St=Z.make(m.glyphs),Ct=m.getEnglishName("fontFamily"),gt=m.getEnglishName("fontSubfamily"),wt=Ct+" "+gt,It=(It=m.getEnglishName("postScriptName"))||Ct.replace(/\s/g,"")+"-"+gt,Ht={};for(Me in m.names)Ht[Me]=m.names[Me];Ht.uniqueID||(Ht.uniqueID={en:m.getEnglishName("manufacturer")+":"+wt}),Ht.postScriptName||(Ht.postScriptName={en:It}),Ht.preferredFamily||(Ht.preferredFamily=m.names.fontFamily),Ht.preferredSubfamily||(Ht.preferredSubfamily=m.names.fontSubfamily);var dr=[],ur=wr.make(Ht,dr),dr=0<dr.length?Xe.make(dr):void 0,Ar=ra.make(),wt=hs.make(m.glyphs,{version:m.getEnglishName("version"),fullName:wt,familyName:Ct,weightName:gt,postScriptName:It,unitsPerEm:m.unitsPerEm,fontBBox:[0,Ce.yMin,Ce.ascender,Ce.advanceWidthMax]}),Ct=m.metas&&0<Object.keys(m.metas).length?sa.make(m.metas):void 0,gt=[Je,ot,et,tt,ur,St,Ar,wt,lt];dr&&gt.push(dr),m.tables.gsub&&gt.push(na.make(m.tables.gsub)),Ct&&gt.push(Ct);for(var hr=Ko((It=aa(gt)).encode()),Pt=It.fields,ar=!1,kt=0;kt<Pt.length;kt+=1)if(Pt[kt].name==="head table"){Pt[kt].value.checkSumAdjustment=2981146554-hr,ar=!0;break}if(ar)return It;throw new Error("Could not find head table with checkSum to adjust.")},computeCheckSum:Ko};function Jo(m,w){for(var S=0,T=m.length-1;S<=T;){var A=S+T>>>1,D=m[A].tag;if(D===w)return A;D<w?S=1+A:T=A-1}return-S-1}function ca(m,w){for(var S=0,T=m.length-1;S<=T;){var A=S+T>>>1,D=m[A];if(D===w)return A;D<w?S=1+A:T=A-1}return-S-1}function ua(m,w){for(var S=0,T=m.length-1;S<=T;){var A,D=S+T>>>1,B=(A=m[D]).start;if(B===w)return A;B<w?S=1+D:T=D-1}if(0<S)return w>(A=m[S-1]).end?0:A}function Js(m,w){this.font=m,this.tableName=w}function eo(m){Js.call(this,m,"gpos")}function Vr(m){Js.call(this,m,"gsub")}function da(m,w,S){for(var T=m.subtables,A=0;A<T.length;A++){var D=T[A];if(D.substFormat===w)return D}if(S)return T.push(S),S}function ha(m){for(var w=new ArrayBuffer(m.length),S=new Uint8Array(w),T=0;T<m.length;++T)S[T]=m[T];return w}function Un(m,w){if(!m)throw w}function fa(m,w,S,T,A){var D=0<(w&T)?(D=m.parseByte(),S+(D=w&A?D:-D)):0<(w&A)?S:S+m.parseShort();return D}function Wc(m,w,S){var T,A=new xe.Parser(w,S);if(m.numberOfContours=A.parseShort(),m._xMin=A.parseShort(),m._yMin=A.parseShort(),m._xMax=A.parseShort(),m._yMax=A.parseShort(),0<m.numberOfContours){for(var D=m.endPointIndices=[],B=0;B<m.numberOfContours;B+=1)D.push(A.parseUShort());m.instructionLength=A.parseUShort(),m.instructions=[];for(var Q=0;Q<m.instructionLength;Q+=1)m.instructions.push(A.parseByte());for(var oe=D[D.length-1]+1,se=[],ye=0;ye<oe;ye+=1)if(T=A.parseByte(),se.push(T),0<(8&T))for(var Se=A.parseByte(),_e=0;_e<Se;_e+=1)se.push(T),ye+=1;if(L.argument(se.length===oe,"Bad flags."),0<D.length){var de,Le=[];if(0<oe){for(var ke=0;ke<oe;ke+=1)T=se[ke],(de={}).onCurve=!!(1&T),de.lastPointOfContour=0<=D.indexOf(ke),Le.push(de);for(var Oe=0,Me=0;Me<oe;Me+=1)T=se[Me],(de=Le[Me]).x=fa(A,T,Oe,2,16),Oe=de.x;for(var Ce=0,Je=0;Je<oe;Je+=1)T=se[Je],(de=Le[Je]).y=fa(A,T,Ce,4,32),Ce=de.y}m.points=Le}else m.points=[]}else if(m.numberOfContours===0)m.points=[];else{m.isComposite=!0,m.points=[],m.components=[];for(var ot=!0;ot;){se=A.parseUShort();var et={glyphIndex:A.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&se)?0<(2&se)?(et.dx=A.parseShort(),et.dy=A.parseShort()):et.matchedPoints=[A.parseUShort(),A.parseUShort()]:0<(2&se)?(et.dx=A.parseChar(),et.dy=A.parseChar()):et.matchedPoints=[A.parseByte(),A.parseByte()],0<(8&se)?et.xScale=et.yScale=A.parseF2Dot14():0<(64&se)?(et.xScale=A.parseF2Dot14(),et.yScale=A.parseF2Dot14()):0<(128&se)&&(et.xScale=A.parseF2Dot14(),et.scale01=A.parseF2Dot14(),et.scale10=A.parseF2Dot14(),et.yScale=A.parseF2Dot14()),m.components.push(et),ot=!!(32&se)}if(256&se){m.instructionLength=A.parseUShort(),m.instructions=[];for(var tt=0;tt<m.instructionLength;tt+=1)m.instructions.push(A.parseByte())}}}function ei(m,w){for(var S=[],T=0;T<m.length;T+=1){var A=m[T],A={x:w.xScale*A.x+w.scale01*A.y+w.dx,y:w.scale10*A.x+w.yScale*A.y+w.dy,onCurve:A.onCurve,lastPointOfContour:A.lastPointOfContour};S.push(A)}return S}function pa(m){var w=new $;if(m)for(var S=function(Se){for(var _e=[],de=[],Le=0;Le<Se.length;Le+=1){var ke=Se[Le];de.push(ke),ke.lastPointOfContour&&(_e.push(de),de=[])}return L.argument(de.length===0,"There are still points left in the current contour."),_e}(m),T=0;T<S.length;++T){var A,D=S[T],B=D[D.length-1],Q=D[0];B.onCurve?w.moveTo(B.x,B.y):Q.onCurve?w.moveTo(Q.x,Q.y):(A={x:.5*(B.x+Q.x),y:.5*(B.y+Q.y)},w.moveTo(A.x,A.y));for(var oe=0;oe<D.length;++oe){var se,ye=B,B=Q,Q=D[(oe+1)%D.length];B.onCurve?w.lineTo(B.x,B.y):(se=Q,ye.onCurve||(B.x,ye.x,B.y,ye.y),Q.onCurve||(se={x:.5*(B.x+Q.x),y:.5*(B.y+Q.y)}),w.quadraticCurveTo(B.x,B.y,se.x,se.y))}w.closePath()}return w}function Hc(m,w){if(w.isComposite)for(var S=0;S<w.components.length;S+=1){var T=w.components[S],A=m.get(T.glyphIndex);if(A.getPath(),A.points){var D=void 0;if(T.matchedPoints===void 0)D=ei(A.points,T);else{if(T.matchedPoints[0]>w.points.length-1||T.matchedPoints[1]>A.points.length-1)throw Error("Matched points out of range in "+w.name);var B=w.points[T.matchedPoints[0]],Q=A.points[T.matchedPoints[1]],T={xScale:T.xScale,scale01:T.scale01,scale10:T.scale10,yScale:T.yScale,dx:0,dy:0},Q=ei([Q],T)[0];T.dx=B.x-Q.x,T.dy=B.y-Q.y,D=ei(A.points,T)}w.points=w.points.concat(D)}}return pa(w.points)}(eo.prototype=Js.prototype={searchTag:Jo,binSearch:ca,getTable:function(m){var w=this.font.tables[this.tableName];return w=!w&&m?this.font.tables[this.tableName]=this.createDefaultTable():w},getScriptNames:function(){var m=this.getTable();return m?m.scripts.map(function(w){return w.tag}):[]},getDefaultScriptName:function(){var m=this.getTable();if(m){for(var w=!1,S=0;S<m.scripts.length;S++){var T=m.scripts[S].tag;if(T==="DFLT")return T;T==="latn"&&(w=!0)}return w?"latn":void 0}},getScriptTable:function(m,w){var S,T=this.getTable(w);if(T)return S=T.scripts,0<=(T=Jo(T.scripts,m=m||"DFLT"))?S[T].script:w?(S.splice(-1-T,0,w={tag:m,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),w.script):void 0},getLangSysTable:function(A,w,S){var T,A=this.getScriptTable(A,S);if(A)return w&&w!=="dflt"&&w!=="DFLT"?0<=(T=Jo(A.langSysRecords,w))?A.langSysRecords[T].langSys:S?(A.langSysRecords.splice(-1-T,0,S={tag:w,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),S.langSys):void 0:A.defaultLangSys},getFeatureTable:function(m,w,S,T){if(m=this.getLangSysTable(m,w,T),m){for(var A,D=m.featureIndexes,B=this.font.tables[this.tableName].features,Q=0;Q<D.length;Q++)if((A=B[D[Q]]).tag===S)return A.feature;if(T)return w=B.length,L.assert(w===0||S>=B[w-1].tag,"Features must be added in alphabetical order."),B.push(A={tag:S,feature:{params:0,lookupListIndexes:[]}}),D.push(w),A.feature}},getLookupTables:function(D,w,S,T,A){var D=this.getFeatureTable(D,w,S,A),B=[];if(D){for(var Q,oe=D.lookupListIndexes,se=this.font.tables[this.tableName].lookups,ye=0;ye<oe.length;ye++)(Q=se[oe[ye]]).lookupType===T&&B.push(Q);if(B.length===0&&A)return w=se.length,se.push(Q={lookupType:T,lookupFlag:0,subtables:[],markFilteringSet:void 0}),oe.push(w),[Q]}return B},getGlyphClass:function(m,w){switch(m.format){case 1:return m.startGlyph<=w&&w<m.startGlyph+m.classes.length?m.classes[w-m.startGlyph]:0;case 2:var S=ua(m.ranges,w);return S?S.classId:0}},getCoverageIndex:function(m,w){switch(m.format){case 1:var S=ca(m.glyphs,w);return 0<=S?S:-1;case 2:return S=ua(m.ranges,w),S?S.index+w-S.start:-1}},expandCoverage:function(m){if(m.format===1)return m.glyphs;for(var w=[],S=m.ranges,T=0;T<S.length;T++)for(var A=S[T],D=A.start,B=A.end,Q=D;Q<=B;Q++)w.push(Q);return w}}).init=function(){var m=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(m)},eo.prototype.getKerningValue=function(m,w,S){for(var T=0;T<m.length;T++)for(var A=m[T].subtables,D=0;D<A.length;D++){var B=A[D],Q=this.getCoverageIndex(B.coverage,w);if(!(Q<0))switch(B.posFormat){case 1:for(var oe=B.pairSets[Q],se=0;se<oe.length;se++){var ye=oe[se];if(ye.secondGlyph===S)return ye.value1&&ye.value1.xAdvance||0}break;case 2:var _e=this.getGlyphClass(B.classDef1,w),Se=this.getGlyphClass(B.classDef2,S),_e=B.classRecords[_e][Se];return _e.value1&&_e.value1.xAdvance||0}}return 0},eo.prototype.getKerningTables=function(m,w){if(this.font.tables.gpos)return this.getLookupTables(m,w,"kern",2)},(Vr.prototype=Js.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},Vr.prototype.getSingle=function(m,w,S){for(var T=[],A=this.getLookupTables(w,S,m,1),D=0;D<A.length;D++)for(var B=A[D].subtables,Q=0;Q<B.length;Q++){var oe=B[Q],se=this.expandCoverage(oe.coverage),ye=void 0;if(oe.substFormat===1)for(var Se=oe.deltaGlyphId,ye=0;ye<se.length;ye++){var _e=se[ye];T.push({sub:_e,by:_e+Se})}else{var de=oe.substitute;for(ye=0;ye<se.length;ye++)T.push({sub:se[ye],by:de[ye]})}}return T},Vr.prototype.getAlternates=function(m,w,S){for(var T=[],A=this.getLookupTables(w,S,m,3),D=0;D<A.length;D++)for(var B=A[D].subtables,Q=0;Q<B.length;Q++)for(var oe=B[Q],se=this.expandCoverage(oe.coverage),ye=oe.alternateSets,Se=0;Se<se.length;Se++)T.push({sub:se[Se],by:ye[Se]});return T},Vr.prototype.getLigatures=function(m,w,S){for(var T=[],A=this.getLookupTables(w,S,m,4),D=0;D<A.length;D++)for(var B=A[D].subtables,Q=0;Q<B.length;Q++)for(var oe=B[Q],se=this.expandCoverage(oe.coverage),ye=oe.ligatureSets,Se=0;Se<se.length;Se++)for(var _e=se[Se],de=ye[Se],Le=0;Le<de.length;Le++){var ke=de[Le];T.push({sub:[_e].concat(ke.components),by:ke.ligGlyph})}return T},Vr.prototype.addSingle=function(m,w,S,T){S=da(this.getLookupTables(S,T,m,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),L.assert(S.coverage.format===1,"Ligature: unable to modify coverage table format "+S.coverage.format),T=w.sub,m=this.binSearch(S.coverage.glyphs,T),m<0&&(S.coverage.glyphs.splice(m=-1-m,0,T),S.substitute.splice(m,0,0)),S.substitute[m]=w.by},Vr.prototype.addAlternate=function(m,w,S,T){S=da(this.getLookupTables(S,T,m,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),L.assert(S.coverage.format===1,"Ligature: unable to modify coverage table format "+S.coverage.format),T=w.sub,m=this.binSearch(S.coverage.glyphs,T),m<0&&(S.coverage.glyphs.splice(m=-1-m,0,T),S.alternateSets.splice(m,0,0)),S.alternateSets[m]=w.by},Vr.prototype.addLigature=function(D,oe,Q,A){var Q=this.getLookupTables(Q,A,D,4,!0)[0],A=Q.subtables[0],D=(A||(Q.subtables[0]=A={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),L.assert(A.coverage.format===1,"Ligature: unable to modify coverage table format "+A.coverage.format),oe.sub[0]),B=oe.sub.slice(1),Q={ligGlyph:oe.by,components:B},oe=this.binSearch(A.coverage.glyphs,D);if(0<=oe){for(var se=A.ligatureSets[oe],ye=0;ye<se.length;ye++)if(function(Se,_e){var de=Se.length;if(de===_e.length){for(var Le=0;Le<de;Le++)if(Se[Le]!==_e[Le])return;return 1}}(se[ye].components,B))return;se.push(Q)}else A.coverage.glyphs.splice(oe=-1-oe,0,D),A.ligatureSets.splice(oe,0,[Q])},Vr.prototype.getFeature=function(m,w,S){if(/ss\d\d/.test(m))return this.getSingle(m,w,S);switch(m){case"aalt":case"salt":return this.getSingle(m,w,S).concat(this.getAlternates(m,w,S));case"dlig":case"liga":case"rlig":return this.getLigatures(m,w,S)}},Vr.prototype.add=function(m,w,S,T){if(/ss\d\d/.test(m))return this.addSingle(m,w,S,T);switch(m){case"aalt":case"salt":return typeof w.by=="number"?this.addSingle(m,w,S,T):this.addAlternate(m,w,S,T);case"dlig":case"liga":case"rlig":return this.addLigature(m,w,S,T)}};var ma={getPath:pa,parse:function(m,w,S,T){for(var A=new Ke.GlyphSet(T),D=0;D<S.length-1;D+=1){var B=S[D];B!==S[D+1]?A.push(D,Ke.ttfGlyphLoader(T,D,Wc,m,w+B,Hc)):A.push(D,Ke.glyphLoader(T,D))}return A}};function ya(m){this.font=m,this.getCommands=function(w){return ma.getPath(w).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Xc(m){return m}function ga(m){return Math.sign(m)*Math.round(Math.abs(m))}function Yc(m){return Math.sign(m)*Math.round(Math.abs(2*m))/2}function $c(m){return Math.sign(m)*(Math.round(Math.abs(m)+.5)-.5)}function Zc(m){return Math.sign(m)*Math.ceil(Math.abs(m))}function Qc(m){return Math.sign(m)*Math.floor(Math.abs(m))}function va(m){var w=this.srPeriod,S=this.srPhase,T=1;return m<0&&(m=-m,T=-1),m+=this.srThreshold-S,m=Math.trunc(m/w)*w,(m+=S)<0?S*T:m*T}var Gr={x:1,y:0,axis:"x",distance:function(m,w,S,T){return(S?m.xo:m.x)-(T?w.xo:w.x)},interpolate:function(m,w,S,T){var A,D,B,Q,oe,se,ye;if(!T||T===this)return A=m.xo-w.xo,D=m.xo-S.xo,oe=w.x-w.xo,se=S.x-S.xo,(ye=(B=Math.abs(A))+(Q=Math.abs(D)))===0?void(m.x=m.xo+(oe+se)/2):void(m.x=m.xo+(oe*Q+se*B)/ye);A=T.distance(m,w,!0,!0),D=T.distance(m,S,!0,!0),oe=T.distance(w,w,!1,!0),se=T.distance(S,S,!1,!0),(ye=(B=Math.abs(A))+(Q=Math.abs(D)))===0?Gr.setRelative(m,m,(oe+se)/2,T,!0):Gr.setRelative(m,m,(oe*Q+se*B)/ye,T,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(m,w,S,T,A){var D,B;T&&T!==this?(D=A?w.xo:w.x,B=A?w.yo:w.y,D+=S*T.x,B+=S*T.y,m.x=D+(m.y-B)/T.normalSlope):m.x=(A?w.xo:w.x)+S},slope:0,touch:function(m){m.xTouched=!0},touched:function(m){return m.xTouched},untouch:function(m){m.xTouched=!1}},Qr={x:0,y:1,axis:"y",distance:function(m,w,S,T){return(S?m.yo:m.y)-(T?w.yo:w.y)},interpolate:function(m,w,S,T){var A,D,B,Q,oe,se,ye;if(!T||T===this)return A=m.yo-w.yo,D=m.yo-S.yo,oe=w.y-w.yo,se=S.y-S.yo,(ye=(B=Math.abs(A))+(Q=Math.abs(D)))===0?void(m.y=m.yo+(oe+se)/2):void(m.y=m.yo+(oe*Q+se*B)/ye);A=T.distance(m,w,!0,!0),D=T.distance(m,S,!0,!0),oe=T.distance(w,w,!1,!0),se=T.distance(S,S,!1,!0),(ye=(B=Math.abs(A))+(Q=Math.abs(D)))===0?Qr.setRelative(m,m,(oe+se)/2,T,!0):Qr.setRelative(m,m,(oe*Q+se*B)/ye,T,!0)},normalSlope:0,setRelative:function(m,w,S,T,A){var D,B;T&&T!==this?(D=A?w.xo:w.x,B=A?w.yo:w.y,D+=S*T.x,B+=S*T.y,m.y=B+T.normalSlope*(m.x-D)):m.y=(A?w.yo:w.y)+S},slope:Number.POSITIVE_INFINITY,touch:function(m){m.yTouched=!0},touched:function(m){return m.yTouched},untouch:function(m){m.yTouched=!1}};function ps(m,w){this.x=m,this.y=w,this.axis=void 0,this.slope=w/m,this.normalSlope=-m/w,Object.freeze(this)}function ms(m,w){var S=Math.sqrt(m*m+w*w);return w/=S,(m/=S)===1&&w===0?Gr:m===0&&w===1?Qr:new ps(m,w)}function Kr(m,w,S,T){this.x=this.xo=Math.round(64*m)/64,this.y=this.yo=Math.round(64*w)/64,this.lastPointOfContour=S,this.onCurve=T,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(Gr),Object.freeze(Qr),ps.prototype.distance=function(m,w,S,T){return this.x*Gr.distance(m,w,S,T)+this.y*Qr.distance(m,w,S,T)},ps.prototype.interpolate=function(m,A,D,T){var B=T.distance(m,A,!0,!0),Q=T.distance(m,D,!0,!0),A=T.distance(A,A,!1,!0),D=T.distance(D,D,!1,!0),B=Math.abs(B),Q=Math.abs(Q),oe=B+Q;oe===0?this.setRelative(m,m,(A+D)/2,T,!0):this.setRelative(m,m,(A*Q+D*B)/oe,T,!0)},ps.prototype.setRelative=function(m,D,oe,se,Q){var B=Q?D.xo:D.x,Q=Q?D.yo:D.y,D=B+oe*(se=se||this).x,B=Q+oe*se.y,Q=se.normalSlope,oe=this.slope,se=m.x,ye=m.y;m.x=(oe*se-Q*D+B-ye)/(oe-Q),m.y=oe*(m.x-se)+ye},ps.prototype.touch=function(m){m.xTouched=!0,m.yTouched=!0},Kr.prototype.nextTouched=function(m){for(var w=this.nextPointOnContour;!m.touched(w)&&w!==this;)w=w.nextPointOnContour;return w},Kr.prototype.prevTouched=function(m){for(var w=this.prevPointOnContour;!m.touched(w)&&w!==this;)w=w.prevPointOnContour;return w};var ys=Object.freeze(new Kr(0,0)),Kc={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function dn(m,w){switch(this.env=m,this.stack=[],this.prog=w,m){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Gr,this.round=ga}}function to(m){for(var w=m.tZone=new Array(m.gZone.length),S=0;S<w.length;S++)w[S]=new Kr(0,0)}function ba(m,w){var S,T=m.prog,A=m.ip,D=1;do if((S=T[++A])===88)D++;else if(S===89)D--;else if(S===64)A+=T[A+1]+1;else if(S===65)A+=2*T[A+1]+1;else if(176<=S&&S<=183)A+=S-176+1;else if(184<=S&&S<=191)A+=2*(S-184+1);else if(w&&D===1&&S===27)break;while(0<D);m.ip=A}function _a(m,w){a.DEBUG&&console.log(w.step,"SVTCA["+m.axis+"]"),w.fv=w.pv=w.dpv=m}function wa(m,w){a.DEBUG&&console.log(w.step,"SPVTCA["+m.axis+"]"),w.pv=w.dpv=m}function xa(m,w){a.DEBUG&&console.log(w.step,"SFVTCA["+m.axis+"]"),w.fv=m}function ja(m,w){var S,A=w.stack,T=A.pop(),A=A.pop(),D=w.z2[T],B=w.z1[A];a.DEBUG&&console.log("SPVTL["+m+"]",T,A),T=m?(S=D.y-B.y,B.x-D.x):(S=B.x-D.x,B.y-D.y),w.pv=w.dpv=ms(S,T)}function Sa(m,w){var S,A=w.stack,T=A.pop(),A=A.pop(),D=w.z2[T],B=w.z1[A];a.DEBUG&&console.log("SFVTL["+m+"]",T,A),T=m?(S=D.y-B.y,B.x-D.x):(S=B.x-D.x,B.y-D.y),w.fv=ms(S,T)}function ti(m){a.DEBUG&&console.log(m.step,"POP[]"),m.stack.pop()}function Ta(m,w){var S=w.stack.pop(),T=w.z0[S],A=w.fv,D=w.pv,B=(a.DEBUG&&console.log(w.step,"MDAP["+m+"]",S),D.distance(T,ys));m&&(B=w.round(B)),A.setRelative(T,ys,B,D),A.touch(T),w.rp0=w.rp1=S}function Ea(m,w){var S,T,A,D=w.z2,B=D.length-2;a.DEBUG&&console.log(w.step,"IUP["+m.axis+"]");for(var Q=0;Q<B;Q++)S=D[Q],m.touched(S)||(T=S.prevTouched(m))!==S&&(T===(A=S.nextTouched(m))&&m.setRelative(S,S,m.distance(T,T,!1,!0),m,!0),m.interpolate(S,T,A,m))}function Ma(m,w){for(var S=w.stack,T=m?w.rp1:w.rp2,A=(m?w.z0:w.z1)[T],D=w.fv,B=w.pv,Q=w.loop,oe=w.z2;Q--;){var se=S.pop(),ye=oe[se],Se=B.distance(A,A,!1,!0);D.setRelative(ye,ye,Se,B),D.touch(ye),a.DEBUG&&console.log(w.step,(1<w.loop?"loop "+(w.loop-Q)+": ":"")+"SHP["+(m?"rp1":"rp2")+"]",se)}w.loop=1}function Ca(m,w){for(var S=w.stack,B=m?w.rp1:w.rp2,T=(m?w.z0:w.z1)[B],A=w.fv,D=w.pv,B=S.pop(),Q=w.z2[w.contours[B]],oe=Q,se=(a.DEBUG&&console.log(w.step,"SHC["+m+"]",B),D.distance(T,T,!1,!0));oe!==T&&A.setRelative(oe,oe,se,D),(oe=oe.nextPointOnContour)!==Q;);}function ka(m,w){var S,T,Q=w.stack,A=m?w.rp1:w.rp2,A=(m?w.z0:w.z1)[A],D=w.fv,B=w.pv,Q=Q.pop();switch(a.DEBUG&&console.log(w.step,"SHZ["+m+"]",Q),Q){case 0:S=w.tZone;break;case 1:S=w.gZone;break;default:throw new Error("Invalid zone")}for(var oe=B.distance(A,A,!1,!0),se=S.length-2,ye=0;ye<se;ye++)T=S[ye],D.setRelative(T,T,oe,B)}function Aa(m,w){var T=w.stack,S=T.pop()/64,T=T.pop(),A=w.z1[T],D=w.z0[w.rp0],B=w.fv,Q=w.pv;B.setRelative(A,D,S,Q),B.touch(A),a.DEBUG&&console.log(w.step,"MSIRP["+m+"]",S,T),w.rp1=w.rp0,w.rp2=T,m&&(w.rp0=T)}function Oa(m,w){var S=w.stack,Q=S.pop(),S=S.pop(),T=w.z0[S],A=w.fv,D=w.pv,B=w.cvt[Q],Q=(a.DEBUG&&console.log(w.step,"MIAP["+m+"]",Q,"(",B,")",S),D.distance(T,ys));m&&(Math.abs(Q-B)<w.cvCutIn&&(Q=B),Q=w.round(Q)),A.setRelative(T,ys,Q,D),w.zp0===0&&(T.xo=T.x,T.yo=T.y),A.touch(T),w.rp0=w.rp1=S}function Ra(m,w){var S=w.stack,T=S.pop(),A=w.z2[T];a.DEBUG&&console.log(w.step,"GC["+m+"]",T),S.push(64*w.dpv.distance(A,ys,m,!1))}function Pa(m,w){var T=w.stack,S=T.pop(),T=T.pop(),A=w.z1[S],D=w.z0[T],D=w.dpv.distance(D,A,m,m);a.DEBUG&&console.log(w.step,"MD["+m+"]",S,T,"->",D),w.stack.push(Math.round(64*D))}function ri(m,w){var S=w.stack,T=S.pop(),A=w.fv,D=w.pv,B=w.ppem,Q=w.deltaBase+16*(m-1),oe=w.deltaShift,se=w.z0;a.DEBUG&&console.log(w.step,"DELTAP["+m+"]",T,S);for(var ye=0;ye<T;ye++){var Se=S.pop(),_e=S.pop();Q+((240&_e)>>4)===B&&(0<=(_e=(15&_e)-8)&&_e++,a.DEBUG&&console.log(w.step,"DELTAPFIX",Se,"by",_e*oe),Se=se[Se],A.setRelative(Se,Se,_e*oe,D))}}function ro(m,w){var S=w.stack,T=S.pop();a.DEBUG&&console.log(w.step,"ROUND[]"),S.push(64*w.round(T/64))}function ni(m,w){var S=w.stack,T=S.pop(),A=w.ppem,D=w.deltaBase+16*(m-1),B=w.deltaShift;a.DEBUG&&console.log(w.step,"DELTAC["+m+"]",T,S);for(var Q=0;Q<T;Q++){var oe=S.pop(),se=S.pop();D+((240&se)>>4)===A&&(0<=(se=(15&se)-8)&&se++,se=se*B,a.DEBUG&&console.log(w.step,"DELTACFIX",oe,"by",se),w.cvt[oe]+=se)}}function La(m,w){var S,A=w.stack,T=A.pop(),A=A.pop(),D=w.z2[T],B=w.z1[A];a.DEBUG&&console.log(w.step,"SDPVTL["+m+"]",T,A),T=m?(S=D.y-B.y,B.x-D.x):(S=B.x-D.x,B.y-D.y),w.dpv=ms(S,T)}function hn(m,w){var S=w.stack,T=w.prog,A=w.ip;a.DEBUG&&console.log(w.step,"PUSHB["+m+"]");for(var D=0;D<m;D++)S.push(T[++A]);w.ip=A}function fn(m,w){var S=w.ip,T=w.prog,A=w.stack;a.DEBUG&&console.log(w.ip,"PUSHW["+m+"]");for(var D=0;D<m;D++){var B=T[++S]<<8|T[++S];32768&B&&(B=-(1+(65535^B))),A.push(B)}w.ip=S}function Qe(m,w,S,T,A,D){var B,Q,se=D.stack,oe=m&&se.pop(),se=se.pop(),ye=D.rp0,ye=D.z0[ye],Se=D.z1[se],_e=D.minDis,de=D.fv,Le=D.dpv,ke=B=Le.distance(Se,ye,!0,!0),Oe=0<=ke?1:-1;ke=Math.abs(ke),m&&(Q=D.cvt[oe],T&&Math.abs(ke-Q)<D.cvCutIn&&(ke=Q)),S&&ke<_e&&(ke=_e),T&&(ke=D.round(ke)),de.setRelative(Se,ye,Oe*ke,Le),de.touch(Se),a.DEBUG&&console.log(D.step,(m?"MIRP[":"MDRP[")+(w?"M":"m")+(S?">":"_")+(T?"R":"_")+(A===0?"Gr":A===1?"Bl":A===2?"Wh":"")+"]",m?oe+"("+D.cvt[oe]+","+Q+")":"",se,"(d =",B,"->",Oe*ke,")"),D.rp1=D.rp0,D.rp2=se,w&&(D.rp0=se)}ya.prototype.exec=function(m,w){if(typeof w!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var S=this.font,T=this._prepState;if(!T||T.ppem!==w){var A=this._fpgmState;if(!A){dn.prototype=Kc,(A=this._fpgmState=new dn("fpgm",S.tables.fpgm)).funcs=[],A.font=S,a.DEBUG&&(console.log("---EXEC FPGM---"),A.step=-1);try{Bn(A)}catch(se){return console.log("Hinting error in FPGM:"+se),void(this._errorState=3)}}dn.prototype=A,(T=this._prepState=new dn("prep",S.tables.prep)).ppem=w;var D=S.tables.cvt;if(D)for(var B=T.cvt=new Array(D.length),Q=w/S.unitsPerEm,oe=0;oe<D.length;oe++)B[oe]=D[oe]*Q;else T.cvt=[];a.DEBUG&&(console.log("---EXEC PREP---"),T.step=-1);try{Bn(T)}catch(se){this._errorState<2&&console.log("Hinting error in PREP:"+se),this._errorState=2}}if(!(1<this._errorState))try{return Jc(m,T)}catch(se){this._errorState<1&&(console.log("Hinting error:"+se),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var Jc=function(m,w){var S=w.ppem/w.font.unitsPerEm,T=S,A=m.components;if(dn.prototype=w,A){for(var D=w.font,B=[],Q=[],oe=0;oe<A.length;oe++){var se=A[oe],ye=D.glyphs.get(se.glyphIndex),Se=new dn("glyf",ye.instructions);a.DEBUG&&(console.log("---EXEC COMP "+oe+"---"),Se.step=-1),Ia(ye,Se,S,T);for(var _e=Math.round(se.dx*S),de=Math.round(se.dy*T),Le=Se.gZone,ke=Se.contours,Oe=0;Oe<Le.length;Oe++){var Me=Le[Oe];Me.xTouched=Me.yTouched=!1,Me.xo=Me.x=Me.x+_e,Me.yo=Me.y=Me.y+de}var Ce=B.length;B.push.apply(B,Le);for(var Je=0;Je<ke.length;Je++)Q.push(ke[Je]+Ce)}m.instructions&&!Se.inhibitGridFit&&((Se=new dn("glyf",m.instructions)).gZone=Se.z0=Se.z1=Se.z2=B,Se.contours=Q,B.push(new Kr(0,0),new Kr(Math.round(m.advanceWidth*S),0)),a.DEBUG&&(console.log("---EXEC COMPOSITE---"),Se.step=-1),Bn(Se),B.length-=2)}else Se=new dn("glyf",m.instructions),a.DEBUG&&(console.log("---EXEC GLYPH---"),Se.step=-1),Ia(m,Se,S,T),B=Se.gZone;return B},Ia=function(m,w,S,T){for(var A,D,B,Q=m.points||[],oe=Q.length,se=w.gZone=w.z0=w.z1=w.z2=[],ye=w.contours=[],Se=0;Se<oe;Se++)A=Q[Se],se[Se]=new Kr(A.x*S,A.y*T,A.lastPointOfContour,A.onCurve);for(var _e=0;_e<oe;_e++)A=se[_e],D||(D=A,ye.push(_e)),A.lastPointOfContour?((A.nextPointOnContour=D).prevPointOnContour=A,D=void 0):(B=se[_e+1],(A.nextPointOnContour=B).prevPointOnContour=A);if(!w.inhibitGridFit){if(a.DEBUG){console.log("PROCESSING GLYPH",w.stack);for(var de=0;de<oe;de++)console.log(de,se[de].x,se[de].y)}if(se.push(new Kr(0,0),new Kr(Math.round(m.advanceWidth*S),0)),Bn(w),se.length-=2,a.DEBUG){console.log("FINISHED GLYPH",w.stack);for(var Le=0;Le<oe;Le++)console.log(Le,se[Le].x,se[Le].y)}}},Bn=function(m){var w=m.prog;if(w){var S,T=w.length;for(m.ip=0;m.ip<T;m.ip++){if(a.DEBUG&&m.step++,!(S=eu[w[m.ip]]))throw new Error("unknown instruction: 0x"+Number(w[m.ip]).toString(16));S(m)}}},eu=[_a.bind(void 0,Qr),_a.bind(void 0,Gr),wa.bind(void 0,Qr),wa.bind(void 0,Gr),xa.bind(void 0,Qr),xa.bind(void 0,Gr),ja.bind(void 0,0),ja.bind(void 0,1),Sa.bind(void 0,0),Sa.bind(void 0,1),function(m){var w=(S=m.stack).pop(),S=S.pop();a.DEBUG&&console.log(m.step,"SPVFS[]",w,S),m.pv=m.dpv=ms(S,w)},function(m){var w=(S=m.stack).pop(),S=S.pop();a.DEBUG&&console.log(m.step,"SPVFS[]",w,S),m.fv=ms(S,w)},function(m){var w=m.stack,S=m.pv;a.DEBUG&&console.log(m.step,"GPV[]"),w.push(16384*S.x),w.push(16384*S.y)},function(m){var w=m.stack,S=m.fv;a.DEBUG&&console.log(m.step,"GFV[]"),w.push(16384*S.x),w.push(16384*S.y)},function(m){m.fv=m.pv,a.DEBUG&&console.log(m.step,"SFVTPV[]")},function(w){var S=(B=w.stack).pop(),T=B.pop(),A=B.pop(),D=B.pop(),B=B.pop(),oe=w.z0,ye=w.z1,Q=oe[S],oe=oe[T],se=ye[A],ye=ye[D],w=w.z2[B],S=(a.DEBUG&&console.log("ISECT[], ",S,T,A,D,B),Q.x),T=Q.y,A=oe.x,D=oe.y,B=se.x,Q=se.y,oe=ye.x,se=ye.y,ye=(S-A)*(Q-se)-(T-D)*(B-oe),Se=S*D-T*A,_e=B*se-Q*oe;w.x=(Se*(B-oe)-_e*(S-A))/ye,w.y=(Se*(Q-se)-_e*(T-D))/ye},function(m){m.rp0=m.stack.pop(),a.DEBUG&&console.log(m.step,"SRP0[]",m.rp0)},function(m){m.rp1=m.stack.pop(),a.DEBUG&&console.log(m.step,"SRP1[]",m.rp1)},function(m){m.rp2=m.stack.pop(),a.DEBUG&&console.log(m.step,"SRP2[]",m.rp2)},function(m){var w=m.stack.pop();switch(a.DEBUG&&console.log(m.step,"SZP0[]",w),m.zp0=w){case 0:m.tZone||to(m),m.z0=m.tZone;break;case 1:m.z0=m.gZone;break;default:throw new Error("Invalid zone pointer")}},function(m){var w=m.stack.pop();switch(a.DEBUG&&console.log(m.step,"SZP1[]",w),m.zp1=w){case 0:m.tZone||to(m),m.z1=m.tZone;break;case 1:m.z1=m.gZone;break;default:throw new Error("Invalid zone pointer")}},function(m){var w=m.stack.pop();switch(a.DEBUG&&console.log(m.step,"SZP2[]",w),m.zp2=w){case 0:m.tZone||to(m),m.z2=m.tZone;break;case 1:m.z2=m.gZone;break;default:throw new Error("Invalid zone pointer")}},function(m){var w=m.stack.pop();switch(a.DEBUG&&console.log(m.step,"SZPS[]",w),m.zp0=m.zp1=m.zp2=w){case 0:m.tZone||to(m),m.z0=m.z1=m.z2=m.tZone;break;case 1:m.z0=m.z1=m.z2=m.gZone;break;default:throw new Error("Invalid zone pointer")}},function(m){m.loop=m.stack.pop(),a.DEBUG&&console.log(m.step,"SLOOP[]",m.loop)},function(m){a.DEBUG&&console.log(m.step,"RTG[]"),m.round=ga},function(m){a.DEBUG&&console.log(m.step,"RTHG[]"),m.round=$c},function(m){var w=m.stack.pop();a.DEBUG&&console.log(m.step,"SMD[]",w),m.minDis=w/64},function(m){a.DEBUG&&console.log(m.step,"ELSE[]"),ba(m,!1)},function(m){var w=m.stack.pop();a.DEBUG&&console.log(m.step,"JMPR[]",w),m.ip+=w-1},function(m){var w=m.stack.pop();a.DEBUG&&console.log(m.step,"SCVTCI[]",w),m.cvCutIn=w/64},void 0,void 0,function(m){var w=m.stack;a.DEBUG&&console.log(m.step,"DUP[]"),w.push(w[w.length-1])},ti,function(m){a.DEBUG&&console.log(m.step,"CLEAR[]"),m.stack.length=0},function(m){var w=m.stack,S=w.pop(),T=w.pop();a.DEBUG&&console.log(m.step,"SWAP[]"),w.push(S),w.push(T)},function(m){var w=m.stack;a.DEBUG&&console.log(m.step,"DEPTH[]"),w.push(w.length)},function(m){var w=m.stack,S=w.pop();a.DEBUG&&console.log(m.step,"CINDEX[]",S),w.push(w[w.length-S])},function(m){var w=m.stack,S=w.pop();a.DEBUG&&console.log(m.step,"MINDEX[]",S),w.push(w.splice(w.length-S,1)[0])},void 0,void 0,void 0,function(m){var w=(T=m.stack).pop(),S=T.pop(),T=(a.DEBUG&&console.log(m.step,"LOOPCALL[]",w,S),m.ip),A=m.prog;m.prog=m.funcs[w];for(var D=0;D<S;D++)Bn(m),a.DEBUG&&console.log(++m.step,D+1<S?"next loopcall":"done loopcall",D);m.ip=T,m.prog=A},function(m){var w=m.stack.pop(),S=(a.DEBUG&&console.log(m.step,"CALL[]",w),m.ip),T=m.prog;m.prog=m.funcs[w],Bn(m),m.ip=S,m.prog=T,a.DEBUG&&console.log(++m.step,"returning from",w)},function(m){if(m.env!=="fpgm")throw new Error("FDEF not allowed here");var T=m.stack,w=m.prog,S=m.ip,T=T.pop(),A=S;for(a.DEBUG&&console.log(m.step,"FDEF[]",T);w[++S]!==45;);m.ip=S,m.funcs[T]=w.slice(A+1,S)},void 0,Ta.bind(void 0,0),Ta.bind(void 0,1),Ea.bind(void 0,Qr),Ea.bind(void 0,Gr),Ma.bind(void 0,0),Ma.bind(void 0,1),Ca.bind(void 0,0),Ca.bind(void 0,1),ka.bind(void 0,0),ka.bind(void 0,1),function(m){for(var w=m.stack,S=m.loop,T=m.fv,A=w.pop()/64,D=m.z2;S--;){var B=w.pop(),Q=D[B];a.DEBUG&&console.log(m.step,(1<m.loop?"loop "+(m.loop-S)+": ":"")+"SHPIX[]",B,A),T.setRelative(Q,Q,A),T.touch(Q)}m.loop=1},function(m){for(var w=m.stack,S=m.rp1,T=m.rp2,A=m.loop,D=m.z0[S],B=m.z1[T],Q=m.fv,oe=m.dpv,se=m.z2;A--;){var ye=w.pop(),Se=se[ye];a.DEBUG&&console.log(m.step,(1<m.loop?"loop "+(m.loop-A)+": ":"")+"IP[]",ye,S,"<->",T),Q.interpolate(Se,D,B,oe),Q.touch(Se)}m.loop=1},Aa.bind(void 0,0),Aa.bind(void 0,1),function(m){for(var w=m.stack,S=m.rp0,T=m.z0[S],A=m.loop,D=m.fv,B=m.pv,Q=m.z1;A--;){var oe=w.pop(),se=Q[oe];a.DEBUG&&console.log(m.step,(1<m.loop?"loop "+(m.loop-A)+": ":"")+"ALIGNRP[]",oe),D.setRelative(se,T,0,B),D.touch(se)}m.loop=1},function(m){a.DEBUG&&console.log(m.step,"RTDG[]"),m.round=Yc},Oa.bind(void 0,0),Oa.bind(void 0,1),function(m){var w=m.prog,S=m.ip,T=m.stack,A=w[++S];a.DEBUG&&console.log(m.step,"NPUSHB[]",A);for(var D=0;D<A;D++)T.push(w[++S]);m.ip=S},function(m){var w=m.ip,S=m.prog,T=m.stack,A=S[++w];a.DEBUG&&console.log(m.step,"NPUSHW[]",A);for(var D=0;D<A;D++){var B=S[++w]<<8|S[++w];32768&B&&(B=-(1+(65535^B))),T.push(B)}m.ip=w},function(m){var T=m.stack,w=(w=m.store)||(m.store=[]),S=T.pop(),T=T.pop();a.DEBUG&&console.log(m.step,"WS",S,T),w[T]=S},function(A){var w=A.stack,S=A.store,T=w.pop(),A=(a.DEBUG&&console.log(A.step,"RS",T),S&&S[T]||0);w.push(A)},function(m){var w=(S=m.stack).pop(),S=S.pop();a.DEBUG&&console.log(m.step,"WCVTP",w,S),m.cvt[S]=w/64},function(m){var w=m.stack,S=w.pop();a.DEBUG&&console.log(m.step,"RCVT",S),w.push(64*m.cvt[S])},Ra.bind(void 0,0),Ra.bind(void 0,1),void 0,Pa.bind(void 0,0),Pa.bind(void 0,1),function(m){a.DEBUG&&console.log(m.step,"MPPEM[]"),m.stack.push(m.ppem)},void 0,function(m){a.DEBUG&&console.log(m.step,"FLIPON[]"),m.autoFlip=!0},void 0,void 0,function(m){var w=m.stack,S=w.pop(),T=w.pop();a.DEBUG&&console.log(m.step,"LT[]",S,T),w.push(T<S?1:0)},function(m){var w=m.stack,S=w.pop(),T=w.pop();a.DEBUG&&console.log(m.step,"LTEQ[]",S,T),w.push(T<=S?1:0)},function(m){var w=m.stack,S=w.pop(),T=w.pop();a.DEBUG&&console.log(m.step,"GT[]",S,T),w.push(S<T?1:0)},function(m){var w=m.stack,S=w.pop(),T=w.pop();a.DEBUG&&console.log(m.step,"GTEQ[]",S,T),w.push(S<=T?1:0)},function(m){var w=m.stack,S=w.pop(),T=w.pop();a.DEBUG&&console.log(m.step,"EQ[]",S,T),w.push(S===T?1:0)},function(m){var w=m.stack,S=w.pop(),T=w.pop();a.DEBUG&&console.log(m.step,"NEQ[]",S,T),w.push(S!==T?1:0)},function(m){var w=m.stack,S=w.pop();a.DEBUG&&console.log(m.step,"ODD[]",S),w.push(Math.trunc(S)%2?1:0)},function(m){var w=m.stack,S=w.pop();a.DEBUG&&console.log(m.step,"EVEN[]",S),w.push(Math.trunc(S)%2?0:1)},function(m){var w=m.stack.pop();a.DEBUG&&console.log(m.step,"IF[]",w),w||(ba(m,!0),a.DEBUG&&console.log(m.step,"EIF[]"))},function(m){a.DEBUG&&console.log(m.step,"EIF[]")},function(m){var w=m.stack,S=w.pop(),T=w.pop();a.DEBUG&&console.log(m.step,"AND[]",S,T),w.push(S&&T?1:0)},function(m){var w=m.stack,S=w.pop(),T=w.pop();a.DEBUG&&console.log(m.step,"OR[]",S,T),w.push(S||T?1:0)},function(m){var w=m.stack,S=w.pop();a.DEBUG&&console.log(m.step,"NOT[]",S),w.push(S?0:1)},ri.bind(void 0,1),function(m){var w=m.stack.pop();a.DEBUG&&console.log(m.step,"SDB[]",w),m.deltaBase=w},function(m){var w=m.stack.pop();a.DEBUG&&console.log(m.step,"SDS[]",w),m.deltaShift=Math.pow(.5,w)},function(m){var w=m.stack,S=w.pop(),T=w.pop();a.DEBUG&&console.log(m.step,"ADD[]",S,T),w.push(T+S)},function(m){var w=m.stack,S=w.pop(),T=w.pop();a.DEBUG&&console.log(m.step,"SUB[]",S,T),w.push(T-S)},function(m){var w=m.stack,S=w.pop(),T=w.pop();a.DEBUG&&console.log(m.step,"DIV[]",S,T),w.push(64*T/S)},function(m){var w=m.stack,S=w.pop(),T=w.pop();a.DEBUG&&console.log(m.step,"MUL[]",S,T),w.push(T*S/64)},function(m){var w=m.stack,S=w.pop();a.DEBUG&&console.log(m.step,"ABS[]",S),w.push(Math.abs(S))},function(m){var w=m.stack,S=w.pop();a.DEBUG&&console.log(m.step,"NEG[]",S),w.push(-S)},function(m){var w=m.stack,S=w.pop();a.DEBUG&&console.log(m.step,"FLOOR[]",S),w.push(64*Math.floor(S/64))},function(m){var w=m.stack,S=w.pop();a.DEBUG&&console.log(m.step,"CEILING[]",S),w.push(64*Math.ceil(S/64))},ro.bind(void 0,0),ro.bind(void 0,1),ro.bind(void 0,2),ro.bind(void 0,3),void 0,void 0,void 0,void 0,function(m){var w=(S=m.stack).pop(),S=S.pop();a.DEBUG&&console.log(m.step,"WCVTF[]",w,S),m.cvt[S]=w*m.ppem/m.font.unitsPerEm},ri.bind(void 0,2),ri.bind(void 0,3),ni.bind(void 0,1),ni.bind(void 0,2),ni.bind(void 0,3),function(m){var w,S=m.stack.pop();switch(a.DEBUG&&console.log(m.step,"SROUND[]",S),m.round=va,192&S){case 0:w=.5;break;case 64:w=1;break;case 128:w=2;break;default:throw new Error("invalid SROUND value")}switch(m.srPeriod=w,48&S){case 0:m.srPhase=0;break;case 16:m.srPhase=.25*w;break;case 32:m.srPhase=.5*w;break;case 48:m.srPhase=.75*w;break;default:throw new Error("invalid SROUND value")}m.srThreshold=(S&=15)===0?0:(S/8-.5)*w},function(m){var w,S=m.stack.pop();switch(a.DEBUG&&console.log(m.step,"S45ROUND[]",S),m.round=va,192&S){case 0:w=Math.sqrt(2)/2;break;case 64:w=Math.sqrt(2);break;case 128:w=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(m.srPeriod=w,48&S){case 0:m.srPhase=0;break;case 16:m.srPhase=.25*w;break;case 32:m.srPhase=.5*w;break;case 48:m.srPhase=.75*w;break;default:throw new Error("invalid S45ROUND value")}m.srThreshold=(S&=15)===0?0:(S/8-.5)*w},void 0,void 0,function(m){a.DEBUG&&console.log(m.step,"ROFF[]"),m.round=Xc},void 0,function(m){a.DEBUG&&console.log(m.step,"RUTG[]"),m.round=Zc},function(m){a.DEBUG&&console.log(m.step,"RDTG[]"),m.round=Qc},ti,ti,void 0,void 0,void 0,void 0,void 0,function(m){var w=m.stack.pop();a.DEBUG&&console.log(m.step,"SCANCTRL[]",w)},La.bind(void 0,0),La.bind(void 0,1),function(m){var w=m.stack,S=w.pop(),T=0;a.DEBUG&&console.log(m.step,"GETINFO[]",S),1&S&&(T=35),32&S&&(T|=4096),w.push(T)},void 0,function(m){var w=m.stack,S=w.pop(),T=w.pop(),A=w.pop();a.DEBUG&&console.log(m.step,"ROLL[]"),w.push(T),w.push(S),w.push(A)},function(m){var w=m.stack,S=w.pop(),T=w.pop();a.DEBUG&&console.log(m.step,"MAX[]",S,T),w.push(Math.max(T,S))},function(m){var w=m.stack,S=w.pop(),T=w.pop();a.DEBUG&&console.log(m.step,"MIN[]",S,T),w.push(Math.min(T,S))},function(m){var w=m.stack.pop();a.DEBUG&&console.log(m.step,"SCANTYPE[]",w)},function(m){var w=m.stack.pop(),S=m.stack.pop();switch(a.DEBUG&&console.log(m.step,"INSTCTRL[]",w,S),w){case 1:return void(m.inhibitGridFit=!!S);case 2:return void(m.ignoreCvt=!!S);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,hn.bind(void 0,1),hn.bind(void 0,2),hn.bind(void 0,3),hn.bind(void 0,4),hn.bind(void 0,5),hn.bind(void 0,6),hn.bind(void 0,7),hn.bind(void 0,8),fn.bind(void 0,1),fn.bind(void 0,2),fn.bind(void 0,3),fn.bind(void 0,4),fn.bind(void 0,5),fn.bind(void 0,6),fn.bind(void 0,7),fn.bind(void 0,8),Qe.bind(void 0,0,0,0,0,0),Qe.bind(void 0,0,0,0,0,1),Qe.bind(void 0,0,0,0,0,2),Qe.bind(void 0,0,0,0,0,3),Qe.bind(void 0,0,0,0,1,0),Qe.bind(void 0,0,0,0,1,1),Qe.bind(void 0,0,0,0,1,2),Qe.bind(void 0,0,0,0,1,3),Qe.bind(void 0,0,0,1,0,0),Qe.bind(void 0,0,0,1,0,1),Qe.bind(void 0,0,0,1,0,2),Qe.bind(void 0,0,0,1,0,3),Qe.bind(void 0,0,0,1,1,0),Qe.bind(void 0,0,0,1,1,1),Qe.bind(void 0,0,0,1,1,2),Qe.bind(void 0,0,0,1,1,3),Qe.bind(void 0,0,1,0,0,0),Qe.bind(void 0,0,1,0,0,1),Qe.bind(void 0,0,1,0,0,2),Qe.bind(void 0,0,1,0,0,3),Qe.bind(void 0,0,1,0,1,0),Qe.bind(void 0,0,1,0,1,1),Qe.bind(void 0,0,1,0,1,2),Qe.bind(void 0,0,1,0,1,3),Qe.bind(void 0,0,1,1,0,0),Qe.bind(void 0,0,1,1,0,1),Qe.bind(void 0,0,1,1,0,2),Qe.bind(void 0,0,1,1,0,3),Qe.bind(void 0,0,1,1,1,0),Qe.bind(void 0,0,1,1,1,1),Qe.bind(void 0,0,1,1,1,2),Qe.bind(void 0,0,1,1,1,3),Qe.bind(void 0,1,0,0,0,0),Qe.bind(void 0,1,0,0,0,1),Qe.bind(void 0,1,0,0,0,2),Qe.bind(void 0,1,0,0,0,3),Qe.bind(void 0,1,0,0,1,0),Qe.bind(void 0,1,0,0,1,1),Qe.bind(void 0,1,0,0,1,2),Qe.bind(void 0,1,0,0,1,3),Qe.bind(void 0,1,0,1,0,0),Qe.bind(void 0,1,0,1,0,1),Qe.bind(void 0,1,0,1,0,2),Qe.bind(void 0,1,0,1,0,3),Qe.bind(void 0,1,0,1,1,0),Qe.bind(void 0,1,0,1,1,1),Qe.bind(void 0,1,0,1,1,2),Qe.bind(void 0,1,0,1,1,3),Qe.bind(void 0,1,1,0,0,0),Qe.bind(void 0,1,1,0,0,1),Qe.bind(void 0,1,1,0,0,2),Qe.bind(void 0,1,1,0,0,3),Qe.bind(void 0,1,1,0,1,0),Qe.bind(void 0,1,1,0,1,1),Qe.bind(void 0,1,1,0,1,2),Qe.bind(void 0,1,1,0,1,3),Qe.bind(void 0,1,1,1,0,0),Qe.bind(void 0,1,1,1,0,1),Qe.bind(void 0,1,1,1,0,2),Qe.bind(void 0,1,1,1,0,3),Qe.bind(void 0,1,1,1,1,0),Qe.bind(void 0,1,1,1,1,1),Qe.bind(void 0,1,1,1,1,2),Qe.bind(void 0,1,1,1,1,3)],tu=Array.from||function(m){return m.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function _t(m){(m=m||{}).empty||(Un(m.familyName,"When creating a new Font object, familyName is required."),Un(m.styleName,"When creating a new Font object, styleName is required."),Un(m.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Un(m.ascender,"When creating a new Font object, ascender is required."),Un(m.descender,"When creating a new Font object, descender is required."),Un(m.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:m.familyName||" "},fontSubfamily:{en:m.styleName||" "},fullName:{en:m.fullName||m.familyName+" "+m.styleName},postScriptName:{en:m.postScriptName||(m.familyName+m.styleName).replace(/\s/g,"")},designer:{en:m.designer||" "},designerURL:{en:m.designerURL||" "},manufacturer:{en:m.manufacturer||" "},manufacturerURL:{en:m.manufacturerURL||" "},license:{en:m.license||" "},licenseURL:{en:m.licenseURL||" "},version:{en:m.version||"Version 0.1"},description:{en:m.description||" "},copyright:{en:m.copyright||" "},trademark:{en:m.trademark||" "}},this.unitsPerEm=m.unitsPerEm||1e3,this.ascender=m.ascender,this.descender=m.descender,this.createdTimestamp=m.createdTimestamp,this.tables={os2:{usWeightClass:m.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:m.widthClass||this.usWidthClasses.MEDIUM,fsSelection:m.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new Ke.GlyphSet(this,m.glyphs||[]),this.encoding=new je(this),this.position=new eo(this),this.substitution=new Vr(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||(this.outlinesFormat==="truetype"?this._hinting=new ya(this):void 0)}})}function Da(m,w){var S,T=JSON.stringify(m),A=256;for(S in w){var D=parseInt(S);if(D&&!(D<256)){if(JSON.stringify(w[S])===T)return D;A<=D&&(A=D+1)}}return w[A]=m,A}_t.prototype.hasChar=function(m){return this.encoding.charToGlyphIndex(m)!==null},_t.prototype.charToGlyphIndex=function(m){return this.encoding.charToGlyphIndex(m)},_t.prototype.charToGlyph=function(m){return m=this.charToGlyphIndex(m),this.glyphs.get(m)||this.glyphs.get(0)},_t.prototype.stringToGlyphs=function(m,w){w=w||this.defaultRenderOptions;for(var S=tu(m),T=[],A=0;A<S.length;A+=1){var D=S[A];T.push(this.charToGlyphIndex(D))}var B=T.length;if(w.features){var m=w.script||this.substitution.getDefaultScriptName(),Q=[];w.features.liga&&(Q=Q.concat(this.substitution.getFeature("liga",m,w.language))),w.features.rlig&&(Q=Q.concat(this.substitution.getFeature("rlig",m,w.language)));for(var oe=0;oe<B;oe+=1)for(var se=0;se<Q.length;se++){for(var ye=Q[se],Se=ye.sub,_e=Se.length,de=0;de<_e&&Se[de]===T[oe+de];)de++;de===_e&&(T.splice(oe,_e,ye.by),B=B-_e+1)}}for(var Le=new Array(B),ke=this.glyphs.get(0),Oe=0;Oe<B;Oe+=1)Le[Oe]=this.glyphs.get(T[Oe])||ke;return Le},_t.prototype.nameToGlyphIndex=function(m){return this.glyphNames.nameToGlyphIndex(m)},_t.prototype.nameToGlyph=function(m){return m=this.nameToGlyphIndex(m),this.glyphs.get(m)||this.glyphs.get(0)},_t.prototype.glyphIndexToName=function(m){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(m):""},_t.prototype.getKerningValue=function(m,w){m=m.index||m,w=w.index||w;var S=this.position.defaultKerningTables;return S?this.position.getKerningValue(S,m,w):this.kerningPairs[m+","+w]||0},_t.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},_t.prototype.forEachGlyph=function(m,w,S,T,A,D){w=w!==void 0?w:0,S=S!==void 0?S:0,A=A||this.defaultRenderOptions;var B,Q=1/this.unitsPerEm*(T=T!==void 0?T:72),oe=this.stringToGlyphs(m,A);A.kerning&&(m=A.script||this.position.getDefaultScriptName(),B=this.position.getKerningTables(m,A.language));for(var se=0;se<oe.length;se+=1){var ye=oe[se];D.call(this,ye,w,S,T,A),ye.advanceWidth&&(w+=ye.advanceWidth*Q),A.kerning&&se<oe.length-1&&(w+=(B?this.position.getKerningValue(B,ye.index,oe[se+1].index):this.getKerningValue(ye,oe[se+1]))*Q),A.letterSpacing?w+=A.letterSpacing*T:A.tracking&&(w+=A.tracking/1e3*T)}return w},_t.prototype.getPath=function(m,w,S,T,A){var D=new $;return this.forEachGlyph(m,w,S,T,A,function(B,Q,oe,se){B=B.getPath(Q,oe,se,A,this),D.extend(B)}),D},_t.prototype.getPaths=function(m,w,S,T,A){var D=[];return this.forEachGlyph(m,w,S,T,A,function(B,Q,oe,se){B=B.getPath(Q,oe,se,A,this),D.push(B)}),D},_t.prototype.getAdvanceWidth=function(m,w,S){return this.forEachGlyph(m,0,0,w,S,function(){})},_t.prototype.draw=function(m,w,S,T,A,D){this.getPath(w,S,T,A,D).draw(m)},_t.prototype.drawPoints=function(m,w,S,T,A,D){this.forEachGlyph(w,S,T,A,D,function(B,Q,oe,se){B.drawPoints(m,Q,oe,se)})},_t.prototype.drawMetrics=function(m,w,S,T,A,D){this.forEachGlyph(w,S,T,A,D,function(B,Q,oe,se){B.drawMetrics(m,Q,oe,se)})},_t.prototype.getEnglishName=function(m){if(m=this.names[m],m)return m.en},_t.prototype.validate=function(){var m=this;function w(S){S=m.getEnglishName(S),S&&S.trim().length}w("fontFamily"),w("weightName"),w("manufacturer"),w("copyright"),w("version"),this.unitsPerEm},_t.prototype.toTables=function(){return zc.fontToTable(this)},_t.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},_t.prototype.toArrayBuffer=function(){for(var m=this.toTables().encode(),w=new ArrayBuffer(m.length),S=new Uint8Array(w),T=0;T<m.length;T++)S[T]=m[T];return w},_t.prototype.download=function(m){var w=this.getEnglishName("fontFamily"),S=this.getEnglishName("fontSubfamily"),T=(m=m||w.replace(/\s/g,"")+"-"+S+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,T.byteLength,function(A){A.root.getFile(m,{create:!0},function(D){D.createWriter(function(B){var Q=new DataView(T),Q=new Blob([Q],{type:"font/opentype"});B.write(Q),B.addEventListener("writeend",function(){location.href=D.toURL()},!1)})})},function(A){throw new Error(A.name+": "+A.message)})):(w=e("fs"),S=function(A){for(var D=new l(A.byteLength),B=new Uint8Array(A),Q=0;Q<D.length;++Q)D[Q]=B[Q];return D}(T),w.writeFileSync(m,S))},_t.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},_t.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},_t.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var ru={make:function(m,w){var S=new Ee.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:m.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:m.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*m.axes.length}]);S.offsetToData=S.sizeOf();for(var T,A,D,B=0;B<m.axes.length;B++)S.fields=S.fields.concat((T=B,A=m.axes[B],D=w,D=Da(A.name,w),[{name:"tag_"+T,type:"TAG",value:A.tag},{name:"minValue_"+T,type:"FIXED",value:A.minValue<<16},{name:"defaultValue_"+T,type:"FIXED",value:A.defaultValue<<16},{name:"maxValue_"+T,type:"FIXED",value:A.maxValue<<16},{name:"flags_"+T,type:"USHORT",value:0},{name:"nameID_"+T,type:"USHORT",value:D}]));for(var Q=0;Q<m.instances.length;Q++)S.fields=S.fields.concat(function(oe,se,ye,Se){for(var _e=[{name:"nameID_"+oe,type:"USHORT",value:Da(se.name,Se)},{name:"flags_"+oe,type:"USHORT",value:0}],de=0;de<ye.length;++de){var Le=ye[de].tag;_e.push({name:"axis_"+oe+" "+Le,type:"FIXED",value:se.coordinates[Le]<<16})}return _e}(Q,m.instances[Q],m.axes,w));return S},parse:function(m,w,S){for(var T,A,D,B,Q=new xe.Parser(m,w),oe=Q.parseULong(),se=(L.argument(oe===65536,"Unsupported fvar table version."),Q.parseOffset16()),ye=(Q.skip("uShort",1),Q.parseUShort()),Se=Q.parseUShort(),_e=Q.parseUShort(),de=Q.parseUShort(),Le=[],ke=0;ke<ye;ke++)Le.push((T=m,A=w+se+ke*Se,D=S,B={},T=new xe.Parser(T,A),B.tag=T.parseTag(),B.minValue=T.parseFixed(),B.defaultValue=T.parseFixed(),B.maxValue=T.parseFixed(),T.skip("uShort",1),B.name=D[T.parseUShort()]||{},B));for(var Oe=[],Me=w+se+ye*Se,Ce=0;Ce<_e;Ce++)Oe.push(function(Je,ot,et,tt){var lt={},St=new xe.Parser(Je,ot);lt.name=tt[St.parseUShort()]||{},St.skip("uShort",1),lt.coordinates={};for(var It=0;It<et.length;++It)lt.coordinates[et[It].tag]=St.parseFixed();return lt}(m,Me+Ce*de,Le,S));return{axes:Le,instances:Oe}}},kr=new Array(10);kr[1]=function(){var m=this.offset+this.relativeOffset,w=this.parseUShort();return w===1?{posFormat:1,coverage:this.parsePointer(be.coverage),value:this.parseValueRecord()}:w===2?{posFormat:2,coverage:this.parsePointer(be.coverage),values:this.parseValueRecordList()}:void L.assert(!1,"0x"+m.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},kr[2]=function(){var m,w,S,T,D=this.offset+this.relativeOffset,A=this.parseUShort(),D=(L.assert(A===1||A===2,"0x"+D.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(be.coverage)),B=this.parseUShort(),Q=this.parseUShort();return A===1?{posFormat:A,coverage:D,valueFormat1:B,valueFormat2:Q,pairSets:this.parseList(be.pointer(be.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(B),value2:this.parseValueRecord(Q)}})))}:A===2?(m=this.parsePointer(be.classDef),w=this.parsePointer(be.classDef),S=this.parseUShort(),T=this.parseUShort(),{posFormat:A,coverage:D,valueFormat1:B,valueFormat2:Q,classDef1:m,classDef2:w,class1Count:S,class2Count:T,classRecords:this.parseList(S,be.list(T,function(){return{value1:this.parseValueRecord(B),value2:this.parseValueRecord(Q)}}))}):void 0},kr[3]=function(){return{error:"GPOS Lookup 3 not supported"}},kr[4]=function(){return{error:"GPOS Lookup 4 not supported"}},kr[5]=function(){return{error:"GPOS Lookup 5 not supported"}},kr[6]=function(){return{error:"GPOS Lookup 6 not supported"}},kr[7]=function(){return{error:"GPOS Lookup 7 not supported"}},kr[8]=function(){return{error:"GPOS Lookup 8 not supported"}},kr[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var nu=new Array(10),su={parse:function(m,w){return w=(m=new be(m,w=w||0)).parseVersion(1),L.argument(w===1||w===1.1,"Unsupported GPOS table version "+w),w===1?{version:w,scripts:m.parseScriptList(),features:m.parseFeatureList(),lookups:m.parseLookupList(kr)}:{version:w,scripts:m.parseScriptList(),features:m.parseFeatureList(),lookups:m.parseLookupList(kr),variations:m.parseFeatureVariationsList()}},make:function(m){return new Ee.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Ee.ScriptList(m.scripts)},{name:"features",type:"TABLE",value:new Ee.FeatureList(m.features)},{name:"lookups",type:"TABLE",value:new Ee.LookupList(m.lookups,nu)}])}},ou={parse:function(m,w){if(m=new xe.Parser(m,w),(w=m.parseUShort())===0){var S=m,T={},Se=(S.skip("uShort"),S.parseUShort()),A=(L.argument(Se===0,"Unsupported kern sub-table version."),S.skip("uShort",2),S.parseUShort());S.skip("uShort",3);for(var D=0;D<A;D+=1){var B=S.parseUShort(),Q=S.parseUShort(),oe=S.parseShort();T[B+","+Q]=oe}return T}if(w!==1)throw new Error("Unsupported kern table version ("+w+").");var se=m,ye={},Se=(se.skip("uShort"),1<se.parseULong()&&console.warn("Only the first kern subtable is supported."),se.skip("uLong"),255&se.parseUShort());if(se.skip("uShort"),Se==0){var _e=se.parseUShort();se.skip("uShort",3);for(var de=0;de<_e;de+=1){var Le=se.parseUShort(),ke=se.parseUShort(),Oe=se.parseShort();ye[Le+","+ke]=Oe}}return ye}},iu={parse:function(m,w,S,T){for(var A=new xe.Parser(m,w),D=T?A.parseUShort:A.parseULong,B=[],Q=0;Q<S+1;Q+=1){var oe=D.call(A);T&&(oe*=2),B.push(oe)}return B}};function au(m,w){e("fs").readFile(m,function(S,T){if(S)return w(S.message);w(null,ha(T))})}function lu(m,w){var S=new XMLHttpRequest;S.open("get",m,!0),S.responseType="arraybuffer",S.onload=function(){return S.response?w(null,S.response):w("Font could not be loaded: "+S.statusText)},S.onerror=function(){w("Font could not be loaded")},S.send()}function Na(m,w){for(var S=[],T=12,A=0;A<w;A+=1){var D=xe.getTag(m,T),B=xe.getULong(m,T+4),Q=xe.getULong(m,T+8),oe=xe.getULong(m,T+12);S.push({tag:D,checksum:B,offset:Q,length:oe,compression:!1}),T+=16}return S}function Wt(S,w){if(w.compression!=="WOFF")return{data:S,offset:w.offset};var S=new Uint8Array(S.buffer,w.offset+2,w.compressedLength-2),T=new Uint8Array(w.length);if(Y(S,T),T.byteLength!==w.length)throw new Error("Decompression error: "+w.tag+" decompressed length doesn't match recorded length");return{data:new DataView(T.buffer,0),offset:0}}function si(Ce){var w,S,T,A,D,B,Q,oe,se,ye,Se,_e,de,Le,ke=new _t({empty:!0}),Oe=new DataView(Ce,0),Me=[],Ce=xe.getTag(Oe,0);if(Ce===String.fromCharCode(0,1,0,0)||Ce==="true"||Ce==="typ1")ke.outlinesFormat="truetype",Me=Na(Oe,T=xe.getUShort(Oe,4));else if(Ce==="OTTO")ke.outlinesFormat="cff",Me=Na(Oe,T=xe.getUShort(Oe,4));else{if(Ce!=="wOFF")throw new Error("Unsupported OpenType signature "+Ce);var Je=xe.getTag(Oe,4);if(Je===String.fromCharCode(0,1,0,0))ke.outlinesFormat="truetype";else{if(Je!=="OTTO")throw new Error("Unsupported OpenType flavor "+Ce);ke.outlinesFormat="cff"}Me=function(Ct,gt){for(var hr=[],Pt=44,ar=0;ar<gt;ar+=1){var kt=xe.getTag(Ct,Pt),tr=xe.getULong(Ct,Pt+4),gs=xe.getULong(Ct,Pt+8),Vn=xe.getULong(Ct,Pt+12),Fa=void 0,Fa=gs<Vn&&"WOFF";hr.push({tag:kt,offset:tr,compression:Fa,compressedLength:gs,length:Vn}),Pt+=20}return hr}(Oe,T=xe.getUShort(Oe,12))}for(var ot=0;ot<T;ot+=1){var et=Me[ot],tt=void 0;switch(et.tag){case"cmap":tt=Wt(Oe,et),ke.tables.cmap=Z.parse(tt.data,tt.offset),ke.encoding=new Ae(ke.tables.cmap);break;case"cvt ":tt=Wt(Oe,et),Le=new xe.Parser(tt.data,tt.offset),ke.tables.cvt=Le.parseShortList(et.length/2);break;case"fvar":D=et;break;case"fpgm":tt=Wt(Oe,et),Le=new xe.Parser(tt.data,tt.offset),ke.tables.fpgm=Le.parseByteList(et.length);break;case"head":tt=Wt(Oe,et),ke.tables.head=fs.parse(tt.data,tt.offset),ke.unitsPerEm=ke.tables.head.unitsPerEm,w=ke.tables.head.indexToLocFormat;break;case"hhea":tt=Wt(Oe,et),ke.tables.hhea=he.parse(tt.data,tt.offset),ke.ascender=ke.tables.hhea.ascender,ke.descender=ke.tables.hhea.descender,ke.numberOfHMetrics=ke.tables.hhea.numberOfHMetrics;break;case"hmtx":se=et;break;case"ltag":tt=Wt(Oe,et),S=Xe.parse(tt.data,tt.offset);break;case"maxp":tt=Wt(Oe,et),ke.tables.maxp=De.parse(tt.data,tt.offset),ke.numGlyphs=ke.tables.maxp.numGlyphs;break;case"name":_e=et;break;case"OS/2":tt=Wt(Oe,et),ke.tables.os2=er.parse(tt.data,tt.offset);break;case"post":tt=Wt(Oe,et),ke.tables.post=ra.parse(tt.data,tt.offset),ke.glyphNames=new Be(ke.tables.post);break;case"prep":tt=Wt(Oe,et),Le=new xe.Parser(tt.data,tt.offset),ke.tables.prep=Le.parseByteList(et.length);break;case"glyf":B=et;break;case"loca":Se=et;break;case"CFF ":A=et;break;case"kern":ye=et;break;case"GPOS":Q=et;break;case"GSUB":oe=et;break;case"meta":de=et}}if(Je=Wt(Oe,_e),ke.tables.name=wr.parse(Je.data,Je.offset,S),ke.names=ke.tables.name,B&&Se)Ce=w===0,Je=Wt(Oe,Se),Je=iu.parse(Je.data,Je.offset,ke.numGlyphs,Ce),Ce=Wt(Oe,B),ke.glyphs=ma.parse(Ce.data,Ce.offset,Je,ke);else{if(!A)throw new Error("Font doesn't contain TrueType or CFF outlines.");Ce=Wt(Oe,A),hs.parse(Ce.data,Ce.offset,ke)}for(var Je=Wt(Oe,se),lt=(Fe.parse(Je.data,Je.offset,ke.numberOfHMetrics,ke.numGlyphs,ke.glyphs),ke),St=lt.tables.cmap.glyphIndexMap,It=Object.keys(St),Ht=0;Ht<It.length;Ht+=1){var ur,dr=It[Ht],Ar=St[dr];(ur=lt.glyphs.get(Ar)).addUnicode(parseInt(dr))}for(var wt=0;wt<lt.glyphs.length;wt+=1)ur=lt.glyphs.get(wt),lt.cffEncoding?lt.isCIDFont?ur.name="gid"+wt:ur.name=lt.cffEncoding.charset[wt]:lt.glyphNames.names&&(ur.name=lt.glyphNames.glyphIndexToName(wt));return ye?(Ce=Wt(Oe,ye),ke.kerningPairs=ou.parse(Ce.data,Ce.offset)):ke.kerningPairs={},Q&&(Je=Wt(Oe,Q),ke.tables.gpos=su.parse(Je.data,Je.offset),ke.position.init()),oe&&(Ce=Wt(Oe,oe),ke.tables.gsub=na.parse(Ce.data,Ce.offset)),D&&(Je=Wt(Oe,D),ke.tables.fvar=ru.parse(Je.data,Je.offset,ke.names)),de&&(Ce=Wt(Oe,de),ke.tables.meta=sa.parse(Ce.data,Ce.offset),ke.metas=ke.tables.meta),ke}a.Font=_t,a.Glyph=He,a.Path=$,a.BoundingBox=X,a._parse=xe,a.parse=si,a.load=function(m,w){(typeof window>"u"?au:lu)(m,function(S,T){if(S)return w(S);var A;try{A=si(T)}catch(D){return w(D,null)}return w(null,A)})},a.loadSync=function(m){return si(ha(e("fs").readFileSync(m)))},Object.defineProperty(a,"__esModule",{value:!0})},r(typeof y=="object"&&g!==void 0?y:i.opentype={})}).call(this,e("buffer").Buffer)},{buffer:4,fs:2}],242:[function(e,g,y){(function(l){function i(d,f){for(var s=0,o=d.length-1;0<=o;o--){var n=d[o];n==="."?d.splice(o,1):n===".."?(d.splice(o,1),s++):s&&(d.splice(o,1),s--)}if(f)for(;s--;)d.unshift("..");return d}function r(d,f){if(d.filter)return d.filter(f);for(var s=[],o=0;o<d.length;o++)f(d[o],o,d)&&s.push(d[o]);return s}y.resolve=function(){for(var d="",f=!1,s=arguments.length-1;-1<=s&&!f;s--){var o=0<=s?arguments[s]:l.cwd();if(typeof o!="string")throw new TypeError("Arguments to path.resolve must be strings");o&&(d=o+"/"+d,f=o.charAt(0)==="/")}return(f?"/":"")+(d=i(r(d.split("/"),function(n){return!!n}),!f).join("/"))||"."},y.normalize=function(d){var f=y.isAbsolute(d),s=a(d,-1)==="/";return(d=(d=i(r(d.split("/"),function(o){return!!o}),!f).join("/"))||f?d:".")&&s&&(d+="/"),(f?"/":"")+d},y.isAbsolute=function(d){return d.charAt(0)==="/"},y.join=function(){var d=Array.prototype.slice.call(arguments,0);return y.normalize(r(d,function(f,s){if(typeof f!="string")throw new TypeError("Arguments to path.join must be strings");return f}).join("/"))},y.relative=function(d,f){function s(_){for(var j=0;j<_.length&&_[j]==="";j++);for(var x=_.length-1;0<=x&&_[x]==="";x--);return x<j?[]:_.slice(j,x-j+1)}d=y.resolve(d).substr(1),f=y.resolve(f).substr(1);for(var o=s(d.split("/")),n=s(f.split("/")),u=Math.min(o.length,n.length),h=u,p=0;p<u;p++)if(o[p]!==n[p]){h=p;break}for(var v=[],p=h;p<o.length;p++)v.push("..");return(v=v.concat(n.slice(h))).join("/")},y.sep="/",y.delimiter=":",y.dirname=function(d){if(typeof d!="string"&&(d+=""),d.length===0)return".";for(var f=d.charCodeAt(0)===47,s=-1,o=!0,n=d.length-1;1<=n;--n)if(d.charCodeAt(n)===47){if(!o){s=n;break}}else o=!1;return s===-1?f?"/":".":f&&s===1?"/":d.slice(0,s)},y.basename=function(d,f){return d=function(s){typeof s!="string"&&(s+="");for(var o=0,n=-1,u=!0,h=s.length-1;0<=h;--h)if(s.charCodeAt(h)===47){if(!u){o=h+1;break}}else n===-1&&(u=!1,n=h+1);return n===-1?"":s.slice(o,n)}(d),d=f&&d.substr(-1*f.length)===f?d.substr(0,d.length-f.length):d},y.extname=function(d){typeof d!="string"&&(d+="");for(var f=-1,s=0,o=-1,n=!0,u=0,h=d.length-1;0<=h;--h){var p=d.charCodeAt(h);if(p===47){if(n)continue;s=h+1;break}o===-1&&(n=!1,o=h+1),p===46?f===-1?f=h:u!==1&&(u=1):f!==-1&&(u=-1)}return f===-1||o===-1||u===0||u===1&&f===o-1&&f===s+1?"":d.slice(f,o)};var a="ab".substr(-1)==="b"?function(d,f,s){return d.substr(f,s)}:function(d,f,s){return f<0&&(f=d.length+f),d.substr(f,s)}}).call(this,e("_process"))},{_process:243}],243:[function(e,r,y){var l,i,r=r.exports={};function a(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}try{l=typeof setTimeout=="function"?setTimeout:a}catch{l=a}try{i=typeof clearTimeout=="function"?clearTimeout:d}catch{i=d}function f(j){if(l===setTimeout)return setTimeout(j,0);if((l===a||!l)&&setTimeout)return(l=setTimeout)(j,0);try{return l(j,0)}catch{try{return l.call(null,j,0)}catch{return l.call(this,j,0)}}}var s,o=[],n=!1,u=-1;function h(){n&&s&&(n=!1,s.length?o=s.concat(o):u=-1,o.length&&p())}function p(){if(!n){for(var j=f(h),x=(n=!0,o.length);x;){for(s=o,o=[];++u<x;)s&&s[u].run();u=-1,x=o.length}s=null,n=!1,function(M){if(i===clearTimeout)return clearTimeout(M);if((i===d||!i)&&clearTimeout)return(i=clearTimeout)(M);try{i(M)}catch{try{return i.call(null,M)}catch{return i.call(this,M)}}}(j)}}function v(j,x){this.fun=j,this.array=x}function _(){}r.nextTick=function(j){var x=new Array(arguments.length-1);if(1<arguments.length)for(var M=1;M<arguments.length;M++)x[M-1]=arguments[M];o.push(new v(j,x)),o.length!==1||n||f(p)},v.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=_,r.addListener=_,r.once=_,r.off=_,r.removeListener=_,r.removeAllListeners=_,r.emit=_,r.prependListener=_,r.prependOnceListener=_,r.listeners=function(j){return[]},r.binding=function(j){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(j){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},{}],244:[function(e,g,y){g=function(l){var i,r=Object.prototype,a=r.hasOwnProperty,E=typeof Symbol=="function"?Symbol:{},d=E.iterator||"@@iterator",f=E.asyncIterator||"@@asyncIterator",s=E.toStringTag||"@@toStringTag";function o(q,F,G,H){var $,ne,k,L,F=F&&F.prototype instanceof j?F:j,F=Object.create(F.prototype),H=new U(H||[]);return F._invoke=($=q,ne=G,k=H,L=u,function(ee,re){if(L===p)throw new Error("Generator is already running");if(L===v){if(ee==="throw")throw re;return z()}for(k.method=ee,k.arg=re;;){var le=k.delegate;if(le&&(le=function fe(ae,ce){var ge=ae.iterator[ce.method];if(ge===i){if(ce.delegate=null,ce.method==="throw"){if(ae.iterator.return&&(ce.method="return",ce.arg=i,fe(ae,ce),ce.method==="throw"))return _;ce.method="throw",ce.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}if(ge=n(ge,ae.iterator,ce.arg),ge.type==="throw")return ce.method="throw",ce.arg=ge.arg,ce.delegate=null,_;if(ge=ge.arg,!ge)return ce.method="throw",ce.arg=new TypeError("iterator result is not an object"),ce.delegate=null,_;{if(!ge.done)return ge;ce[ae.resultName]=ge.value,ce.next=ae.nextLoc,ce.method!=="return"&&(ce.method="next",ce.arg=i)}return ce.delegate=null,_}(le,k),le)){if(le===_)continue;return le}if(k.method==="next")k.sent=k._sent=k.arg;else if(k.method==="throw"){if(L===u)throw L=v,k.arg;k.dispatchException(k.arg)}else k.method==="return"&&k.abrupt("return",k.arg);if(L=p,le=n($,ne,k),le.type==="normal"){if(L=k.done?v:h,le.arg!==_)return{value:le.arg,done:k.done}}else le.type==="throw"&&(L=v,k.method="throw",k.arg=le.arg)}}),F}function n(q,Y,G){try{return{type:"normal",arg:q.call(Y,G)}}catch(X){return{type:"throw",arg:X}}}l.wrap=o;var u="suspendedStart",h="suspendedYield",p="executing",v="completed",_={};function j(){}function x(){}function M(){}var E={},C=(E[d]=function(){return this},Object.getPrototypeOf),C=C&&C(C(W([]))),R=(C&&C!==r&&a.call(C,d)&&(E=C),M.prototype=j.prototype=Object.create(E));function O(q){["next","throw","return"].forEach(function(Y){q[Y]=function(G){return this._invoke(Y,G)}})}function P(q){var Y;this._invoke=function(G,X){function $(){return new Promise(function(ne,k){(function L(fe,H,ee,re){var le,fe=n(q[fe],q,H);if(fe.type!=="throw")return(H=(le=fe.arg).value)&&typeof H=="object"&&a.call(H,"__await")?Promise.resolve(H.__await).then(function(ae){L("next",ae,ee,re)},function(ae){L("throw",ae,ee,re)}):Promise.resolve(H).then(function(ae){le.value=ae,ee(le)},function(ae){return L("throw",ae,ee,re)});re(fe.arg)})(G,X,ne,k)})}return Y=Y?Y.then($,$):$()}}function I(q){var Y={tryLoc:q[0]};1 in q&&(Y.catchLoc=q[1]),2 in q&&(Y.finallyLoc=q[2],Y.afterLoc=q[3]),this.tryEntries.push(Y)}function N(q){var Y=q.completion||{};Y.type="normal",delete Y.arg,q.completion=Y}function U(q){this.tryEntries=[{tryLoc:"root"}],q.forEach(I,this),this.reset(!0)}function W(q){if(q){var Y,G=q[d];if(G)return G.call(q);if(typeof q.next=="function")return q;if(!isNaN(q.length))return Y=-1,(G=function X(){for(;++Y<q.length;)if(a.call(q,Y))return X.value=q[Y],X.done=!1,X;return X.value=i,X.done=!0,X}).next=G}return{next:z}}function z(){return{value:i,done:!0}}return(x.prototype=R.constructor=M).constructor=x,M[s]=x.displayName="GeneratorFunction",l.isGeneratorFunction=function(q){return q=typeof q=="function"&&q.constructor,!!q&&(q===x||(q.displayName||q.name)==="GeneratorFunction")},l.mark=function(q){return Object.setPrototypeOf?Object.setPrototypeOf(q,M):(q.__proto__=M,s in q||(q[s]="GeneratorFunction")),q.prototype=Object.create(R),q},l.awrap=function(q){return{__await:q}},O(P.prototype),P.prototype[f]=function(){return this},l.AsyncIterator=P,l.async=function(q,Y,G,X){var $=new P(o(q,Y,G,X));return l.isGeneratorFunction(Y)?$:$.next().then(function(ne){return ne.done?ne.value:$.next()})},O(R),R[s]="Generator",R[d]=function(){return this},R.toString=function(){return"[object Generator]"},l.keys=function(q){var Y,G=[];for(Y in q)G.push(Y);return G.reverse(),function X(){for(;G.length;){var $=G.pop();if($ in q)return X.value=$,X.done=!1,X}return X.done=!0,X}},l.values=W,U.prototype={constructor:U,reset:function(q){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(N),!q)for(var Y in this)Y.charAt(0)==="t"&&a.call(this,Y)&&!isNaN(+Y.slice(1))&&(this[Y]=i)},stop:function(){this.done=!0;var q=this.tryEntries[0].completion;if(q.type==="throw")throw q.arg;return this.rval},dispatchException:function(q){if(this.done)throw q;var Y=this;function G(F,H){return ne.type="throw",ne.arg=q,Y.next=F,H&&(Y.method="next",Y.arg=i),!!H}for(var X=this.tryEntries.length-1;0<=X;--X){var $=this.tryEntries[X],ne=$.completion;if($.tryLoc==="root")return G("end");if($.tryLoc<=this.prev){var k=a.call($,"catchLoc"),L=a.call($,"finallyLoc");if(k&&L){if(this.prev<$.catchLoc)return G($.catchLoc,!0);if(this.prev<$.finallyLoc)return G($.finallyLoc)}else if(k){if(this.prev<$.catchLoc)return G($.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<$.finallyLoc)return G($.finallyLoc)}}}},abrupt:function(q,Y){for(var G=this.tryEntries.length-1;0<=G;--G){var X=this.tryEntries[G];if(X.tryLoc<=this.prev&&a.call(X,"finallyLoc")&&this.prev<X.finallyLoc){var $=X;break}}var ne=($=$&&(q==="break"||q==="continue")&&$.tryLoc<=Y&&Y<=$.finallyLoc?null:$)?$.completion:{};return ne.type=q,ne.arg=Y,$?(this.method="next",this.next=$.finallyLoc,_):this.complete(ne)},complete:function(q,Y){if(q.type==="throw")throw q.arg;return q.type==="break"||q.type==="continue"?this.next=q.arg:q.type==="return"?(this.rval=this.arg=q.arg,this.method="return",this.next="end"):q.type==="normal"&&Y&&(this.next=Y),_},finish:function(q){for(var Y=this.tryEntries.length-1;0<=Y;--Y){var G=this.tryEntries[Y];if(G.finallyLoc===q)return this.complete(G.completion,G.afterLoc),N(G),_}},catch:function(q){for(var Y=this.tryEntries.length-1;0<=Y;--Y){var G,X,$=this.tryEntries[Y];if($.tryLoc===q)return(G=$.completion).type==="throw"&&(X=G.arg,N($)),X}throw new Error("illegal catch attempt")},delegateYield:function(q,Y,G){return this.delegate={iterator:W(q),resultName:Y,nextLoc:G},this.method==="next"&&(this.arg=i),_}},l}(typeof g=="object"?g.exports:{});try{regeneratorRuntime=g}catch{Function("r","regeneratorRuntime = r")(g)}},{}],245:[function(e,g,y){(function(l){var i,r,a,d,f,s,o,n,u,h;function p(N){if(typeof N!="string"&&(N=String(N)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(N))throw new TypeError("Invalid character in header field name");return N.toLowerCase()}function v(N){return N=typeof N!="string"?String(N):N}function _(N){var U={next:function(){var W=N.shift();return{done:W===void 0,value:W}}};return r&&(U[Symbol.iterator]=function(){return U}),U}function j(N){this.map={},N instanceof j?N.forEach(function(U,W){this.append(W,U)},this):Array.isArray(N)?N.forEach(function(U){this.append(U[0],U[1])},this):N&&Object.getOwnPropertyNames(N).forEach(function(U){this.append(U,N[U])},this)}function x(N){if(N.bodyUsed)return Promise.reject(new TypeError("Already read"));N.bodyUsed=!0}function M(N){return new Promise(function(U,W){N.onload=function(){U(N.result)},N.onerror=function(){W(N.error)}})}function E(N){var U=new FileReader,W=M(U);return U.readAsArrayBuffer(N),W}function C(N){var U;return N.slice?N.slice(0):((U=new Uint8Array(N.byteLength)).set(new Uint8Array(N)),U.buffer)}function R(){return this.bodyUsed=!1,this._initBody=function(N){if(this._bodyInit=N)if(typeof N=="string")this._bodyText=N;else if(a&&Blob.prototype.isPrototypeOf(N))this._bodyBlob=N;else if(d&&FormData.prototype.isPrototypeOf(N))this._bodyFormData=N;else if(i&&URLSearchParams.prototype.isPrototypeOf(N))this._bodyText=N.toString();else if(f&&a&&o(N))this._bodyArrayBuffer=C(N.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!f||!ArrayBuffer.prototype.isPrototypeOf(N)&&!n(N))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=C(N)}else this._bodyText="";this.headers.get("content-type")||(typeof N=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(N)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a&&(this.blob=function(){var N=x(this);if(N)return N;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?x(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(E)}),this.text=function(){var N,U,W=x(this);if(W)return W;if(this._bodyBlob)return W=this._bodyBlob,N=new FileReader,U=M(N),N.readAsText(W),U;if(this._bodyArrayBuffer)return Promise.resolve(function(z){for(var q=new Uint8Array(z),Y=new Array(q.length),G=0;G<q.length;G++)Y[G]=String.fromCharCode(q[G]);return Y.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},d&&(this.formData=function(){return this.text().then(P)}),this.json=function(){return this.text().then(JSON.parse)},this}function O(N,U){var W,z=(U=U||{}).body;if(N instanceof O){if(N.bodyUsed)throw new TypeError("Already read");this.url=N.url,this.credentials=N.credentials,U.headers||(this.headers=new j(N.headers)),this.method=N.method,this.mode=N.mode,z||N._bodyInit==null||(z=N._bodyInit,N.bodyUsed=!0)}else this.url=String(N);if(this.credentials=U.credentials||this.credentials||"omit",!U.headers&&this.headers||(this.headers=new j(U.headers)),this.method=(N=U.method||this.method||"GET",W=N.toUpperCase(),-1<u.indexOf(W)?W:N),this.mode=U.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&z)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(z)}function P(N){var U=new FormData;return N.trim().split("&").forEach(function(W){var z;W&&(z=(W=W.split("=")).shift().replace(/\+/g," "),W=W.join("=").replace(/\+/g," "),U.append(decodeURIComponent(z),decodeURIComponent(W)))}),U}function I(N,U){U=U||{},this.type="default",this.status=U.status===void 0?200:U.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in U?U.statusText:"OK",this.headers=new j(U.headers),this.url=U.url||"",this._initBody(N)}l.fetch||(i="URLSearchParams"in l,r="Symbol"in l&&"iterator"in Symbol,a="FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch{return!1}}(),d="FormData"in l,(f="ArrayBuffer"in l)&&(s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=function(N){return N&&DataView.prototype.isPrototypeOf(N)},n=ArrayBuffer.isView||function(N){return N&&-1<s.indexOf(Object.prototype.toString.call(N))}),j.prototype.append=function(N,U){N=p(N),U=v(U);var W=this.map[N];this.map[N]=W?W+","+U:U},j.prototype.delete=function(N){delete this.map[p(N)]},j.prototype.get=function(N){return N=p(N),this.has(N)?this.map[N]:null},j.prototype.has=function(N){return this.map.hasOwnProperty(p(N))},j.prototype.set=function(N,U){this.map[p(N)]=v(U)},j.prototype.forEach=function(N,U){for(var W in this.map)this.map.hasOwnProperty(W)&&N.call(U,this.map[W],W,this)},j.prototype.keys=function(){var N=[];return this.forEach(function(U,W){N.push(W)}),_(N)},j.prototype.values=function(){var N=[];return this.forEach(function(U){N.push(U)}),_(N)},j.prototype.entries=function(){var N=[];return this.forEach(function(U,W){N.push([W,U])}),_(N)},r&&(j.prototype[Symbol.iterator]=j.prototype.entries),u=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],O.prototype.clone=function(){return new O(this,{body:this._bodyInit})},R.call(O.prototype),R.call(I.prototype),I.prototype.clone=function(){return new I(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new j(this.headers),url:this.url})},I.error=function(){var N=new I(null,{status:0,statusText:""});return N.type="error",N},h=[301,302,303,307,308],I.redirect=function(N,U){if(h.indexOf(U)===-1)throw new RangeError("Invalid status code");return new I(null,{status:U,headers:{location:N}})},l.Headers=j,l.Request=O,l.Response=I,l.fetch=function(N,U){return new Promise(function(W,z){var q=new O(N,U),Y=new XMLHttpRequest;Y.onload=function(){var G,X={status:Y.status,statusText:Y.statusText,headers:(X=Y.getAllResponseHeaders()||"",G=new j,X.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(k){var k=k.split(":"),L=k.shift().trim();L&&(k=k.join(":").trim(),G.append(L,k))}),G)},$=(X.url="responseURL"in Y?Y.responseURL:X.headers.get("X-Request-URL"),"response"in Y?Y.response:Y.responseText);W(new I($,X))},Y.onerror=function(){z(new TypeError("Network request failed"))},Y.ontimeout=function(){z(new TypeError("Network request failed"))},Y.open(q.method,q.url,!0),q.credentials==="include"?Y.withCredentials=!0:q.credentials==="omit"&&(Y.withCredentials=!1),"responseType"in Y&&a&&(Y.responseType="blob"),q.headers.forEach(function(G,X){Y.setRequestHeader(X,G)}),Y.send(q._bodyInit===void 0?null:q._bodyInit)})},l.fetch.polyfill=!0)})(typeof self<"u"?self:this)},{}],246:[function(e,g,y){e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.split"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.split"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l,i=a(e("../core/main")),r=a(e("../color/color_conversion"));function a(s){return s&&s.__esModule?s:{default:s}}var d=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],f=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];i.default.prototype._rgbColorName=function(u){var o,n,u=r.default._rgbaToHSBA(u),h=[(l=u)[0],u[1],u[2]];h[0]!==0&&(h[0]=Math.round(100*h[0]),(u=h[0].toString().split(""))[n=u.length-1]=parseInt(u[n]),u[n]<2.5?u[n]=0:2.5<=u[n]&&u[n]<7.5&&(u[n]=5),u.length===2?(u[0]=parseInt(u[0]),7.5<=u[n]&&(u[n]=0,u[0]=u[0]+1),h[0]=10*u[0]+u[1]):7.5<=u[n]?h[0]=10:h[0]=u[n]),h[2]=h[2]/255;for(var p=h.length-1;1<=p;p--)h[p]<=.25?h[p]=0:.25<h[p]&&h[p]<.75?h[p]=.5:h[p]=1;if(h[0]===0&&h[1]===0&&h[2]===1){for(var v=2;0<=v;v--)l[v]=Math.round(1e4*l[v])/1e4;for(var _=0;_<d.length;_++){if(d[_].h===l[0]&&d[_].s===l[1]&&d[_].b===l[2]){o=d[_].name;break}o="white"}}else for(var j=0;j<f.length;j++)if(f[j].h===h[0]&&f[j].s===h[1]&&f[j].b===h[2]){o=f[j].name;break}return o},e=i.default,y.default=e},{"../color/color_conversion":252,"../core/main":267,"core-js/modules/es.function.name":165,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.split":191}],247:[function(e,g,y){e("core-js/modules/es.array.concat"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.ends-with"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.ends-with"),e("core-js/modules/es.string.replace"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(e=e("../core/main"))&&e.__esModule?e:{default:e},i="_Description",r="_fallbackDesc",a="_fallbackTable",d="_Label",f="_labelDesc",s="_labelTable";function o(n){if(n==="label"||n==="fallback")throw new Error("description should not be LABEL or FALLBACK");return n.endsWith(".")||n.endsWith(";")||n.endsWith(",")||n.endsWith("?")||n.endsWith("!")||(n+="."),n}l.default.prototype.describe=function(n,u){var h;l.default._validateParameters("describe",arguments),typeof n=="string"&&(h=this.canvas.id,n=o(n),this.dummyDOM||(this.dummyDOM=document.getElementById(h).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==n&&(this.descriptions.fallback.innerHTML=n):this._describeHTML("fallback",n),u===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==n&&(this.descriptions.label.innerHTML=n):this._describeHTML("label",n)))},l.default.prototype.describeElement=function(n,u,h){var p,v;l.default._validateParameters("describeElement",arguments),typeof u=="string"&&typeof n=="string"&&(p=this.canvas.id,u=o(u),v=function(_){if(_==="label"||_==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return _.endsWith(".")||_.endsWith(";")||_.endsWith(",")?_=_.replace(/.$/,":"):_.endsWith(":")||(_+=":"),_}(n),n=n.replace(/[^a-zA-Z0-9]/g,""),v='<th scope="row">'.concat(v,"</th><td>").concat(u,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(p).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[n]?this.descriptions.fallbackElements[n].innerHTML!==v&&(this.descriptions.fallbackElements[n].innerHTML=v):this._describeElementHTML("fallback",n,v),h===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[n]?this.descriptions.labelElements[n].innerHTML!==v&&(this.descriptions.labelElements[n].innerHTML=v):this._describeElementHTML("label",n,v)))},l.default.prototype._describeHTML=function(n,u){var h,p=this.canvas.id;n==="fallback"?(this.dummyDOM.querySelector("#".concat(p+i))?this.dummyDOM.querySelector("#"+p+a).insertAdjacentHTML("beforebegin",'<p id="'.concat(p+r,'"></p>')):(h='<div id="'.concat(p).concat(i,'" role="region" aria-label="Canvas Description"><p id="').concat(p).concat(r,'"></p></div>'),this.dummyDOM.querySelector("#".concat(p,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(p,"accessibleOutput")).insertAdjacentHTML("beforebegin",h):this.dummyDOM.querySelector("#".concat(p)).innerHTML=h),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(p).concat(r)),this.descriptions.fallback.innerHTML=u):n==="label"&&(this.dummyDOM.querySelector("#".concat(p+d))?this.dummyDOM.querySelector("#".concat(p+s))&&this.dummyDOM.querySelector("#".concat(p+s)).insertAdjacentHTML("beforebegin",'<p id="'.concat(p).concat(f,'"></p>')):(h='<div id="'.concat(p).concat(d,'" class="p5Label"><p id="').concat(p).concat(f,'"></p></div>'),this.dummyDOM.querySelector("#".concat(p,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(p,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",h):this.dummyDOM.querySelector("#"+p).insertAdjacentHTML("afterend",h)),this.descriptions.label=this.dummyDOM.querySelector("#"+p+f),this.descriptions.label.innerHTML=u)},l.default.prototype._describeElementHTML=function(n,u,h){var p,v=this.canvas.id;n==="fallback"?(this.dummyDOM.querySelector("#".concat(v+i))?this.dummyDOM.querySelector("#"+v+a)||this.dummyDOM.querySelector("#"+v+r).insertAdjacentHTML("afterend",'<table id="'.concat(v).concat(a,'"><caption>Canvas elements and their descriptions</caption></table>')):(p='<div id="'.concat(v).concat(i,'" role="region" aria-label="Canvas Description"><table id="').concat(v).concat(a,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(v,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(v,"accessibleOutput")).insertAdjacentHTML("beforebegin",p):this.dummyDOM.querySelector("#"+v).innerHTML=p),(p=document.createElement("tr")).id=v+"_fte_"+u,this.dummyDOM.querySelector("#"+v+a).appendChild(p),this.descriptions.fallbackElements[u]=this.dummyDOM.querySelector("#".concat(v).concat("_fte_").concat(u)),this.descriptions.fallbackElements[u].innerHTML=h):n==="label"&&(this.dummyDOM.querySelector("#".concat(v+d))?this.dummyDOM.querySelector("#".concat(v+s))||this.dummyDOM.querySelector("#"+v+f).insertAdjacentHTML("afterend",'<table id="'.concat(v+s,'"></table>')):(p='<div id="'.concat(v).concat(d,'" class="p5Label"><table id="').concat(v).concat(s,'"></table></div>'),this.dummyDOM.querySelector("#".concat(v,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(v,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",p):this.dummyDOM.querySelector("#"+v).insertAdjacentHTML("afterend",p)),(n=document.createElement("tr")).id=v+"_lte_"+u,this.dummyDOM.querySelector("#"+v+s).appendChild(n),this.descriptions.labelElements[u]=this.dummyDOM.querySelector("#".concat(v).concat("_lte_").concat(u)),this.descriptions.labelElements[u].innerHTML=h)},e=l.default,y.default=e},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.ends-with":184,"core-js/modules/es.string.replace":189}],248:[function(e,g,y){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.map"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,e=(e=e("../core/main"))&&e.__esModule?e:{default:e},e.default.prototype._updateGridOutput=function(l){var i,r,a,d;this.dummyDOM.querySelector("#".concat(l,"_summary"))&&(i=this._accessibleOutputs[l],a=function(f,s,o,n){return s="".concat(s," canvas, ").concat(o," by ").concat(n," pixels, contains ").concat(f[0]),s=(f[0]===1?"".concat(s," shape: "):"".concat(s," shapes: ")).concat(f[1]),s}((r=function(f,s){var o,n="",u="",h=0;for(o in s){var p,v=0;for(p in s[o]){var _='<li id="'.concat(f,"shape").concat(h,'">').concat(s[o][p].color," ").concat(o,",");o==="line"?_+=" location = ".concat(s[o][p].pos,", length = ").concat(s[o][p].length," pixels"):(_+=" location = ".concat(s[o][p].pos),o!=="point"&&(_+=", area = ".concat(s[o][p].area," %")),_+="</li>"),n+=_,v++,h++}u=1<v?"".concat(u," ").concat(v," ").concat(o,"s"):"".concat(u," ").concat(v," ").concat(o)}return{numShapes:[h,u],details:n}}(l,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),d=function(f,s){var o,n,u,h=0,p="",v=Array.apply(null,Array(10)).map(function(){});for(o in v)v[o]=Array.apply(null,Array(10)).map(function(){});for(n in s)for(var _ in s[n]){var j=void 0;j=n!=="line"?'<a href="#'.concat(f,"shape").concat(h,'">').concat(s[n][_].color," ").concat(n,"</a>"):'<a href="#'.concat(f,"shape").concat(h,'">').concat(s[n][_].color," ").concat(n," midpoint</a>"),v[s[n][_].loc.locY][s[n][_].loc.locX]?v[s[n][_].loc.locY][s[n][_].loc.locX]=v[s[n][_].loc.locY][s[n][_].loc.locX]+"  "+j:v[s[n][_].loc.locY][s[n][_].loc.locX]=j,h++}for(u in v){var x,M="<tr>";for(x in v[u])M+="<td>",v[u][x]!==void 0&&(M+=v[u][x]),M+="</td>";p=p+M+"</tr>"}return p}(l,this.ingredients.shapes),a!==i.summary.innerHTML&&(i.summary.innerHTML=a),d!==i.map.innerHTML&&(i.map.innerHTML=d),r.details!==i.shapeDetails.innerHTML&&(i.shapeDetails.innerHTML=r.details),this._accessibleOutputs[l]=i)},e=e.default,y.default=e},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.map":161}],249:[function(e,g,y){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.map"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.map"),e("core-js/modules/es.number.to-fixed"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(e=e("../core/main"))&&e.__esModule?e:{default:e};function i(a,d,f){return a[0]<.4*d?a[1]<.4*f?"top left":a[1]>.6*f?"bottom left":"mid left":a[0]>.6*d?a[1]<.4*f?"top right":a[1]>.6*f?"bottom right":"mid right":a[1]<.4*f?"top middle":a[1]>.6*f?"bottom middle":"middle"}function r(a,d,f){return d=Math.floor(a[0]/d*10),a=Math.floor(a[1]/f*10),d===10&&(d-=1),a===10&&(a-=1),{locX:d,locY:a}}l.default.prototype.textOutput=function(a){l.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),a===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},l.default.prototype.gridOutput=function(a){l.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),a===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},l.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},l.default.prototype._createOutput=function(a,d){var f,s,o,n=this.canvas.id,u=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(n).parentNode),"");d==="Fallback"?(f=n+a,this.dummyDOM.querySelector("#".concat(s=n+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(n,"_Description"))?this.dummyDOM.querySelector("#".concat(n,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(s,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(n)).innerHTML='<div id="'.concat(s,'" role="region" aria-label="Canvas Outputs"></div>'))):d==="Label"&&(f=n+a+(u=d),this.dummyDOM.querySelector("#".concat(s=n+"accessibleOutput"+d))||(this.dummyDOM.querySelector("#".concat(n,"_Label"))?this.dummyDOM.querySelector("#".concat(n,"_Label")):this.dummyDOM.querySelector("#".concat(n))).insertAdjacentHTML("afterend",'<div id="'.concat(s,'"></div>'))),this._accessibleOutputs[f]={},a==="textOutput"?(u="#".concat(n,"gridOutput").concat(u),o='<div id="'.concat(f,'">Text Output<div id="').concat(f,'Summary" aria-label="text output summary"><p id="').concat(f,'_summary"></p><ul id="').concat(f,'_list"></ul></div><table id="').concat(f,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(u)?this.dummyDOM.querySelector(u).insertAdjacentHTML("beforebegin",o):this.dummyDOM.querySelector("#".concat(s)).innerHTML=o,this._accessibleOutputs[f].list=this.dummyDOM.querySelector("#".concat(f,"_list"))):a==="gridOutput"&&(u="#".concat(n,"textOutput").concat(u),o='<div id="'.concat(f,'">Grid Output<p id="').concat(f,'_summary" aria-label="grid output summary"><table id="').concat(f,'_map" summary="grid output content"></table><ul id="').concat(f,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(u)?this.dummyDOM.querySelector(u).insertAdjacentHTML("afterend",o):this.dummyDOM.querySelector("#".concat(s)).innerHTML=o,this._accessibleOutputs[f].map=this.dummyDOM.querySelector("#".concat(f,"_map"))),this._accessibleOutputs[f].shapeDetails=this.dummyDOM.querySelector("#".concat(f,"_shapeDetails")),this._accessibleOutputs[f].summary=this.dummyDOM.querySelector("#".concat(f,"_summary"))},l.default.prototype._updateAccsOutput=function(){var a=this.canvas.id;JSON.stringify(this.ingredients.shapes)!==this.ingredients.pShapes&&(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(a+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(a+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(a+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(a+"gridOutputLabel"))},l.default.prototype._accsBackground=function(a){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==a&&(this.ingredients.colors.backgroundRGBA=a,this.ingredients.colors.background=this._rgbColorName(a))},l.default.prototype._accsCanvasColors=function(a,d){a==="fill"?this.ingredients.colors.fillRGBA!==d&&(this.ingredients.colors.fillRGBA=d,this.ingredients.colors.fill=this._rgbColorName(d)):a==="stroke"&&this.ingredients.colors.strokeRGBA!==d&&(this.ingredients.colors.strokeRGBA=d,this.ingredients.colors.stroke=this._rgbColorName(d))},l.default.prototype._accsOutput=function(a,d){a==="ellipse"&&d[2]===d[3]?a="circle":a==="rectangle"&&d[2]===d[3]&&(a="square");var f,s,o={},n=!0,u=function(p,v){var _;return p=p==="rectangle"||p==="ellipse"||p==="arc"||p==="circle"||p==="square"?(_=Math.round(v[0]+v[2]/2),Math.round(v[1]+v[3]/2)):p==="triangle"?(_=(v[0]+v[2]+v[4])/3,(v[1]+v[3]+v[5])/3):p==="quadrilateral"?(_=(v[0]+v[2]+v[4]+v[6])/4,(v[1]+v[3]+v[5]+v[7])/4):p==="line"?(_=(v[0]+v[2])/2,(v[1]+v[3])/2):(_=v[0],v[1]),[_,p]}(a,d);if(a==="line"?(o.color=this.ingredients.colors.stroke,o.length=Math.round(this.dist(d[0],d[1],d[2],d[3])),f=i([d[0],[1]],this.width,this.height),s=i([d[2],[3]],this.width,this.height),o.loc=r(u,this.width,this.height),o.pos=f===s?"at ".concat(f):"from ".concat(f," to ").concat(s)):(a==="point"?o.color=this.ingredients.colors.stroke:(o.color=this.ingredients.colors.fill,o.area=function(p,v,_,j){var x=0;{var M,E,C,R,O,P,I;p==="arc"?(M=((v[5]-v[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI),x=M*v[2]*v[3]/8,v[6]!=="open"&&v[6]!=="chord"||(I=v[0],E=v[1],C=v[0]+v[2]/2*Math.cos(v[4]).toFixed(2),R=v[1]+v[3]/2*Math.sin(v[4]).toFixed(2),O=v[0]+v[2]/2*Math.cos(v[5]).toFixed(2),P=v[1]+v[3]/2*Math.sin(v[5]).toFixed(2),I=Math.abs(I*(R-P)+C*(P-E)+O*(E-R))/2,M>Math.PI?x+=I:x-=I)):p==="ellipse"||p==="circle"?x=3.14*v[2]/2*v[3]/2:p==="line"||p==="point"?x=0:p==="quadrilateral"?x=Math.abs((v[6]+v[0])*(v[7]-v[1])+(v[0]+v[2])*(v[1]-v[3])+(v[2]+v[4])*(v[3]-v[5])+(v[4]+v[6])*(v[5]-v[7]))/2:p==="rectangle"||p==="square"?x=v[2]*v[3]:p==="triangle"&&(x=Math.abs(v[0]*(v[3]-v[5])+v[2]*(v[5]-v[1])+v[4]*(v[1]-v[3]))/2)}return Math.round(100*x/(_*j))}(a,d,this.width,this.height)),o.pos=i(u,this.width,this.height),o.loc=r(u,this.width,this.height)),this.ingredients.shapes[a]){if(this.ingredients.shapes[a]!==[o]){for(var h in this.ingredients.shapes[a])JSON.stringify(this.ingredients.shapes[a][h])===JSON.stringify(o)&&(n=!1);n===!0&&this.ingredients.shapes[a].push(o)}}else this.ingredients.shapes[a]=[o]},e=l.default,y.default=e},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.map":161,"core-js/modules/es.number.to-fixed":171}],250:[function(e,g,y){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.concat"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,e=(e=e("../core/main"))&&e.__esModule?e:{default:e},e.default.prototype._updateTextOutput=function(l){var i,r,a,d;this.dummyDOM.querySelector("#".concat(l,"_summary"))&&(i=this._accessibleOutputs[l],a=function(f,s,o,n){return o="Your output is a, ".concat(o," by ").concat(n," pixels, ").concat(s," canvas containing the following"),o=f===1?"".concat(o," shape:"):"".concat(o," ").concat(f," shapes:"),o}((r=function(f,s){var o,n="",u=0;for(o in s)for(var h in s[o]){var p='<li><a href="#'.concat(f,"shape").concat(u,'">').concat(s[o][h].color," ").concat(o,"</a>");o==="line"?p+=", ".concat(s[o][h].pos,", ").concat(s[o][h].length," pixels long.</li>"):(p+=", at ".concat(s[o][h].pos),o!=="point"&&(p+=", covering ".concat(s[o][h].area,"% of the canvas")),p+=".</li>"),n+=p,u++}return{numShapes:u,listShapes:n}}(l,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),d=function(f,s){var o,n="",u=0;for(o in s)for(var h in s[o]){var p='<tr id="'.concat(f,"shape").concat(u,'"><th>').concat(s[o][h].color," ").concat(o,"</th>");o==="line"?p+="<td>location = ".concat(s[o][h].pos,"</td><td>length = ").concat(s[o][h].length," pixels</td></tr>"):(p+="<td>location = ".concat(s[o][h].pos,"</td>"),o!=="point"&&(p+="<td> area = ".concat(s[o][h].area,"%</td>")),p+="</tr>"),n+=p,u++}return n}(l,this.ingredients.shapes),a!==i.summary.innerHTML&&(i.summary.innerHTML=a),r.listShapes!==i.list.innerHTML&&(i.list.innerHTML=r.listShapes),d!==i.shapeDetails.innerHTML&&(i.shapeDetails.innerHTML=d),this._accessibleOutputs[l]=i)},e=e.default,y.default=e},{"../core/main":267,"core-js/modules/es.array.concat":149}],251:[function(e,g,y){var l=(l=e("./core/main"))&&l.__esModule?l:{default:l};e("./core/constants"),e("./core/environment"),e("./core/friendly_errors/stacktrace"),e("./core/friendly_errors/validate_params"),e("./core/friendly_errors/file_errors"),e("./core/friendly_errors/fes_core"),e("./core/friendly_errors/sketch_reader"),e("./core/helpers"),e("./core/legacy"),e("./core/preload"),e("./core/p5.Element"),e("./core/p5.Graphics"),e("./core/p5.Renderer"),e("./core/p5.Renderer2D"),e("./core/rendering"),e("./core/shim"),e("./core/structure"),e("./core/transform"),e("./core/shape/2d_primitives"),e("./core/shape/attributes"),e("./core/shape/curves"),e("./core/shape/vertex"),e("./accessibility/outputs"),e("./accessibility/textOutput"),e("./accessibility/gridOutput"),e("./accessibility/color_namer"),e("./color/color_conversion"),e("./color/creating_reading"),e("./color/p5.Color"),e("./color/setting"),e("./data/p5.TypedDict"),e("./data/local_storage.js"),e("./dom/dom"),e("./accessibility/describe"),e("./events/acceleration"),e("./events/keyboard"),e("./events/mouse"),e("./events/touch"),e("./image/filters"),e("./image/image"),e("./image/loading_displaying"),e("./image/p5.Image"),e("./image/pixels"),e("./io/files"),e("./io/p5.Table"),e("./io/p5.TableRow"),e("./io/p5.XML"),e("./math/calculation"),e("./math/math"),e("./math/noise"),e("./math/p5.Vector"),e("./math/random"),e("./math/trigonometry"),e("./typography/attributes"),e("./typography/loading_displaying"),e("./typography/p5.Font"),e("./utilities/array_functions"),e("./utilities/conversion"),e("./utilities/string_functions"),e("./utilities/time_date"),e("./webgl/3d_primitives"),e("./webgl/interaction"),e("./webgl/light"),e("./webgl/loading"),e("./webgl/material"),e("./webgl/p5.Camera"),e("./webgl/p5.Geometry"),e("./webgl/p5.Matrix"),e("./webgl/p5.RendererGL.Immediate"),e("./webgl/p5.RendererGL"),e("./webgl/p5.RendererGL.Retained"),e("./webgl/p5.Shader"),e("./webgl/p5.RenderBuffer"),e("./webgl/p5.Texture"),e("./webgl/text"),e("./core/init"),g.exports=l.default},{"./accessibility/color_namer":246,"./accessibility/describe":247,"./accessibility/gridOutput":248,"./accessibility/outputs":249,"./accessibility/textOutput":250,"./color/color_conversion":252,"./color/creating_reading":253,"./color/p5.Color":254,"./color/setting":255,"./core/constants":256,"./core/environment":257,"./core/friendly_errors/fes_core":258,"./core/friendly_errors/file_errors":259,"./core/friendly_errors/sketch_reader":260,"./core/friendly_errors/stacktrace":261,"./core/friendly_errors/validate_params":262,"./core/helpers":263,"./core/init":264,"./core/legacy":266,"./core/main":267,"./core/p5.Element":268,"./core/p5.Graphics":269,"./core/p5.Renderer":270,"./core/p5.Renderer2D":271,"./core/preload":272,"./core/rendering":273,"./core/shape/2d_primitives":274,"./core/shape/attributes":275,"./core/shape/curves":276,"./core/shape/vertex":277,"./core/shim":278,"./core/structure":279,"./core/transform":280,"./data/local_storage.js":281,"./data/p5.TypedDict":282,"./dom/dom":283,"./events/acceleration":284,"./events/keyboard":285,"./events/mouse":286,"./events/touch":287,"./image/filters":288,"./image/image":289,"./image/loading_displaying":290,"./image/p5.Image":291,"./image/pixels":292,"./io/files":293,"./io/p5.Table":294,"./io/p5.TableRow":295,"./io/p5.XML":296,"./math/calculation":297,"./math/math":298,"./math/noise":299,"./math/p5.Vector":300,"./math/random":301,"./math/trigonometry":302,"./typography/attributes":303,"./typography/loading_displaying":304,"./typography/p5.Font":305,"./utilities/array_functions":306,"./utilities/conversion":307,"./utilities/string_functions":308,"./utilities/time_date":309,"./webgl/3d_primitives":310,"./webgl/interaction":311,"./webgl/light":312,"./webgl/loading":313,"./webgl/material":314,"./webgl/p5.Camera":315,"./webgl/p5.Geometry":316,"./webgl/p5.Matrix":317,"./webgl/p5.RenderBuffer":318,"./webgl/p5.RendererGL":321,"./webgl/p5.RendererGL.Immediate":319,"./webgl/p5.RendererGL.Retained":320,"./webgl/p5.Shader":322,"./webgl/p5.Texture":323,"./webgl/text":324}],252:[function(e,g,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,e=(e=e("../core/main"))&&e.__esModule?e:{default:e},e.default.ColorConversion={},e.default.ColorConversion._hsbaToHSLA=function(l){var i=l[0],r=l[1],a=l[2],d=(2-r)*a/2;return d!=0&&(d==1?r=0:d<.5?r/=2-r:r=r*a/(2-2*d)),[i,r,d,l[3]]},e.default.ColorConversion._hsbaToRGBA=function(l){var i,r,a,d,f,s=6*l[0],o=l[1],n=l[2];return o===0?[n,n,n,l[3]]:(r=n*(1-o),a=n*(1-o*(s-(i=Math.floor(s)))),o=n*(1-o*(1+i-s)),s=i===1?(d=a,f=n,r):i===2?(d=r,f=n,o):i===3?(d=r,f=a,n):i===4?(d=o,f=r,n):i===5?(d=n,f=r,a):(d=n,f=o,r),[d,f,s,l[3]])},e.default.ColorConversion._hslaToHSBA=function(l){var i=l[0],r=l[1],a=l[2],d=a<.5?(1+r)*a:a+r-a*r;return[i,r=2*(d-a)/d,d,l[3]]},e.default.ColorConversion._hslaToRGBA=function(l){var i,r=6*l[0],a=l[1],d=l[2];return a===0?[d,d,d,l[3]]:[(i=function(f,s,o){return f<0?f+=6:6<=f&&(f-=6),f<1?s+(o-s)*f:f<3?o:f<4?s+(o-s)*(4-f):s})(2+r,a=2*d-(d=d<.5?(1+a)*d:d+a-d*a),d),i(r,a,d),i(r-2,a,d),l[3]]},e.default.ColorConversion._rgbaToHSBA=function(l){var i,r,a=l[0],d=l[1],f=l[2],s=Math.max(a,d,f),o=s-Math.min(a,d,f);return o==0?r=i=0:(r=o/s,a===s?i=(d-f)/o:d===s?i=2+(f-a)/o:f===s&&(i=4+(a-d)/o),i<0?i+=6:6<=i&&(i-=6)),[i/6,r,s,l[3]]},e.default.ColorConversion._rgbaToHSLA=function(l){var i,r,a=l[0],d=l[1],f=l[2],s=Math.max(a,d,f),n=Math.min(a,d,f),o=s+n,n=s-n;return n==0?r=i=0:(r=o<1?n/o:n/(2-o),a===s?i=(d-f)/n:d===s?i=2+(f-a)/n:f===s&&(i=4+(a-d)/n),i<0?i+=6:6<=i&&(i-=6)),[i/6,r,o/2,l[3]]},e=e.default.ColorConversion,y.default=e},{"../core/main":267}],253:[function(e,g,y){function l(s){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(s)}function i(s){return(i=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(o){return l(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":l(o)})(s)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.map"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var r=(f=e("../core/main"))&&f.__esModule?f:{default:f},a=function(s){if(s&&s.__esModule)return s;if(s===null||i(s)!=="object"&&typeof s!="function")return{default:s};var o=d();if(o&&o.has(s))return o.get(s);var n,u={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in s){var p;Object.prototype.hasOwnProperty.call(s,n)&&((p=h?Object.getOwnPropertyDescriptor(s,n):null)&&(p.get||p.set)?Object.defineProperty(u,n,p):u[n]=s[n])}return u.default=s,o&&o.set(s,u),u}(e("../core/constants"));function d(){var s;return typeof WeakMap!="function"?null:(s=new WeakMap,d=function(){return s},s)}e("./p5.Color"),e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),r.default.prototype.alpha=function(s){return r.default._validateParameters("alpha",arguments),this.color(s)._getAlpha()},r.default.prototype.blue=function(s){return r.default._validateParameters("blue",arguments),this.color(s)._getBlue()},r.default.prototype.brightness=function(s){return r.default._validateParameters("brightness",arguments),this.color(s)._getBrightness()},r.default.prototype.color=function(){var s;return r.default._validateParameters("color",arguments),arguments[0]instanceof r.default.Color?arguments[0]:(s=arguments[0]instanceof Array?arguments[0]:arguments,new r.default.Color(this,s))},r.default.prototype.green=function(s){return r.default._validateParameters("green",arguments),this.color(s)._getGreen()},r.default.prototype.hue=function(s){return r.default._validateParameters("hue",arguments),this.color(s)._getHue()},r.default.prototype.lerpColor=function(s,o,n){r.default._validateParameters("lerpColor",arguments);var u,h,p,v=this._colorMode,_=this._colorMaxes;if(v===a.RGB)h=s.levels.map(function(j){return j/255}),p=o.levels.map(function(j){return j/255});else if(v===a.HSB)s._getBrightness(),o._getBrightness(),h=s.hsba,p=o.hsba;else{if(v!==a.HSL)throw new Error("".concat(v,"cannot be used for interpolation."));s._getLightness(),o._getLightness(),h=s.hsla,p=o.hsla}return n=Math.max(Math.min(n,1),0),this.lerp===void 0&&(this.lerp=function(j,x,M){return M*(x-j)+j}),s=this.lerp(h[0],p[0],n),o=this.lerp(h[1],p[1],n),u=this.lerp(h[2],p[2],n),h=this.lerp(h[3],p[3],n),s*=_[v][0],o*=_[v][1],u*=_[v][2],h*=_[v][3],this.color(s,o,u,h)},r.default.prototype.lightness=function(s){return r.default._validateParameters("lightness",arguments),this.color(s)._getLightness()},r.default.prototype.red=function(s){return r.default._validateParameters("red",arguments),this.color(s)._getRed()},r.default.prototype.saturation=function(s){return r.default._validateParameters("saturation",arguments),this.color(s)._getSaturation()};var f=r.default;y.default=f},{"../core/constants":256,"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/main":267,"./p5.Color":254,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],254:[function(n,g,y){function l(_){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(_)}function i(_){return(i=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(j){return l(j)}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":l(j)})(_)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.constructor"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.trim"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.constructor"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.trim"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var r=s(n("../core/main")),a=function(_){if(_&&_.__esModule)return _;if(_===null||i(_)!=="object"&&typeof _!="function")return{default:_};var j=f();if(j&&j.has(_))return j.get(_);var x,M={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(x in _){var C;Object.prototype.hasOwnProperty.call(_,x)&&((C=E?Object.getOwnPropertyDescriptor(_,x):null)&&(C.get||C.set)?Object.defineProperty(M,x,C):M[x]=_[x])}return M.default=_,j&&j.set(_,M),M}(n("../core/constants")),d=s(n("./color_conversion"));function f(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,f=function(){return _},_)}function s(_){return _&&_.__esModule?_:{default:_}}r.default.Color=function(_,j){if(this._storeModeAndMaxes(_._colorMode,_._colorMaxes),this.mode!==a.RGB&&this.mode!==a.HSL&&this.mode!==a.HSB)throw new Error("".concat(this.mode," is an invalid colorMode."));return this._array=r.default.Color._parseInputs.apply(this,j),this._calculateLevels(),this},r.default.Color.prototype.toString=function(_){var j=this.levels,x=this._array,M=x[3];switch(_){case"#rrggbb":return"#".concat(j[0]<16?"0".concat(j[0].toString(16)):j[0].toString(16),j[1]<16?"0".concat(j[1].toString(16)):j[1].toString(16),j[2]<16?"0".concat(j[2].toString(16)):j[2].toString(16));case"#rrggbbaa":return"#".concat(j[0]<16?"0".concat(j[0].toString(16)):j[0].toString(16),j[1]<16?"0".concat(j[1].toString(16)):j[1].toString(16),j[2]<16?"0".concat(j[2].toString(16)):j[2].toString(16),j[3]<16?"0".concat(j[3].toString(16)):j[3].toString(16));case"#rgb":return"#".concat(Math.round(15*x[0]).toString(16),Math.round(15*x[1]).toString(16),Math.round(15*x[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*x[0]).toString(16),Math.round(15*x[1]).toString(16),Math.round(15*x[2]).toString(16),Math.round(15*x[3]).toString(16));case"rgb":return"rgb(".concat(j[0],", ",j[1],", ",j[2],")");case"rgb%":return"rgb(".concat((100*x[0]).toPrecision(3),"%, ",(100*x[1]).toPrecision(3),"%, ",(100*x[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*x[0]).toPrecision(3),"%, ",(100*x[1]).toPrecision(3),"%, ",(100*x[2]).toPrecision(3),"%, ",(100*x[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=d.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[a.HSB][0],", ",this.hsba[1]*this.maxes[a.HSB][1],", ",this.hsba[2]*this.maxes[a.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=d.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=d.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[a.HSB][0],", ",this.hsba[1]*this.maxes[a.HSB][1],", ",this.hsba[2]*this.maxes[a.HSB][2],", ",M,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=d.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*M).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=d.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[a.HSL][0],", ",this.hsla[1]*this.maxes[a.HSL][1],", ",this.hsla[2]*this.maxes[a.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=d.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=d.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[a.HSL][0],", ",this.hsla[1]*this.maxes[a.HSL][1],", ",this.hsla[2]*this.maxes[a.HSL][2],", ",M,")");case"hsla%":return this.hsla||(this.hsla=d.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*M).toPrecision(3),"%)");default:return"rgba(".concat(j[0],",",j[1],",",j[2],",",M,")")}},r.default.Color.prototype.setRed=function(_){this._array[0]=_/this.maxes[a.RGB][0],this._calculateLevels()},r.default.Color.prototype.setGreen=function(_){this._array[1]=_/this.maxes[a.RGB][1],this._calculateLevels()},r.default.Color.prototype.setBlue=function(_){this._array[2]=_/this.maxes[a.RGB][2],this._calculateLevels()},r.default.Color.prototype.setAlpha=function(_){this._array[3]=_/this.maxes[this.mode][3],this._calculateLevels()},r.default.Color.prototype._calculateLevels=function(){for(var _=this._array,j=this.levels=new Array(_.length),x=_.length-1;0<=x;--x)j[x]=Math.round(255*_[x]);this.hsla=null,this.hsba=null},r.default.Color.prototype._getAlpha=function(){return this._array[3]*this.maxes[this.mode][3]},r.default.Color.prototype._storeModeAndMaxes=function(_,j){this.mode=_,this.maxes=j},r.default.Color.prototype._getMode=function(){return this.mode},r.default.Color.prototype._getMaxes=function(){return this.maxes},r.default.Color.prototype._getBlue=function(){return this._array[2]*this.maxes[a.RGB][2]},r.default.Color.prototype._getBrightness=function(){return this.hsba||(this.hsba=d.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[a.HSB][2]},r.default.Color.prototype._getGreen=function(){return this._array[1]*this.maxes[a.RGB][1]},r.default.Color.prototype._getHue=function(){return this.mode===a.HSB?(this.hsba||(this.hsba=d.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[a.HSB][0]):(this.hsla||(this.hsla=d.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[a.HSL][0])},r.default.Color.prototype._getLightness=function(){return this.hsla||(this.hsla=d.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[a.HSL][2]},r.default.Color.prototype._getRed=function(){return this._array[0]*this.maxes[a.RGB][0]},r.default.Color.prototype._getSaturation=function(){return this.mode===a.HSB?(this.hsba||(this.hsba=d.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[a.HSB][1]):(this.hsla||(this.hsla=d.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[a.HSL][1])};var o={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},n=/\s*/,v=/(\d{1,3})/,u=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,h=new RegExp("".concat(u.source,"%")),p={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",v.source,",",v.source,",",v.source,"\\)$"].join(n.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",h.source,",",h.source,",",h.source,"\\)$"].join(n.source),"i"),RGBA:new RegExp(["^rgba\\(",v.source,",",v.source,",",v.source,",",u.source,"\\)$"].join(n.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",h.source,",",h.source,",",h.source,",",u.source,"\\)$"].join(n.source),"i"),HSL:new RegExp(["^hsl\\(",v.source,",",h.source,",",h.source,"\\)$"].join(n.source),"i"),HSLA:new RegExp(["^hsla\\(",v.source,",",h.source,",",h.source,",",u.source,"\\)$"].join(n.source),"i"),HSB:new RegExp(["^hsb\\(",v.source,",",h.source,",",h.source,"\\)$"].join(n.source),"i"),HSBA:new RegExp(["^hsba\\(",v.source,",",h.source,",",h.source,",",u.source,"\\)$"].join(n.source),"i")},v=(r.default.Color._parseInputs=function(_,j,x,M){var E,C=arguments.length,R=this.mode,O=this.maxes[R],P=[];if(3<=C){for(P[0]=_/O[0],P[1]=j/O[1],P[2]=x/O[2],P[3]=typeof M=="number"?M/O[3]:1,E=P.length-1;0<=E;--E){var I=P[E];I<0?P[E]=0:1<I&&(P[E]=1)}return R===a.HSL?d.default._hslaToRGBA(P):R===a.HSB?d.default._hsbaToRGBA(P):P}if(C===1&&typeof _=="string"){if(x=_.trim().toLowerCase(),o[x])return r.default.Color._parseInputs.call(this,o[x]);if(p.HEX3.test(x))return(P=p.HEX3.exec(x).slice(1).map(function(N){return parseInt(N+N,16)/255}))[3]=1,P;if(p.HEX6.test(x))return(P=p.HEX6.exec(x).slice(1).map(function(N){return parseInt(N,16)/255}))[3]=1,P;if(p.HEX4.test(x))return P=p.HEX4.exec(x).slice(1).map(function(N){return parseInt(N+N,16)/255});if(p.HEX8.test(x))return P=p.HEX8.exec(x).slice(1).map(function(N){return parseInt(N,16)/255});if(p.RGB.test(x))return(P=p.RGB.exec(x).slice(1).map(function(N){return N/255}))[3]=1,P;if(p.RGB_PERCENT.test(x))return(P=p.RGB_PERCENT.exec(x).slice(1).map(function(N){return parseFloat(N)/100}))[3]=1,P;if(p.RGBA.test(x))return P=p.RGBA.exec(x).slice(1).map(function(N,U){return U===3?parseFloat(N):N/255});if(p.RGBA_PERCENT.test(x))return P=p.RGBA_PERCENT.exec(x).slice(1).map(function(N,U){return U===3?parseFloat(N):parseFloat(N)/100});if(p.HSL.test(x)?(P=p.HSL.exec(x).slice(1).map(function(N,U){return U===0?parseInt(N,10)/360:parseInt(N,10)/100}))[3]=1:p.HSLA.test(x)&&(P=p.HSLA.exec(x).slice(1).map(function(N,U){return U===0?parseInt(N,10)/360:U===3?parseFloat(N):parseInt(N,10)/100})),(P=P.map(function(N){return Math.max(Math.min(N,1),0)})).length)return d.default._hslaToRGBA(P);if(p.HSB.test(x)?(P=p.HSB.exec(x).slice(1).map(function(N,U){return U===0?parseInt(N,10)/360:parseInt(N,10)/100}))[3]=1:p.HSBA.test(x)&&(P=p.HSBA.exec(x).slice(1).map(function(N,U){return U===0?parseInt(N,10)/360:U===3?parseFloat(N):parseInt(N,10)/100})),P.length){for(E=P.length-1;0<=E;--E)P[E]=Math.max(Math.min(P[E],1),0);return d.default._hsbaToRGBA(P)}P=[1,1,1,1]}else{if(C!==1&&C!==2||typeof _!="number")throw new Error("".concat(arguments,"is not a valid color representation."));P[0]=_/O[2],P[1]=_/O[2],P[2]=_/O[2],P[3]=typeof j=="number"?j/O[3]:1,P=P.map(function(N){return Math.max(Math.min(N,1),0)})}return P},r.default.Color);y.default=v},{"../core/constants":256,"../core/main":267,"./color_conversion":252,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],255:[function(e,g,y){function l(s){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(s)}function i(s){return(i=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(o){return l(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":l(o)})(s)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.fill"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var r=(f=e("../core/main"))&&f.__esModule?f:{default:f},a=function(s){if(s&&s.__esModule)return s;if(s===null||i(s)!=="object"&&typeof s!="function")return{default:s};var o=d();if(o&&o.has(s))return o.get(s);var n,u={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in s){var p;Object.prototype.hasOwnProperty.call(s,n)&&((p=h?Object.getOwnPropertyDescriptor(s,n):null)&&(p.get||p.set)?Object.defineProperty(u,n,p):u[n]=s[n])}return u.default=s,o&&o.set(s,u),u}(e("../core/constants"));function d(){var s;return typeof WeakMap!="function"?null:(s=new WeakMap,d=function(){return s},s)}e("./p5.Color"),r.default.prototype.background=function(){var s;return(s=this._renderer).background.apply(s,arguments),this},r.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},r.default.prototype.colorMode=function(s,o,n,u,h){return r.default._validateParameters("colorMode",arguments),s!==a.RGB&&s!==a.HSB&&s!==a.HSL||(this._colorMode=s,s=this._colorMaxes[s],arguments.length===2?(s[0]=o,s[1]=o,s[2]=o,s[3]=o):arguments.length===4?(s[0]=o,s[1]=n,s[2]=u):arguments.length===5&&(s[0]=o,s[1]=n,s[2]=u,s[3]=h)),this},r.default.prototype.fill=function(){var s;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(s=this._renderer).fill.apply(s,arguments),this},r.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},r.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},r.default.prototype.stroke=function(){var s;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(s=this._renderer).stroke.apply(s,arguments),this},r.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},r.default.prototype.noErase=function(){return this._renderer.noErase(),this};var f=r.default;y.default=f},{"../core/constants":256,"../core/main":267,"./p5.Color":254,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],256:[function(e,g,y){Object.defineProperty(y,"__esModule",{value:!0}),y.BEZIER=y.QUADRATIC=y.LINEAR=y._CTX_MIDDLE=y._DEFAULT_LEADMULT=y._DEFAULT_TEXT_FILL=y.WORD=y.CHAR=y.BOLDITALIC=y.BOLD=y.ITALIC=y.NORMAL=y.BLUR=y.ERODE=y.DILATE=y.POSTERIZE=y.INVERT=y.OPAQUE=y.GRAY=y.THRESHOLD=y.BURN=y.DODGE=y.SOFT_LIGHT=y.HARD_LIGHT=y.OVERLAY=y.REPLACE=y.SCREEN=y.MULTIPLY=y.EXCLUSION=y.SUBTRACT=y.DIFFERENCE=y.LIGHTEST=y.DARKEST=y.ADD=y.REMOVE=y.BLEND=y.UP_ARROW=y.TAB=y.SHIFT=y.RIGHT_ARROW=y.RETURN=y.OPTION=y.LEFT_ARROW=y.ESCAPE=y.ENTER=y.DOWN_ARROW=y.DELETE=y.CONTROL=y.BACKSPACE=y.ALT=y.AUTO=y.HSL=y.HSB=y.RGB=y.MITER=y.BEVEL=y.ROUND=y.SQUARE=y.PROJECT=y.PIE=y.CHORD=y.OPEN=y.CLOSE=y.TESS=y.QUAD_STRIP=y.QUADS=y.TRIANGLE_STRIP=y.TRIANGLE_FAN=y.TRIANGLES=y.LINE_LOOP=y.LINE_STRIP=y.LINES=y.POINTS=y.BASELINE=y.BOTTOM=y.TOP=y.CENTER=y.LEFT=y.RIGHT=y.RADIUS=y.CORNERS=y.CORNER=y.RAD_TO_DEG=y.DEG_TO_RAD=y.RADIANS=y.DEGREES=y.TWO_PI=y.TAU=y.QUARTER_PI=y.PI=y.HALF_PI=y.WAIT=y.TEXT=y.MOVE=y.HAND=y.CROSS=y.ARROW=y.WEBGL=y.P2D=y.VERSION=void 0,y.COVER=y.CONTAIN=y.FALLBACK=y.LABEL=y.AXES=y.GRID=y._DEFAULT_FILL=y._DEFAULT_STROKE=y.PORTRAIT=y.LANDSCAPE=y.MIRROR=y.CLAMP=y.REPEAT=y.NEAREST=y.IMAGE=y.IMMEDIATE=y.TEXTURE=y.FILL=y.STROKE=y.CURVE=void 0;var l=Math.PI,i=(y.VERSION="1.5.0",y.P2D="p2d",y.WEBGL="webgl",y.ARROW="default",y.CROSS="crosshair",y.HAND="pointer",y.MOVE="move",y.TEXT="text",y.WAIT="wait",l/2),i=(y.HALF_PI=i,l),i=(y.PI=i,l/4),i=(y.QUARTER_PI=i,2*l),i=(y.TAU=i,2*l),i=(y.TWO_PI=i,y.DEGREES="degrees",y.RADIANS="radians",l/180),i=(y.DEG_TO_RAD=i,180/l);y.RAD_TO_DEG=i,y.CORNER="corner",y.CORNERS="corners",y.RADIUS="radius",y.RIGHT="right",y.LEFT="left",y.CENTER="center",y.TOP="top",y.BOTTOM="bottom",y.BASELINE="alphabetic",y.POINTS=0,y.LINES=1,y.LINE_STRIP=3,y.LINE_LOOP=2,y.TRIANGLES=4,y.TRIANGLE_FAN=6,y.TRIANGLE_STRIP=5,y.QUADS="quads",y.QUAD_STRIP="quad_strip",y.TESS="tess",y.CLOSE="close",y.OPEN="open",y.CHORD="chord",y.PIE="pie",y.PROJECT="square",y.SQUARE="butt",y.ROUND="round",y.BEVEL="bevel",y.MITER="miter",y.RGB="rgb",y.HSB="hsb",y.HSL="hsl",y.AUTO="auto",y.ALT=18,y.BACKSPACE=8,y.CONTROL=17,y.DELETE=46,y.DOWN_ARROW=40,y.ENTER=13,y.ESCAPE=27,y.LEFT_ARROW=37,y.OPTION=18,y.RETURN=13,y.RIGHT_ARROW=39,y.SHIFT=16,y.TAB=9,y.UP_ARROW=38,y.BLEND="source-over",y.REMOVE="destination-out",y.ADD="lighter",y.DARKEST="darken",y.LIGHTEST="lighten",y.DIFFERENCE="difference",y.SUBTRACT="subtract",y.EXCLUSION="exclusion",y.MULTIPLY="multiply",y.SCREEN="screen",y.REPLACE="copy",y.OVERLAY="overlay",y.HARD_LIGHT="hard-light",y.SOFT_LIGHT="soft-light",y.DODGE="color-dodge",y.BURN="color-burn",y.THRESHOLD="threshold",y.GRAY="gray",y.OPAQUE="opaque",y.INVERT="invert",y.POSTERIZE="posterize",y.DILATE="dilate",y.ERODE="erode",y.BLUR="blur",y.NORMAL="normal",y.ITALIC="italic",y.BOLD="bold",y.BOLDITALIC="bold italic",y.CHAR="CHAR",y.WORD="WORD",y._DEFAULT_TEXT_FILL="#000000",y._DEFAULT_LEADMULT=1.25,y._CTX_MIDDLE="middle",y.LINEAR="linear",y.QUADRATIC="quadratic",y.BEZIER="bezier",y.CURVE="curve",y.STROKE="stroke",y.FILL="fill",y.TEXTURE="texture",y.IMMEDIATE="immediate",y.IMAGE="image",y.NEAREST="nearest",y.REPEAT="repeat",y.CLAMP="clamp",y.MIRROR="mirror",y.LANDSCAPE="landscape",y.PORTRAIT="portrait",y._DEFAULT_STROKE="#000000",y._DEFAULT_FILL="#FFFFFF",y.GRID="grid",y.AXES="axes",y.LABEL="label",y.FALLBACK="fallback",y.CONTAIN="contain",y.COVER="cover"},{}],257:[function(e,g,y){function l(u){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(u)}function i(u){return(i=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(h){return l(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":l(h)})(u)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.search"),e("core-js/modules/es.string.split"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.search"),e("core-js/modules/es.string.split"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var r=(a=e("./main"))&&a.__esModule?a:{default:a},a=function(u){if(u&&u.__esModule)return u;if(u===null||i(u)!=="object"&&typeof u!="function")return{default:u};var h=d();if(h&&h.has(u))return h.get(u);var p,v={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in u){var j;Object.prototype.hasOwnProperty.call(u,p)&&((j=_?Object.getOwnPropertyDescriptor(u,p):null)&&(j.get||j.set)?Object.defineProperty(v,p,j):v[p]=u[p])}return v.default=u,h&&h.set(u,v),v}(e("./constants"));function d(){var u;return typeof WeakMap!="function"?null:(u=new WeakMap,d=function(){return u},u)}var f=[a.ARROW,a.CROSS,a.HAND,a.MOVE,a.TEXT,a.WAIT],s=(r.default.prototype._frameRate=0,r.default.prototype._lastFrameTime=window.performance.now(),r.default.prototype._targetFrameRate=60,window.print);function o(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function n(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}r.default.prototype.print=function(){var u;arguments.length?(u=console).log.apply(u,arguments):s()},r.default.prototype.frameCount=0,r.default.prototype.deltaTime=0,r.default.prototype.focused=document.hasFocus(),r.default.prototype.cursor=function(u,h,p){var v,_="auto",j=this._curElement.elt;f.includes(u)?_=u:typeof u=="string"&&(v="",h&&p&&typeof h=="number"&&typeof p=="number"&&(v="".concat(h," ").concat(p)),_=u.substring(0,7)==="http://"||u.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(u)?"url(".concat(u,") ").concat(v,", auto"):u),j.style.cursor=_},r.default.prototype.frameRate=function(u){return r.default._validateParameters("frameRate",arguments),typeof u!="number"||u<0?this._frameRate:(this._setProperty("_targetFrameRate",u),u===0&&this._setProperty("_frameRate",u),this)},r.default.prototype.getFrameRate=function(){return this.frameRate()},r.default.prototype.setFrameRate=function(u){return this.frameRate(u)},r.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},r.default.prototype.displayWidth=screen.width,r.default.prototype.displayHeight=screen.height,r.default.prototype.windowWidth=o(),r.default.prototype.windowHeight=n(),r.default.prototype._onresize=function(u){this._setProperty("windowWidth",o()),this._setProperty("windowHeight",n());var h=this._isGlobal?window:this;typeof h.windowResized!="function"||(h=h.windowResized(u))===void 0||h||u.preventDefault()},r.default.prototype.width=0,r.default.prototype.height=0,r.default.prototype.fullscreen=function(u){if(r.default._validateParameters("fullscreen",arguments),u===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(u){if(u=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");u.requestFullscreen?u.requestFullscreen():u.mozRequestFullScreen?u.mozRequestFullScreen():u.webkitRequestFullscreen?u.webkitRequestFullscreen():u.msRequestFullscreen&&u.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},r.default.prototype.pixelDensity=function(u){var h;return r.default._validateParameters("pixelDensity",arguments),typeof u=="number"?(u!==this._pixelDensity&&(this._pixelDensity=u),(h=this).resizeCanvas(this.width,this.height,!0)):h=this._pixelDensity,h},r.default.prototype.displayDensity=function(){return window.devicePixelRatio},r.default.prototype.getURL=function(){return location.href},r.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(u){return u!==""})},r.default.prototype.getURLParams=function(){for(var u,h=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,p={};(u=h.exec(location.search))!=null;)u.index===h.lastIndex&&h.lastIndex++,p[u[1]]=u[2];return p},e=r.default,y.default=e},{"./constants":256,"./main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.search":190,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],258:[function(e,g,y){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.get-own-property-names"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.search"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.get-own-property-names"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.search"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(f=e("../main"))&&f.__esModule?f:{default:f};e("../internationalization");function i(s,o){o=o||console.log.bind(console),r||d(),r.some(function(n){var u;if(s.message&&s.message.match("\\W?".concat(n.name,"\\W"))!==null)return u=n.type==="function"?"".concat(n.name,"()"):n.name,o("Did you just try to use p5.js's ".concat(u," ").concat(n.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(a)),!0})}var r=null,d=null,a=(l.default._friendlyError=l.default._checkForUserDefinedFunctions=l.default._fesErrorMonitor=function(){},r=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),d=function(){function s(n){return Object.getOwnPropertyNames(n).filter(function(u){return u[0]!=="_"&&!(u in o)&&(o[u]=!0)}).map(function(u){var h=typeof n[u]=="function"?"function":u===u.toUpperCase()?"constant":"variable";return{name:u,type:h}})}var o={};(r=[].concat(s(l.default.prototype),s(e("../constants")))).sort(function(n,u){return u.name.length-n.name.length})},f=(l.default.prototype._helpForMisusedAtTopLevelCode=i,document.readyState!=="complete"&&(window.addEventListener("error",i,!1),window.addEventListener("load",function(){window.removeEventListener("error",i,!1)})),l.default);y.default=f},{"../constants":256,"../internationalization":265,"../main":267,"./browser_errors":void 0,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.some":163,"core-js/modules/es.function.name":165,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.get-own-property-names":174,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.search":190,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230}],259:[function(e,g,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(l=e("../main"))&&l.__esModule?l:{default:l};e("../internationalization"),l.default._friendlyFileLoadError=function(){},e=l.default,y.default=e},{"../internationalization":265,"../main":267}],260:[function(e,g,y){function l(o){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function i(o){return(i=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(n){return l(n)}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":l(n)})(o)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var r=f(e("../main"));e("../internationalization"),d(e("../constants"));function a(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,a=function(){return o},o)}function d(o){if(o&&o.__esModule)return o;if(o===null||i(o)!=="object"&&typeof o!="function")return{default:o};var n=a();if(n&&n.has(o))return n.get(o);var u,h,p={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in o)Object.prototype.hasOwnProperty.call(o,u)&&((h=v?Object.getOwnPropertyDescriptor(o,u):null)&&(h.get||h.set)?Object.defineProperty(p,u,h):p[u]=o[u]);return p.default=o,n&&n.set(o,p),p}function f(o){return o&&o.__esModule?o:{default:o}}r.default._fesCodeReader=function(){};var s=r.default;y.default=s},{"../constants":256,"../internationalization":265,"../main":267,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.from":155,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.match":187,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230}],261:[function(e,g,y){e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,e=(e=e("../main"))&&e.__esModule?e:{default:e};function l(){var i=/(^|@)\S+:\d+/,r=/^\s*at .*(\S+:\d+|\(native\))/m,a=/^(eval@)?(\[native code])?$/;return{parse:function(d){return d.stacktrace!==void 0||d["opera#sourceloc"]!==void 0?this.parseOpera(d):d.stack&&d.stack.match(r)?this.parseV8OrIE(d):d.stack?this.parseFFOrSafari(d):void 0},extractLocation:function(d){return d.indexOf(":")===-1?[d]:[(d=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(d.replace(/[()]/g,"")))[1],d[2]||void 0,d[3]||void 0]},parseV8OrIE:function(d){return d.stack.split(`
`).filter(function(f){return!!f.match(r)},this).map(function(f){var s=(f=-1<f.indexOf("(eval ")?f.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):f).replace(/^\s+/,"").replace(/\(eval code/g,"("),o=s.match(/ (\((.+):(\d+):(\d+)\)$)/),s=(s=o?s.replace(o[0],""):s).split(/\s+/).slice(1),o=this.extractLocation(o?o[1]:s.pop());return{functionName:s.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(o[0])?void 0:o[0],lineNumber:o[1],columnNumber:o[2],source:f}},this)},parseFFOrSafari:function(d){return d.stack.split(`
`).filter(function(f){return!f.match(a)},this).map(function(f){var s,o;return(f=-1<f.indexOf(" > eval")?f.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):f).indexOf("@")===-1&&f.indexOf(":")===-1?{functionName:f}:{functionName:(o=f.match(s=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&o[1]?o[1]:void 0,fileName:(o=this.extractLocation(f.replace(s,"")))[0],lineNumber:o[1],columnNumber:o[2],source:f}},this)},parseOpera:function(d){return!d.stacktrace||-1<d.message.indexOf(`
`)&&d.message.split(`
`).length>d.stacktrace.split(`
`).length?this.parseOpera9(d):d.stack?this.parseOpera11(d):this.parseOpera10(d)},parseOpera9:function(d){for(var f=/Line (\d+).*script (?:in )?(\S+)/i,s=d.message.split(`
`),o=[],n=2,u=s.length;n<u;n+=2){var h=f.exec(s[n]);h&&o.push({fileName:h[2],lineNumber:h[1],source:s[n]})}return o},parseOpera10:function(d){for(var f=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,s=d.stacktrace.split(`
`),o=[],n=0,u=s.length;n<u;n+=2){var h=f.exec(s[n]);h&&o.push({functionName:h[3]||void 0,fileName:h[2],lineNumber:h[1],source:s[n]})}return o},parseOpera11:function(d){return d.stack.split(`
`).filter(function(f){return!!f.match(i)&&!f.match(/^Error created at/)},this).map(function(f){var s,n=f.split("@"),o=this.extractLocation(n.pop()),n=n.shift()||"";return{functionName:n.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:(s=n.match(/\(([^)]*)\)/)?n.replace(/^[^(]+\(([^)]*)\)$/,"$1"):s)===void 0||s==="[arguments not available]"?void 0:s.split(","),fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:f}},this)}}}e.default._getErrorStackParser=function(){return new l},e=e.default,y.default=e},{"../main":267,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191}],262:[function(e,g,y){function l(d){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(d)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.map"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.map"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var i=(i=e("../main"))&&i.__esModule?i:{default:i};(function(d){if(!(d&&d.__esModule)&&!(d===null||a(d)!=="object"&&typeof d!="function")){var f=r();if(f&&f.has(d))return f.get(d);var s,o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in d){var u;Object.prototype.hasOwnProperty.call(d,s)&&((u=n?Object.getOwnPropertyDescriptor(d,s):null)&&(u.get||u.set)?Object.defineProperty(o,s,u):o[s]=d[s])}o.default=d,f&&f.set(d,o)}})(e("../constants")),e("../internationalization");function r(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,r=function(){return d},d)}function a(d){return(a=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(f){return l(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":l(f)})(d)}i.default._validateParameters=i.default._clearValidateParamsCache=function(){},e=i.default,y.default=e},{"../../../docs/parameterData.json":void 0,"../constants":256,"../internationalization":265,"../main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":165,"core-js/modules/es.map":166,"core-js/modules/es.number.constructor":169,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.get-prototype-of":175,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.reflect.construct":179,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.set":183,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230}],263:[function(e,g,y){function l(d){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(d)}function i(d){return(i=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(f){return l(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":l(f)})(d)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var r=function(d){if(d&&d.__esModule)return d;if(d===null||i(d)!=="object"&&typeof d!="function")return{default:d};var f=a();if(f&&f.has(d))return f.get(d);var s,o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in d){var u;Object.prototype.hasOwnProperty.call(d,s)&&((u=n?Object.getOwnPropertyDescriptor(d,s):null)&&(u.get||u.set)?Object.defineProperty(o,s,u):o[s]=d[s])}return o.default=d,f&&f.set(d,o),o}(e("./constants"));function a(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,a=function(){return d},d)}y.default={modeAdjust:function(d,f,s,o,n){return n===r.CORNER?{x:d,y:f,w:s,h:o}:n===r.CORNERS?{x:d,y:f,w:s-d,h:o-f}:n===r.RADIUS?{x:d-s,y:f-o,w:2*s,h:2*o}:n===r.CENTER?{x:d-.5*s,y:f-.5*o,w:s,h:o}:void 0}}},{"./constants":256,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],264:[function(e,g,y){e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator");var l=(i=e("../core/main"))&&i.__esModule?i:{default:i};e("./internationalization");var i=Promise.resolve();Promise.all([new Promise(function(r,a){document.readyState==="complete"?r():window.addEventListener("load",r,!1)}),i]).then(function(){window._setupDone!==void 0?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!l.default.instance&&new l.default})},{"../core/main":267,"./internationalization":265,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.string.iterator":186,"core-js/modules/web.dom-collections.iterator":230}],265:[function(e,g,y){e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.setTranslatorLanguage=y.currentTranslatorLanguage=y.availableTranslatorLanguages=y.initialize=y.translator=void 0;var l,i,r=d(e("i18next")),a=d(e("i18next-browser-languagedetector"));function d(o){return o&&o.__esModule?o:{default:o}}function f(o,n){for(var u=0;u<n.length;u++){var h=n[u];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(o,h.key,h)}}var s=function(){function o(h,p){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");this.init(h,p)}var n,u;return n=o,(u=[{key:"fetchWithTimeout",value:function(h,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(h,p),new Promise(function(_,j){return setTimeout(function(){return j(new Error("timeout"))},v)})])}},{key:"init",value:function(h){var p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=h,this.options=p}},{key:"read",value:function(h,p,v){var _=this.options.loadPath;h===this.options.fallback?v(null,l[h][p]):i.includes(h)?(_=this.services.interpolator.interpolate(_,{lng:h,ns:p}),this.loadUrl(_,v)):v("Not found",!1)}},{key:"loadUrl",value:function(h,p){this.fetchWithTimeout(h).then(function(v){if(v.ok)return v.json();throw new Error("failed loading ".concat(h))},function(){throw new Error("failed loading ".concat(h))}).then(function(v){return p(null,v)}).catch(p)}}])&&f(n.prototype,u),o}();s.type="backend",y.translator=function(o,n){console.debug("p5.js translator called before translations were loaded"),r.default.t(o,n)},y.initialize=function(){return r.default.use(a.default).use(s).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:l}).then(function(o){y.translator=o},function(o){return console.debug("Translations failed to load (".concat(o,")"))})},y.availableTranslatorLanguages=function(){return r.default.languages},y.currentTranslatorLanguage=function(o){return r.default.language},y.setTranslatorLanguage=function(o){return r.default.changeLanguage(o||void 0,function(n){return console.debug("Translations failed to load (".concat(n,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/web.dom-collections.iterator":230,i18next:3,"i18next-browser-languagedetector":3}],266:[function(e,g,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,e=(e=e("./main"))&&e.__esModule?e:{default:e},e.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},e.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},e.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},e.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},e=e.default,y.default=e},{"./main":267}],267:[function(e,g,y){function l(o){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function i(o){return(i=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(n){return l(n)}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":l(n)})(o)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.get-own-property-names"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-names"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,e("./shim");var r=function(o){if(o&&o.__esModule)return o;if(o===null||i(o)!=="object"&&typeof o!="function")return{default:o};var n=a();if(n&&n.has(o))return n.get(o);var u,h={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in o){var v;Object.prototype.hasOwnProperty.call(o,u)&&((v=p?Object.getOwnPropertyDescriptor(o,u):null)&&(v.get||v.set)?Object.defineProperty(h,u,v):h[u]=o[u])}return h.default=o,n&&n.set(o,h),h}(e("./constants"));function a(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,a=function(){return o},o)}function d(o,n){for(var u=0;u<n.length;u++){var h=n[u];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(o,h.key,h)}}var f,s=function(){function o(h,j,v){var _=this;if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=j,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var j=Object.getOwnPropertyNames(o.prototype._registeredMethods),x=!0,M=!1,E=void 0;try{for(var C,R=j[Symbol.iterator]();!(x=(C=R.next()).done);x=!0){var O=C.value;this._registeredMethods[O]=o.prototype._registeredMethods[O].slice()}}catch(G){M=!0,E=G}finally{try{x||R.return==null||R.return()}finally{if(M)throw E}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),this._start=function(){_._userNode&&typeof _._userNode=="string"&&(_._userNode=document.getElementById(_._userNode));var G=_._isGlobal?window:_;if(G.preload){var X,$=document.getElementById(_._loadingScreenId),ne=($||(($=document.createElement("div")).innerHTML="Loading...",$.style.position="absolute",$.id=_._loadingScreenId,(_._userNode||document.body).appendChild($)),_._preloadMethods);for(X in ne){ne[X]=ne[X]||o;var k=ne[X];k!==o.prototype&&k!==o||(_._isGlobal&&(window[X]=_._wrapPreload(_,X)),k=_),_._registeredPreloadMethods[X]=k[X],k[X]=_._wrapPreload(k,X)}G.preload(),_._runIfPreloadsAreDone()}else _._setup(),_._draw()},this._runIfPreloadsAreDone=function(){var G,X=this._isGlobal?window:this;X._preloadCount===0&&((G=document.getElementById(X._loadingScreenId))&&G.parentNode.removeChild(G),this._setupDone||(this._lastFrameTime=window.performance.now(),X._setup(),X._draw()))},this._decrementPreload=function(){var G=this._isGlobal?window:this;G._preloadDone||typeof G.preload!="function"||(G._setProperty("_preloadCount",G._preloadCount-1),G._runIfPreloadsAreDone())},this._wrapPreload=function(G,X){var $=this;return function(){$._incrementPreload();for(var ne=arguments.length,k=new Array(ne),L=0;L<ne;L++)k[L]=arguments[L];return $._registeredPreloadMethods[X].apply(G,k)}},this._incrementPreload=function(){var G=this._isGlobal?window:this;G._preloadDone||G._setProperty("_preloadCount",G._preloadCount+1)},this._setup=function(){_.createCanvas(_._defaultCanvasSize.width,_._defaultCanvasSize.height,"p2d");var G=_._isGlobal?window:_;if(typeof G.preload=="function")for(var X in _._preloadMethods)G[X]=_._preloadMethods[X][X],G[X]&&_&&(G[X]=G[X].bind(_));_._millisStart=window.performance.now(),G._preloadDone=!0,typeof G.setup=="function"&&G.setup();var $=document.getElementsByTagName("canvas"),ne=!0,k=!1,L=void 0;try{for(var F,H=$[Symbol.iterator]();!(ne=(F=H.next()).done);ne=!0){var ee=F.value;ee.dataset.hidden==="true"&&(ee.style.visibility="",delete ee.dataset.hidden)}}catch(re){k=!0,L=re}finally{try{ne||H.return==null||H.return()}finally{if(k)throw L}}_._lastFrameTime=window.performance.now(),_._setupDone=!0,(_._accessibleOutputs.grid||_._accessibleOutputs.text)&&_._updateAccsOutput()},this._draw=function(){var G=window.performance.now(),X=G-_._lastFrameTime,$=1e3/_._targetFrameRate;(!_._loop||$-5<=X)&&(_.redraw(),_._frameRate=1e3/(G-_._lastFrameTime),_.deltaTime=G-_._lastFrameTime,_._setProperty("deltaTime",_.deltaTime),_._lastFrameTime=G,_._updateMouseCoords!==void 0&&(_._updateMouseCoords(),_._setProperty("movedX",0),_._setProperty("movedY",0))),_._loop&&(_._requestAnimId=window.requestAnimationFrame(_._draw))},this._setProperty=function(G,X){_[G]=X,_._isGlobal&&(window[G]=X)},this.remove=function(){var G=document.getElementById(_._loadingScreenId);if(G&&(G.parentNode.removeChild(G),_._incrementPreload()),_._curElement){for(var X in _._loop=!1,_._requestAnimId&&window.cancelAnimationFrame(_._requestAnimId),_._events)window.removeEventListener(X,_._events[X]);var $=!0,G=!1,ne=void 0;try{for(var k,L=_._elements[Symbol.iterator]();!($=(k=L.next()).done);$=!0){var F,H=k.value;for(F in H.elt&&H.elt.parentNode&&H.elt.parentNode.removeChild(H.elt),H._events)H.elt.removeEventListener(F,H._events[F])}}catch(ae){G=!0,ne=ae}finally{try{$||L.return==null||L.return()}finally{if(G)throw ne}}var ee=_;_._registeredMethods.remove.forEach(function(ae){ae!==void 0&&ae.call(ee)})}if(_._isGlobal){for(var re in o.prototype)try{delete window[re]}catch{window[re]=void 0}for(var le in _)if(_.hasOwnProperty(le))try{delete window[le]}catch{window[le]=void 0}o.instance=null}},this._registeredMethods.init.forEach(function(G){G!==void 0&&G.call(this)},this),this._setupPromisePreloads();var P,I,N=this._createFriendlyGlobalFunctionBinder();if(h)h(this),o._checkForUserDefinedFunctions(this);else{for(var U in this._isGlobal=!0,o.instance=this,o.prototype)typeof o.prototype[U]=="function"?(P=U.substring(2),this._events.hasOwnProperty(P)||(Math.hasOwnProperty(U)&&Math[U]===o.prototype[U]?N(U,o.prototype[U]):N(U,o.prototype[U].bind(this)))):N(U,o.prototype[U]);for(var W in this)this.hasOwnProperty(W)&&N(W,this[W])}for(I in this._events){var z=this["_on".concat(I)];z&&(z=z.bind(this),window.addEventListener(I,z,{passive:!1}),this._events[I]=z)}function q(){_._setProperty("focused",!0)}function Y(){_._setProperty("focused",!1)}window.addEventListener("focus",q),window.addEventListener("blur",Y),this.registerMethod("remove",function(){window.removeEventListener("focus",q),window.removeEventListener("blur",Y)}),document.readyState==="complete"?this._start():window.addEventListener("load",this._start.bind(this),!1)}var n,u;return n=o,(u=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=r.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(h,p){o.prototype._preloadMethods.hasOwnProperty(h)||(o.prototype._preloadMethods[h]=p)}},{key:"registerMethod",value:function(h,p){var v=this||o.prototype;v._registeredMethods.hasOwnProperty(h)||(v._registeredMethods[h]=[]),v._registeredMethods[h].push(p)}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var h=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},p=h.globalObject||window;return h.log||console.log.bind(console),function(v,_){o.disableFriendlyErrors,p[v]=_}}}])&&d(n.prototype,u),o}();for(f in s.instance=null,s.disableFriendlyErrors=!1,r)s.prototype[f]=r[f];s.VERSION=r.VERSION,s.prototype._preloadMethods={loadJSON:s.prototype,loadImage:s.prototype,loadStrings:s.prototype,loadXML:s.prototype,loadBytes:s.prototype,loadTable:s.prototype,loadFont:s.prototype,loadModel:s.prototype,loadShader:s.prototype},s.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},s.prototype._registeredPreloadMethods={},y.default=s},{"./constants":256,"./shim":278,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.get-own-property-names":174,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230}],268:[function(e,g,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(e=e("./main"))&&e.__esModule?e:{default:e};l.default.Element=function(i,r){this.elt=i,this._pInst=this._pixelsState=r,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight},l.default.Element.prototype.parent=function(i){return i===void 0?this.elt.parentNode:(typeof i=="string"?(i[0]==="#"&&(i=i.substring(1)),i=document.getElementById(i)):i instanceof l.default.Element&&(i=i.elt),i.appendChild(this.elt),this)},l.default.Element.prototype.id=function(i){return i===void 0?this.elt.id:(this.elt.id=i,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)},l.default.Element.prototype.class=function(i){return i===void 0?this.elt.className:(this.elt.className=i,this)},l.default.Element.prototype.mousePressed=function(i){return l.default.Element._adjustListener("mousedown",function(r){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(r),i.call(this,r)},this),this},l.default.Element.prototype.doubleClicked=function(i){return l.default.Element._adjustListener("dblclick",i,this),this},l.default.Element.prototype.mouseWheel=function(i){return l.default.Element._adjustListener("wheel",i,this),this},l.default.Element.prototype.mouseReleased=function(i){return l.default.Element._adjustListener("mouseup",i,this),this},l.default.Element.prototype.mouseClicked=function(i){return l.default.Element._adjustListener("click",i,this),this},l.default.Element.prototype.mouseMoved=function(i){return l.default.Element._adjustListener("mousemove",i,this),this},l.default.Element.prototype.mouseOver=function(i){return l.default.Element._adjustListener("mouseover",i,this),this},l.default.Element.prototype.mouseOut=function(i){return l.default.Element._adjustListener("mouseout",i,this),this},l.default.Element.prototype.touchStarted=function(i){return l.default.Element._adjustListener("touchstart",i,this),this},l.default.Element.prototype.touchMoved=function(i){return l.default.Element._adjustListener("touchmove",i,this),this},l.default.Element.prototype.touchEnded=function(i){return l.default.Element._adjustListener("touchend",i,this),this},l.default.Element.prototype.dragOver=function(i){return l.default.Element._adjustListener("dragover",i,this),this},l.default.Element.prototype.dragLeave=function(i){return l.default.Element._adjustListener("dragleave",i,this),this},l.default.Element._adjustListener=function(i,r,a){return r===!1?l.default.Element._detachListener(i,a):l.default.Element._attachListener(i,r,a),this},l.default.Element._attachListener=function(i,r,a){a._events[i]&&l.default.Element._detachListener(i,a),r=r.bind(a),a.elt.addEventListener(i,r,!1),a._events[i]=r},l.default.Element._detachListener=function(i,r){var a=r._events[i];r.elt.removeEventListener(i,a,!1),r._events[i]=null},l.default.Element.prototype._setProperty=function(i,r){this[i]=r},e=l.default.Element,y.default=e},{"./main":267}],269:[function(e,g,y){function l(s){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(s)}function i(s){return(i=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(o){return l(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":l(o)})(s)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.splice"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var r=(f=e("./main"))&&f.__esModule?f:{default:f},a=function(s){if(s&&s.__esModule)return s;if(s===null||i(s)!=="object"&&typeof s!="function")return{default:s};var o=d();if(o&&o.has(s))return o.get(s);var n,u={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in s){var p;Object.prototype.hasOwnProperty.call(s,n)&&((p=h?Object.getOwnPropertyDescriptor(s,n):null)&&(p.get||p.set)?Object.defineProperty(u,n,p):u[n]=s[n])}return u.default=s,o&&o.set(s,u),u}(e("./constants"));function d(){var s;return typeof WeakMap!="function"?null:(s=new WeakMap,d=function(){return s},s)}r.default.Graphics=function(s,o,p,u){var h,p=p||a.P2D;for(h in this.canvas=document.createElement("canvas"),(u._userNode||document.body).appendChild(this.canvas),r.default.Element.call(this,this.canvas,u),r.default.prototype)this[h]||(typeof r.default.prototype[h]=="function"?this[h]=r.default.prototype[h].bind(this):this[h]=r.default.prototype[h]);return r.default.prototype._initializeInstanceVariables.apply(this),this.width=s,this.height=o,this._pixelDensity=u._pixelDensity,p===a.WEBGL?this._renderer=new r.default.RendererGL(this.canvas,this,!1):this._renderer=new r.default.Renderer2D(this.canvas,this,!1),u._elements.push(this),Object.defineProperty(this,"deltaTime",{get:function(){return this._pInst.deltaTime}}),this._renderer.resize(s,o),this._renderer._applyDefaults(),this},r.default.Graphics.prototype=Object.create(r.default.Element.prototype),r.default.Graphics.prototype.reset=function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()},r.default.Graphics.prototype.remove=function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var s,o=this._pInst._elements.indexOf(this);for(s in o!==-1&&this._pInst._elements.splice(o,1),this._events)this.elt.removeEventListener(s,this._events[s])};var f=r.default.Graphics;y.default=f},{"./constants":256,"./main":267,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],270:[function(e,g,y){function l(o){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var i=(s=e("./main"))&&s.__esModule?s:{default:s},r=function(o){if(o&&o.__esModule)return o;if(o===null||d(o)!=="object"&&typeof o!="function")return{default:o};var n=a();if(n&&n.has(o))return n.get(o);var u,h={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in o){var v;Object.prototype.hasOwnProperty.call(o,u)&&((v=p?Object.getOwnPropertyDescriptor(o,u):null)&&(v.get||v.set)?Object.defineProperty(h,u,v):h[u]=o[u])}return h.default=o,n&&n.set(o,h),h}(e("../core/constants"));function a(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,a=function(){return o},o)}function d(o){return(d=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(n){return l(n)}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":l(n)})(o)}function f(o){var n=0,u=0;if(o.offsetParent)for(;n+=o.offsetLeft,u+=o.offsetTop,o=o.offsetParent;);else n+=o.offsetLeft,u+=o.offsetTop;return[n,u]}i.default.Renderer=function(o,n,u){i.default.Element.call(this,o,n),this.canvas=o,this._pixelsState=n,u?(this._isMainCanvas=!0,this._pInst._setProperty("_curElement",this),this._pInst._setProperty("canvas",this.canvas),this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height)):(this.canvas.style.display="none",this._styles=[]),this._textSize=12,this._textLeading=15,this._textFont="sans-serif",this._textStyle=r.NORMAL,this._textAscent=null,this._textDescent=null,this._textAlign=r.LEFT,this._textBaseline=r.BASELINE,this._textWrap=r.WORD,this._rectMode=r.CORNER,this._ellipseMode=r.CENTER,this._curveTightness=0,this._imageMode=r.CORNER,this._tint=null,this._doStroke=!0,this._doFill=!0,this._strokeSet=!1,this._fillSet=!1,this._leadingSet=!1},i.default.Renderer.prototype=Object.create(i.default.Element.prototype),i.default.Renderer.prototype.push=function(){return{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}},i.default.Renderer.prototype.pop=function(o){o.properties&&Object.assign(this,o.properties)},i.default.Renderer.prototype.resize=function(o,n){this.width=o,this.height=n,this.elt.width=o*this._pInst._pixelDensity,this.elt.height=n*this._pInst._pixelDensity,this.elt.style.width="".concat(o,"px"),this.elt.style.height="".concat(n,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))},i.default.Renderer.prototype.get=function(o,n,u,h){var p=this._pixelsState,v=p._pixelDensity,_=this.canvas;if(o===void 0&&n===void 0)o=n=0,u=p.width,h=p.height;else if(o*=v,n*=v,u===void 0&&h===void 0)return o<0||n<0||o>=_.width||n>=_.height?[0,0,0,0]:this._getPixel(o,n);return p=new i.default.Image(u,h),p.canvas.getContext("2d").drawImage(_,o,n,u*v,h*v,0,0,u,h),p},i.default.Renderer.prototype.textLeading=function(o){return typeof o=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",o),this._pInst):this._textLeading},i.default.Renderer.prototype.textSize=function(o){return typeof o=="number"?(this._setProperty("_textSize",o),this._leadingSet||this._setProperty("_textLeading",o*r._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},i.default.Renderer.prototype.textStyle=function(o){return o?(o!==r.NORMAL&&o!==r.ITALIC&&o!==r.BOLD&&o!==r.BOLDITALIC||this._setProperty("_textStyle",o),this._applyTextProperties()):this._textStyle},i.default.Renderer.prototype.textAscent=function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent},i.default.Renderer.prototype.textDescent=function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent},i.default.Renderer.prototype.textAlign=function(o,n){return o!==void 0?(this._setProperty("_textAlign",o),n!==void 0&&this._setProperty("_textBaseline",n),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}},i.default.Renderer.prototype.textWrap=function(o){return this._setProperty("_textWrap",o),this._textWrap},i.default.Renderer.prototype.text=function(o,n,u,h,p){var v,_,j,x,M=this._pInst,E=this._textWrap,C=Number.MAX_VALUE,R=u;if((this._doFill||this._doStroke)&&o!==void 0){if(v=(o=(o=typeof o!="string"?o.toString():o).replace(/(\t)/g,"  ")).split(`
`),h!==void 0){switch(this._rectMode===r.CENTER&&(n-=h/2),this._textAlign){case r.CENTER:n+=h/2;break;case r.RIGHT:n+=h}if(p!==void 0){this._rectMode===r.CENTER&&(u-=p/2);var o=u,O=M.textAscent();switch(this._textBaseline){case r.BOTTOM:x=u+p,u=Math.max(x,u),R+=O;break;case r.CENTER:x=u+p/2,u=Math.max(x,u),R+=O/2}C=u+p-O,this._textBaseline===r.CENTER&&(C=o+p-O/2)}else{if(this._textBaseline===r.BOTTOM)return console.warn("textAlign(*, BOTTOM) requires x, y, width and height");if(this._textBaseline===r.CENTER)return console.warn("textAlign(*, CENTER) requires x, y, width and height")}if(E===r.WORD){for(var P=[],I=0;I<v.length;I++){for(var N="",U=v[I].split(" "),W=0;W<U.length;W++)_="".concat(N+U[W])+" ",N=h<(j=this.textWidth(_))&&0<N.length?(P.push(N),"".concat(U[W])+" "):_;P.push(N)}var z=0;this._textBaseline===r.CENTER?z=(P.length-1)*M.textLeading()/2:this._textBaseline===r.BOTTOM&&(z=(P.length-1)*M.textLeading());for(var q=0;q<v.length;q++){N="",U=v[q].split(" ");for(var Y=0;Y<U.length;Y++)_="".concat(N+U[Y])+" ",h<(j=this.textWidth(_))&&0<N.length?(this._renderText(M,N.trim(),n,u-z,C,R),N="".concat(U[Y])+" ",u+=M.textLeading()):N=_;this._renderText(M,N.trim(),n,u-z,C,R),u+=M.textLeading()}}else{for(var G=[],X=0;X<v.length;X++)for(var $=v[X].split(N=""),ne=0;ne<$.length;ne++)_="".concat(N+$[ne]),(j=this.textWidth(_))<=h?N+=$[ne]:h<j&&0<N.length&&(G.push(N),N="".concat($[ne]));G.push(N);var k=0;this._textBaseline===r.CENTER?k=(G.length-1)*M.textLeading()/2:this._textBaseline===r.BOTTOM&&(k=(G.length-1)*M.textLeading());for(var L=0;L<v.length;L++){$=v[L].split(N="");for(var F=0;F<$.length;F++)_="".concat(N+$[F]),(j=this.textWidth(_))<=h?N+=$[F]:h<j&&0<N.length&&(this._renderText(M,N.trim(),n,u-k,C,R),u+=M.textLeading(),N="".concat($[F]))}this._renderText(M,N.trim(),n,u-k,C,R),u+=M.textLeading()}}else{var H=0;this._textBaseline===r.CENTER?H=(v.length-1)*M.textLeading()/2:this._textBaseline===r.BOTTOM&&(H=(v.length-1)*M.textLeading());for(var ee=0;ee<v.length;ee++)this._renderText(M,v[ee],n,u-H,C,R),u+=M.textLeading()}return M}},i.default.Renderer.prototype._applyDefaults=function(){return this},i.default.Renderer.prototype._isOpenType=function(){var o=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return d(o)==="object"&&o.font&&o.font.supported},i.default.Renderer.prototype._updateTextMetrics=function(){var o,n,u,h,p,v;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((o=document.createElement("span")).style.fontFamily=this._textFont,o.style.fontSize="".concat(this._textSize,"px"),o.innerHTML="ABCjgq|",(v=document.createElement("div")).style.display="inline-block",v.style.width="1px",v.style.height="0px",h=((n=document.createElement("div")).appendChild(o),n.appendChild(v),n.style.height="0px",n.style.overflow="hidden",document.body.appendChild(n),v.style.verticalAlign="baseline",f(v)),p=f(o),u=h[1]-p[1],h=(v.style.verticalAlign="bottom",f(v)),p=f(o),v=h[1]-p[1]-u,document.body.removeChild(n),this._setProperty("_textAscent",u),this._setProperty("_textDescent",v)),this};var s=i.default.Renderer;y.default=s},{"../core/constants":256,"./main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.number.constructor":169,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],271:[function(e,g,y){function l(o){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function i(o){return(i=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(n){return l(n)}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":l(n)})(o)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var r=(s=e("./main"))&&s.__esModule?s:{default:s},a=function(o){if(o&&o.__esModule)return o;if(o===null||i(o)!=="object"&&typeof o!="function")return{default:o};var n=d();if(n&&n.has(o))return n.get(o);var u,h={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in o){var v;Object.prototype.hasOwnProperty.call(o,u)&&((v=p?Object.getOwnPropertyDescriptor(o,u):null)&&(v.get||v.set)?Object.defineProperty(h,u,v):h[u]=o[u])}return h.default=o,n&&n.set(o,h),h}(e("./constants"));function d(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,d=function(){return o},o)}e("./p5.Renderer");var f="rgba(0,0,0,0)",s=(r.default.Renderer2D=function(o,n,u){return r.default.Renderer.call(this,o,n,u),this.drawingContext=this.canvas.getContext("2d"),this._pInst._setProperty("drawingContext",this.drawingContext),this},r.default.Renderer2D.prototype=Object.create(r.default.Renderer.prototype),r.default.Renderer2D.prototype._applyDefaults=function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=a.BLEND,this._setFill(a._DEFAULT_FILL),this._setStroke(a._DEFAULT_STROKE),this.drawingContext.lineCap=a.ROUND,this.drawingContext.font="normal 12px sans-serif"},r.default.Renderer2D.prototype.resize=function(o,n){r.default.Renderer.prototype.resize.call(this,o,n),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)},r.default.Renderer2D.prototype.background=function(){var o,n;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof r.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(o=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(o,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(o=this._getFill(),n=(n=this._pInst).color.apply(n,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(n.levels),n=n.toString(),this._setFill(n),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(o),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()},r.default.Renderer2D.prototype.clear=function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()},r.default.Renderer2D.prototype.fill=function(){var o=(o=this._pInst).color.apply(o,arguments);this._setFill(o.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",o.levels)},r.default.Renderer2D.prototype.stroke=function(){var o=(o=this._pInst).color.apply(o,arguments);this._setStroke(o.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",o.levels)},r.default.Renderer2D.prototype.erase=function(o,n){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,o=this._pInst.color(255,o).toString(),this.drawingContext.fillStyle=o,this._cachedStrokeStyle=this.drawingContext.strokeStyle,o=this._pInst.color(255,n).toString(),this.drawingContext.strokeStyle=o,n=this._cachedBlendMode,this.blendMode(a.REMOVE),this._cachedBlendMode=n,this._isErasing=!0)},r.default.Renderer2D.prototype.noErase=function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)},r.default.Renderer2D.prototype.image=function(o,n,u,h,p,v,_,j,x){o.gifProperties&&o._animateGif(this._pInst);try{var M=(M=this._tint&&o.canvas?this._getTintedImageCanvas(o):M)||o.canvas||o.elt,E=1;o.width&&0<o.width&&(E=M.width/o.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(M,E*n,E*u,E*h,E*p,v,_,j,x),this._isErasing&&this._pInst.erase()}catch(C){if(C.name!=="NS_ERROR_NOT_AVAILABLE")throw C}},r.default.Renderer2D.prototype._getTintedImageCanvas=function(o){if(!o.canvas)return o;o.tintCanvas||(o.tintCanvas=document.createElement("canvas")),o.tintCanvas.width!==o.canvas.width&&(o.tintCanvas.width=o.canvas.width),o.tintCanvas.height!==o.canvas.height&&(o.tintCanvas.height=o.canvas.height);var n=o.tintCanvas.getContext("2d");return n.save(),n.clearRect(0,0,o.canvas.width,o.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(n.drawImage(o.canvas,0,0),n.globalCompositeOperation="luminosity",n.drawImage(o.canvas,0,0),n.globalCompositeOperation="color",n.drawImage(o.canvas,0,0),n.globalCompositeOperation="multiply",n.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),n.fillRect(0,0,o.canvas.width,o.canvas.height),n.globalCompositeOperation="destination-in"),n.globalAlpha=this._tint[3]/255,n.drawImage(o.canvas,0,0),n.restore(),o.tintCanvas},r.default.Renderer2D.prototype.blendMode=function(o){if(o===a.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(o!==a.BLEND&&o!==a.REMOVE&&o!==a.DARKEST&&o!==a.LIGHTEST&&o!==a.DIFFERENCE&&o!==a.MULTIPLY&&o!==a.EXCLUSION&&o!==a.SCREEN&&o!==a.REPLACE&&o!==a.OVERLAY&&o!==a.HARD_LIGHT&&o!==a.SOFT_LIGHT&&o!==a.DODGE&&o!==a.BURN&&o!==a.ADD)throw new Error("Mode ".concat(o," not recognized."));this._cachedBlendMode=o,this.drawingContext.globalCompositeOperation=o}},r.default.Renderer2D.prototype.blend=function(){for(var o=this.drawingContext.globalCompositeOperation,n=arguments.length,u=new Array(n),h=0;h<n;h++)u[h]=arguments[h];var p=u[u.length-1],v=Array.prototype.slice.call(u,0,u.length-1);this.drawingContext.globalCompositeOperation=p,r.default.prototype.copy.apply(this,v),this.drawingContext.globalCompositeOperation=o},r.default.Renderer2D.prototype._getPixel=function(o,n){return o=this.drawingContext.getImageData(o,n,1,1).data,[o[0],o[1],o[2],o[3]]},r.default.Renderer2D.prototype.loadPixels=function(){var o=this._pixelsState,n=o._pixelDensity,u=this.width*n,n=this.height*n,u=this.drawingContext.getImageData(0,0,u,n);o._setProperty("imageData",u),o._setProperty("pixels",u.data)},r.default.Renderer2D.prototype.set=function(o,n,u){o=Math.floor(o),n=Math.floor(n);var h=this._pixelsState;if(u instanceof r.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(h._pixelDensity,h._pixelDensity),this.drawingContext.clearRect(o,n,u.width,u.height),this.drawingContext.drawImage(u.canvas,o,n),this.drawingContext.restore();else{var p=0,v=0,_=0,j=0,x=4*(n*h._pixelDensity*(this.width*h._pixelDensity)+o*h._pixelDensity);if(h.imageData||h.loadPixels.call(h),typeof u=="number")x<h.pixels.length&&(_=v=p=u,j=255);else if(u instanceof Array){if(u.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");x<h.pixels.length&&(p=u[0],v=u[1],_=u[2],j=u[3])}else u instanceof r.default.Color&&x<h.pixels.length&&(p=u.levels[0],v=u.levels[1],_=u.levels[2],j=u.levels[3]);for(var M=0;M<h._pixelDensity;M++)for(var E=0;E<h._pixelDensity;E++)x=4*((n*h._pixelDensity+E)*this.width*h._pixelDensity+(o*h._pixelDensity+M)),h.pixels[x]=p,h.pixels[x+1]=v,h.pixels[x+2]=_,h.pixels[x+3]=j}},r.default.Renderer2D.prototype.updatePixels=function(o,n,u,h){var p=this._pixelsState,v=p._pixelDensity;o===void 0&&n===void 0&&u===void 0&&h===void 0&&(n=o=0,u=this.width,h=this.height),o*=v,n*=v,u*=v,h*=v,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=p.imageData),this.drawingContext.putImageData(p.imageData,o,n,0,0,u,h)},r.default.Renderer2D.prototype._acuteArcToBezier=function(o,n){var v=n/2,u=Math.cos(v),j=Math.sin(v),h=1/Math.tan(v),v=o+v,p=Math.cos(v),v=Math.sin(v),_=(4-u)/3,j=j+(u-_)*h;return{ax:Math.cos(o).toFixed(7),ay:Math.sin(o).toFixed(7),bx:(_*p+j*v).toFixed(7),by:(_*v-j*p).toFixed(7),cx:(_*p-j*v).toFixed(7),cy:(_*v+j*p).toFixed(7),dx:Math.cos(o+n).toFixed(7),dy:Math.sin(o+n).toFixed(7)}},r.default.Renderer2D.prototype.arc=function(o,n,u,h,p,v,_){var j,x=this.drawingContext,M=u/2,E=h/2,C=[];for(o+=M,n+=E;1e-5<=v-p;)j=Math.min(v-p,a.HALF_PI),C.push(this._acuteArcToBezier(p,j)),p+=j;return this._doFill&&(x.beginPath(),C.forEach(function(R,O){O===0&&x.moveTo(o+R.ax*M,n+R.ay*E),x.bezierCurveTo(o+R.bx*M,n+R.by*E,o+R.cx*M,n+R.cy*E,o+R.dx*M,n+R.dy*E)}),_!==a.PIE&&_!=null||x.lineTo(o,n),x.closePath(),x.fill()),this._doStroke&&(x.beginPath(),C.forEach(function(R,O){O===0&&x.moveTo(o+R.ax*M,n+R.ay*E),x.bezierCurveTo(o+R.bx*M,n+R.by*E,o+R.cx*M,n+R.cy*E,o+R.dx*M,n+R.dy*E)}),_===a.PIE?(x.lineTo(o,n),x.closePath()):_===a.CHORD&&x.closePath(),x.stroke()),this},r.default.Renderer2D.prototype.ellipse=function(C){var n=this.drawingContext,u=this._doFill,h=this._doStroke,p=parseFloat(C[0]),v=parseFloat(C[1]),E=parseFloat(C[2]),C=parseFloat(C[3]);if(u&&!h){if(this._getFill()===f)return this}else if(!u&&h&&this._getStroke()===f)return this;var _=E/2*.5522847498,j=C/2*.5522847498,x=p+E,M=v+C,E=p+E/2,C=v+C/2;n.beginPath(),n.moveTo(p,C),n.bezierCurveTo(p,C-j,E-_,v,E,v),n.bezierCurveTo(E+_,v,x,C-j,x,C),n.bezierCurveTo(x,C+j,E+_,M,E,M),n.bezierCurveTo(E-_,M,p,C+j,p,C),u&&n.fill(),h&&n.stroke()},r.default.Renderer2D.prototype.line=function(o,n,u,h){var p=this.drawingContext;return this._doStroke&&this._getStroke()!==f&&(p.beginPath(),p.moveTo(o,n),p.lineTo(u,h),p.stroke()),this},r.default.Renderer2D.prototype.point=function(o,n){var u,h,p=this.drawingContext;return!this._doStroke||this._getStroke()===f?this:(u=this._getStroke(),h=this._getFill(),this._setFill(u),p.beginPath(),p.arc(o,n,p.lineWidth/2,0,a.TWO_PI,!1),p.fill(),void this._setFill(h))},r.default.Renderer2D.prototype.quad=function(o,n,u,h,p,v,_,j){var x=this.drawingContext,M=this._doFill,E=this._doStroke;if(M&&!E){if(this._getFill()===f)return this}else if(!M&&E&&this._getStroke()===f)return this;return x.beginPath(),x.moveTo(o,n),x.lineTo(u,h),x.lineTo(p,v),x.lineTo(_,j),x.closePath(),M&&x.fill(),E&&x.stroke(),this},r.default.Renderer2D.prototype.rect=function(E){var n,u,h=E[0],p=E[1],v=E[2],_=E[3],j=E[4],x=E[5],M=E[6],E=E[7],C=this.drawingContext,R=this._doFill,O=this._doStroke;if(R&&!O){if(this._getFill()===f)return this}else if(!R&&O&&this._getStroke()===f)return this;return C.beginPath(),j===void 0?C.rect(h,p,v,_):(x===void 0&&(x=j),M===void 0&&(M=x),E===void 0&&(E=M),O=(R=Math.abs(v))/2,u=(n=Math.abs(_))/2,n<2*(j=R<2*j?O:j)&&(j=u),n<2*(x=R<2*x?O:x)&&(x=u),n<2*(M=R<2*M?O:M)&&(M=u),n<2*(E=R<2*E?O:E)&&(E=u),C.beginPath(),C.moveTo(h+j,p),C.arcTo(h+v,p,h+v,p+_,x),C.arcTo(h+v,p+_,h,p+_,M),C.arcTo(h,p+_,h,p,E),C.arcTo(h,p,h+v,p,j),C.closePath()),this._doFill&&C.fill(),this._doStroke&&C.stroke(),this},r.default.Renderer2D.prototype.triangle=function(M){var n=this.drawingContext,u=this._doFill,h=this._doStroke,p=M[0],v=M[1],_=M[2],j=M[3],x=M[4],M=M[5];if(u&&!h){if(this._getFill()===f)return this}else if(!u&&h&&this._getStroke()===f)return this;n.beginPath(),n.moveTo(p,v),n.lineTo(_,j),n.lineTo(x,M),n.closePath(),u&&n.fill(),h&&n.stroke()},r.default.Renderer2D.prototype.endShape=function(o,n,u,h,p,v,_){if(n.length!==0&&(this._doStroke||this._doFill)){var j,x,M,E=o===a.CLOSE,C=(E&&!v&&n.push(n[0]),n.length);if(!u||_!==a.POLYGON&&_!==null)if(!h||_!==a.POLYGON&&_!==null)if(!p||_!==a.POLYGON&&_!==null)if(_===a.POINTS)for(x=0;x<C;x++)j=n[x],this._doStroke&&this._pInst.stroke(j[6]),this._pInst.point(j[0],j[1]);else if(_===a.LINES)for(x=0;x+1<C;x+=2)j=n[x],this._doStroke&&this._pInst.stroke(n[x+1][6]),this._pInst.line(j[0],j[1],n[x+1][0],n[x+1][1]);else if(_===a.TRIANGLES)for(x=0;x+2<C;x+=3)j=n[x],this.drawingContext.beginPath(),this.drawingContext.moveTo(j[0],j[1]),this.drawingContext.lineTo(n[x+1][0],n[x+1][1]),this.drawingContext.lineTo(n[x+2][0],n[x+2][1]),this.drawingContext.closePath(),this._doFill&&(this._pInst.fill(n[x+2][5]),this.drawingContext.fill()),this._doStroke&&(this._pInst.stroke(n[x+2][6]),this.drawingContext.stroke());else if(_===a.TRIANGLE_STRIP)for(x=0;x+1<C;x++)j=n[x],this.drawingContext.beginPath(),this.drawingContext.moveTo(n[x+1][0],n[x+1][1]),this.drawingContext.lineTo(j[0],j[1]),this._doStroke&&this._pInst.stroke(n[x+1][6]),this._doFill&&this._pInst.fill(n[x+1][5]),x+2<C&&(this.drawingContext.lineTo(n[x+2][0],n[x+2][1]),this._doStroke&&this._pInst.stroke(n[x+2][6]),this._doFill&&this._pInst.fill(n[x+2][5])),this._doFillStrokeClose(E);else if(_===a.TRIANGLE_FAN){if(2<C){for(this.drawingContext.beginPath(),x=2;x<C;x++)j=n[x],this.drawingContext.moveTo(n[0][0],n[0][1]),this.drawingContext.lineTo(n[x-1][0],n[x-1][1]),this.drawingContext.lineTo(j[0],j[1]),this.drawingContext.lineTo(n[0][0],n[0][1]),x<C-1&&(this._doFill&&j[5]!==n[x+1][5]||this._doStroke&&j[6]!==n[x+1][6])&&(this._doFill&&(this._pInst.fill(j[5]),this.drawingContext.fill(),this._pInst.fill(n[x+1][5])),this._doStroke&&(this._pInst.stroke(j[6]),this.drawingContext.stroke(),this._pInst.stroke(n[x+1][6])),this.drawingContext.closePath(),this.drawingContext.beginPath());this._doFillStrokeClose(E)}}else if(_===a.QUADS)for(x=0;x+3<C;x+=4){for(j=n[x],this.drawingContext.beginPath(),this.drawingContext.moveTo(j[0],j[1]),M=1;M<4;M++)this.drawingContext.lineTo(n[x+M][0],n[x+M][1]);this.drawingContext.lineTo(j[0],j[1]),this._doFill&&this._pInst.fill(n[x+3][5]),this._doStroke&&this._pInst.stroke(n[x+3][6]),this._doFillStrokeClose(E)}else if(_===a.QUAD_STRIP){if(3<C)for(x=0;x+1<C;x+=2)j=n[x],this.drawingContext.beginPath(),x+3<C?(this.drawingContext.moveTo(n[x+2][0],n[x+2][1]),this.drawingContext.lineTo(j[0],j[1]),this.drawingContext.lineTo(n[x+1][0],n[x+1][1]),this.drawingContext.lineTo(n[x+3][0],n[x+3][1]),this._doFill&&this._pInst.fill(n[x+3][5]),this._doStroke&&this._pInst.stroke(n[x+3][6])):(this.drawingContext.moveTo(j[0],j[1]),this.drawingContext.lineTo(n[x+1][0],n[x+1][1])),this._doFillStrokeClose(E)}else{for(this.drawingContext.beginPath(),this.drawingContext.moveTo(n[0][0],n[0][1]),x=1;x<C;x++)(j=n[x]).isVert&&(j.moveTo?this.drawingContext.moveTo(j[0],j[1]):this.drawingContext.lineTo(j[0],j[1]));this._doFillStrokeClose(E)}else{for(this.drawingContext.beginPath(),x=0;x<C;x++)n[x].isVert?n[x].moveTo?this.drawingContext.moveTo(n[x][0],n[x][1]):this.drawingContext.lineTo(n[x][0],n[x][1]):this.drawingContext.quadraticCurveTo(n[x][0],n[x][1],n[x][2],n[x][3]);this._doFillStrokeClose(E)}else{for(this.drawingContext.beginPath(),x=0;x<C;x++)n[x].isVert?n[x].moveTo?this.drawingContext.moveTo(n[x][0],n[x][1]):this.drawingContext.lineTo(n[x][0],n[x][1]):this.drawingContext.bezierCurveTo(n[x][0],n[x][1],n[x][2],n[x][3],n[x][4],n[x][5]);this._doFillStrokeClose(E)}else if(3<C){var R=[],O=1-this._curveTightness;for(this.drawingContext.beginPath(),this.drawingContext.moveTo(n[1][0],n[1][1]),x=1;x+2<C;x++)j=n[x],R[0]=[j[0],j[1]],R[1]=[j[0]+(O*n[x+1][0]-O*n[x-1][0])/6,j[1]+(O*n[x+1][1]-O*n[x-1][1])/6],R[2]=[n[x+1][0]+(O*n[x][0]-O*n[x+2][0])/6,n[x+1][1]+(O*n[x][1]-O*n[x+2][1])/6],R[3]=[n[x+1][0],n[x+1][1]],this.drawingContext.bezierCurveTo(R[1][0],R[1][1],R[2][0],R[2][1],R[3][0],R[3][1]);E&&this.drawingContext.lineTo(n[x+1][0],n[x+1][1]),this._doFillStrokeClose(E)}v=p=h=u=!1,E&&n.pop()}return this},r.default.Renderer2D.prototype.strokeCap=function(o){return o!==a.ROUND&&o!==a.SQUARE&&o!==a.PROJECT||(this.drawingContext.lineCap=o),this},r.default.Renderer2D.prototype.strokeJoin=function(o){return o!==a.ROUND&&o!==a.BEVEL&&o!==a.MITER||(this.drawingContext.lineJoin=o),this},r.default.Renderer2D.prototype.strokeWeight=function(o){return this.drawingContext.lineWidth=o===void 0||o===0?1e-4:o,this},r.default.Renderer2D.prototype._getFill=function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle},r.default.Renderer2D.prototype._setFill=function(o){o!==this._cachedFillStyle&&(this.drawingContext.fillStyle=o,this._cachedFillStyle=o)},r.default.Renderer2D.prototype._getStroke=function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle},r.default.Renderer2D.prototype._setStroke=function(o){o!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=o,this._cachedStrokeStyle=o)},r.default.Renderer2D.prototype.bezier=function(o,n,u,h,p,v,_,j){return this._pInst.beginShape(),this._pInst.vertex(o,n),this._pInst.bezierVertex(u,h,p,v,_,j),this._pInst.endShape(),this},r.default.Renderer2D.prototype.curve=function(o,n,u,h,p,v,_,j){return this._pInst.beginShape(),this._pInst.curveVertex(o,n),this._pInst.curveVertex(u,h),this._pInst.curveVertex(p,v),this._pInst.curveVertex(_,j),this._pInst.endShape(),this},r.default.Renderer2D.prototype._doFillStrokeClose=function(o){o&&this.drawingContext.closePath(),this._doFill&&this.drawingContext.fill(),this._doStroke&&this.drawingContext.stroke()},r.default.Renderer2D.prototype.applyMatrix=function(o,n,u,h,p,v){this.drawingContext.transform(o,n,u,h,p,v)},r.default.Renderer2D.prototype.resetMatrix=function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this},r.default.Renderer2D.prototype.rotate=function(o){this.drawingContext.rotate(o)},r.default.Renderer2D.prototype.scale=function(o,n){return this.drawingContext.scale(o,n),this},r.default.Renderer2D.prototype.translate=function(o,n){return o instanceof r.default.Vector&&(n=o.y,o=o.x),this.drawingContext.translate(o,n),this},r.default.Renderer2D.prototype.text=function(o,n,u,_,p){_!==void 0&&this.drawingContext.textBaseline===a.BASELINE&&(v=!0,this.drawingContext.textBaseline=a.TOP);var v,_=r.default.Renderer.prototype.text.apply(this,arguments);return v&&(this.drawingContext.textBaseline=a.BASELINE),_},r.default.Renderer2D.prototype._renderText=function(o,n,u,h,p,v){if(!(h<v||p<=h))return o.push(),this._isOpenType()?this._textFont._renderPath(n,u,h,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(n,u,h),this._doFill&&(this._fillSet||this._setFill(a._DEFAULT_TEXT_FILL),this.drawingContext.fillText(n,u,h))),o.pop(),o},r.default.Renderer2D.prototype.textWidth=function(o){return this._isOpenType()?this._textFont._textWidth(o,this._textSize):this.drawingContext.measureText(o).width},r.default.Renderer2D.prototype._applyTextProperties=function(){var o,n=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),o=this._textFont,this._isOpenType()&&(o=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(o||"sans-serif"),this.drawingContext.textAlign=this._textAlign,this._textBaseline===a.CENTER?this.drawingContext.textBaseline=a._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,n},r.default.Renderer2D.prototype.push=function(){return this.drawingContext.save(),r.default.Renderer.prototype.push.apply(this)},r.default.Renderer2D.prototype.pop=function(o){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,r.default.Renderer.prototype.pop.call(this,o)},r.default.Renderer2D);y.default=s},{"./constants":256,"./main":267,"./p5.Renderer":270,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":165,"core-js/modules/es.number.to-fixed":171,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],272:[function(e,g,y){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator");var l=(e=e("./main"))&&e.__esModule?e:{default:e};l.default.prototype._promisePreloads=[];function i(){return{}}var r=!(l.default.prototype.registerPromisePreload=function(a){l.default.prototype._promisePreloads.push(a)});l.default.prototype._setupPromisePreloads=function(){var a=!0,d=!1,f=void 0;try{for(var s,o=this._promisePreloads[Symbol.iterator]();!(a=(s=o.next()).done);a=!0){var n=s.value,u=this,h=n.method,p=n.addCallbacks,v=n.legacyPreloadSetup,_=n.target||this,j=_[h].bind(_);if(_===l.default.prototype){if(r)continue;u=null,j=_[h]}_[h]=this._wrapPromisePreload(u,j,p),v&&(_[v.method]=this._legacyPreloadGenerator(u,v,_[h]))}}catch(x){d=!0,f=x}finally{try{a||o.return==null||o.return()}finally{if(d)throw f}}r=!0},l.default.prototype._wrapPromisePreload=function(a,d,f){var s=function(){for(var o=this,n=(this._incrementPreload(),null),u=null,h=arguments.length,p=new Array(h),v=0;v<h;v++)p[v]=arguments[v];if(f)for(var _=p.length-1;0<=_&&!u&&typeof p[_]=="function";_--)u=n,n=p.pop();var j=Promise.resolve(d.apply(this,p));return n&&j.then(n),u&&j.catch(u),j.then(function(){return o._decrementPreload()}),j};return s=a?s.bind(a):s},l.default.prototype._legacyPreloadGenerator=function(a,o,f){var s=o.createBaseObject||i,o=function(){var n=this,u=(this._incrementPreload(),s.apply(this,arguments));return f.apply(this,arguments).then(function(h){Object.assign(u,h),n._decrementPreload()}),u};return o=a?o.bind(a):o}},{"./main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],273:[function(e,g,y){function l(o){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var i=(s=e("./main"))&&s.__esModule?s:{default:s},r=function(o){if(o&&o.__esModule)return o;if(o===null||d(o)!=="object"&&typeof o!="function")return{default:o};var n=a();if(n&&n.has(o))return n.get(o);var u,h={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in o){var v;Object.prototype.hasOwnProperty.call(o,u)&&((v=p?Object.getOwnPropertyDescriptor(o,u):null)&&(v.get||v.set)?Object.defineProperty(h,u,v):h[u]=o[u])}return h.default=o,n&&n.set(o,h),h}(e("./constants"));function a(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,a=function(){return o},o)}function d(o){return(d=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(n){return l(n)}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":l(n)})(o)}e("./p5.Graphics"),e("./p5.Renderer2D"),e("../webgl/p5.RendererGL");var f="defaultCanvas0",s=(i.default.prototype.createCanvas=function(o,n,_){i.default._validateParameters("createCanvas",arguments);var h,p,v,_=_||r.P2D;if(_===r.WEBGL)(p=document.getElementById(f))&&(p.parentNode.removeChild(p),h=this._renderer,this._elements=this._elements.filter(function(x){return x!==h})),(p=document.createElement("canvas")).id=f,p.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)p=this.canvas;else{p=document.createElement("canvas");for(var j=0;document.getElementById("defaultCanvas".concat(j));)j++;f="defaultCanvas".concat(j),p.id=f,p.classList.add("p5Canvas")}return this._setupDone||(p.dataset.hidden=!0,p.style.visibility="hidden"),(this._userNode||(document.getElementsByTagName("main").length===0&&(v=document.createElement("main"),document.body.appendChild(v)),document.getElementsByTagName("main")[0])).appendChild(p),_===r.WEBGL?(this._setProperty("_renderer",new i.default.RendererGL(p,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new i.default.Renderer2D(p,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(o,n),this._renderer._applyDefaults(),this._renderer},i.default.prototype.resizeCanvas=function(o,n,u){if(i.default._validateParameters("resizeCanvas",arguments),this._renderer){var h,p,v={};for(h in this.drawingContext){var _=this.drawingContext[h];d(_)!=="object"&&typeof _!="function"&&(v[h]=_)}for(p in this._renderer.resize(o,n),this.width=o,this.height=n,v)try{this.drawingContext[p]=v[p]}catch{}u||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},i.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},i.default.prototype.createGraphics=function(o,n,u){return i.default._validateParameters("createGraphics",arguments),new i.default.Graphics(o,n,u,this)},i.default.prototype.blendMode=function(o){i.default._validateParameters("blendMode",arguments),o===r.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),o=r.BLEND),this._renderer.blendMode(o)},i.default);y.default=s},{"../webgl/p5.RendererGL":321,"./constants":256,"./main":267,"./p5.Graphics":269,"./p5.Renderer2D":271,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],274:[function(e,g,y){function l(o){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function i(o){return(i=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(n){return l(n)}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":l(n)})(o)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.slice"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var r=s(e("../main")),a=function(o){if(o&&o.__esModule)return o;if(o===null||i(o)!=="object"&&typeof o!="function")return{default:o};var n=f();if(n&&n.has(o))return n.get(o);var u,h={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in o){var v;Object.prototype.hasOwnProperty.call(o,u)&&((v=p?Object.getOwnPropertyDescriptor(o,u):null)&&(v.get||v.set)?Object.defineProperty(h,u,v):h[u]=o[u])}return h.default=o,n&&n.set(o,h),h}(e("../constants")),d=s(e("../helpers"));function f(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,f=function(){return o},o)}function s(o){return o&&o.__esModule?o:{default:o}}e("../friendly_errors/fes_core"),e("../friendly_errors/file_errors"),e("../friendly_errors/validate_params"),r.default.prototype._normalizeArcAngles=function(o,n,u,h,p){var v;return o-=a.TWO_PI*Math.floor(o/a.TWO_PI),n-=a.TWO_PI*Math.floor(n/a.TWO_PI),v=Math.min(Math.abs(o-n),a.TWO_PI-Math.abs(o-n)),p&&(o=o<=a.HALF_PI?Math.atan(u/h*Math.tan(o)):o>a.HALF_PI&&o<=3*a.HALF_PI?Math.atan(u/h*Math.tan(o))+a.PI:Math.atan(u/h*Math.tan(o))+a.TWO_PI,n=n<=a.HALF_PI?Math.atan(u/h*Math.tan(n)):n>a.HALF_PI&&n<=3*a.HALF_PI?Math.atan(u/h*Math.tan(n))+a.PI:Math.atan(u/h*Math.tan(n))+a.TWO_PI),n<o&&(n+=a.TWO_PI),{start:o,stop:n,correspondToSamePoint:v<1e-5}},r.default.prototype.arc=function(o,n,u,h,p,v,_,j){return r.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&p!==v&&(p=this._toRadians(p),v=this._toRadians(v),u=Math.abs(u),h=Math.abs(h),o=d.default.modeAdjust(o,n,u,h,this._renderer._ellipseMode),(n=this._normalizeArcAngles(p,v,o.w,o.h,!0)).correspondToSamePoint?this._renderer.ellipse([o.x,o.y,o.w,o.h,j]):(this._renderer.arc(o.x,o.y,o.w,o.h,n.start,n.stop,_,j),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[o.x,o.y,o.w,o.h,n.start,n.stop,_]))),this},r.default.prototype.ellipse=function(o,n,u,h,p){return r.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},r.default.prototype.circle=function(){r.default._validateParameters("circle",arguments);var o=Array.prototype.slice.call(arguments,0,2);return o.push(arguments[2]),o.push(arguments[2]),this._renderEllipse.apply(this,o)},r.default.prototype._renderEllipse=function(o,n,u,h,p){return(this._renderer._doStroke||this._renderer._doFill)&&(u<0&&(u=Math.abs(u)),h===void 0?h=u:h<0&&(h=Math.abs(h)),o=d.default.modeAdjust(o,n,u,h,this._renderer._ellipseMode),this._renderer.ellipse([o.x,o.y,o.w,o.h,p]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[o.x,o.y,o.w,o.h])),this},r.default.prototype.line=function(){for(var o,n=arguments.length,u=new Array(n),h=0;h<n;h++)u[h]=arguments[h];return r.default._validateParameters("line",u),this._renderer._doStroke&&(o=this._renderer).line.apply(o,u),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",u),this},r.default.prototype.point=function(){for(var o,n=arguments.length,u=new Array(n),h=0;h<n;h++)u[h]=arguments[h];return r.default._validateParameters("point",u),this._renderer._doStroke&&(u.length===1&&u[0]instanceof r.default.Vector?this._renderer.point.call(this._renderer,u[0].x,u[0].y,u[0].z):((o=this._renderer).point.apply(o,u),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",u))),this},r.default.prototype.quad=function(){for(var o,n=arguments.length,u=new Array(n),h=0;h<n;h++)u[h]=arguments[h];return r.default._validateParameters("quad",u),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&u.length<=12?this._renderer.quad.call(this._renderer,u[0],u[1],0,u[2],u[3],0,u[4],u[5],0,u[6],u[7],0,u[8],u[9]):((o=this._renderer).quad.apply(o,u),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",u))),this},r.default.prototype.rect=function(){return r.default._validateParameters("rect",arguments),this._renderRect.apply(this,arguments)},r.default.prototype.square=function(o,n,u,h,p,v,_){return r.default._validateParameters("square",arguments),this._renderRect.call(this,o,n,u,u,h,p,v,_)},r.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var o=d.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),n=[o.x,o.y,o.w,o.h],u=4;u<arguments.length;u++)n[u]=arguments[u];this._renderer.rect(n),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[o.x,o.y,o.w,o.h])}return this},r.default.prototype.triangle=function(){for(var o=arguments.length,n=new Array(o),u=0;u<o;u++)n[u]=arguments[u];return r.default._validateParameters("triangle",n),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(n),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",n),this},e=r.default,y.default=e},{"../constants":256,"../friendly_errors/fes_core":258,"../friendly_errors/file_errors":259,"../friendly_errors/validate_params":262,"../helpers":263,"../main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],275:[function(e,g,y){function l(s){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(s)}function i(s){return(i=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(o){return l(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":l(o)})(s)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var r=(f=e("../main"))&&f.__esModule?f:{default:f},a=function(s){if(s&&s.__esModule)return s;if(s===null||i(s)!=="object"&&typeof s!="function")return{default:s};var o=d();if(o&&o.has(s))return o.get(s);var n,u={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in s){var p;Object.prototype.hasOwnProperty.call(s,n)&&((p=h?Object.getOwnPropertyDescriptor(s,n):null)&&(p.get||p.set)?Object.defineProperty(u,n,p):u[n]=s[n])}return u.default=s,o&&o.set(s,u),u}(e("../constants"));function d(){var s;return typeof WeakMap!="function"?null:(s=new WeakMap,d=function(){return s},s)}r.default.prototype.ellipseMode=function(s){return r.default._validateParameters("ellipseMode",arguments),s!==a.CORNER&&s!==a.CORNERS&&s!==a.RADIUS&&s!==a.CENTER||(this._renderer._ellipseMode=s),this},r.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},r.default.prototype.rectMode=function(s){return r.default._validateParameters("rectMode",arguments),s!==a.CORNER&&s!==a.CORNERS&&s!==a.RADIUS&&s!==a.CENTER||(this._renderer._rectMode=s),this},r.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},r.default.prototype.strokeCap=function(s){return r.default._validateParameters("strokeCap",arguments),s!==a.ROUND&&s!==a.SQUARE&&s!==a.PROJECT||this._renderer.strokeCap(s),this},r.default.prototype.strokeJoin=function(s){return r.default._validateParameters("strokeJoin",arguments),s!==a.ROUND&&s!==a.BEVEL&&s!==a.MITER||this._renderer.strokeJoin(s),this},r.default.prototype.strokeWeight=function(s){return r.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(s),this};var f=r.default;y.default=f},{"../constants":256,"../main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],276:[function(e,g,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(i=e("../main"))&&i.__esModule?i:{default:i};e("../friendly_errors/fes_core"),e("../friendly_errors/file_errors"),e("../friendly_errors/validate_params"),l.default.prototype.bezier=function(){for(var r,a=arguments.length,d=new Array(a),f=0;f<a;f++)d[f]=arguments[f];return l.default._validateParameters("bezier",d),(this._renderer._doStroke||this._renderer._doFill)&&(r=this._renderer).bezier.apply(r,d),this},l.default.prototype.bezierDetail=function(r){return l.default._validateParameters("bezierDetail",arguments),this._bezierDetail=r,this},l.default.prototype.bezierPoint=function(r,a,d,f,s){l.default._validateParameters("bezierPoint",arguments);var o=1-s;return Math.pow(o,3)*r+3*Math.pow(o,2)*s*a+3*o*Math.pow(s,2)*d+Math.pow(s,3)*f},l.default.prototype.bezierTangent=function(r,a,d,f,s){l.default._validateParameters("bezierTangent",arguments);var o=1-s;return 3*f*Math.pow(s,2)-3*d*Math.pow(s,2)+6*d*o*s-6*a*o*s+3*a*Math.pow(o,2)-3*r*Math.pow(o,2)},l.default.prototype.curve=function(){for(var r,a=arguments.length,d=new Array(a),f=0;f<a;f++)d[f]=arguments[f];return l.default._validateParameters("curve",d),this._renderer._doStroke&&(r=this._renderer).curve.apply(r,d),this},l.default.prototype.curveDetail=function(r){return l.default._validateParameters("curveDetail",arguments),this._curveDetail=r<3?3:r,this},l.default.prototype.curveTightness=function(r){return l.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=r,this},l.default.prototype.curvePoint=function(r,a,d,f,s){l.default._validateParameters("curvePoint",arguments);var o=s*s*s,n=s*s;return r*(-.5*o+n-.5*s)+a*(1.5*o-2.5*n+1)+d*(-1.5*o+2*n+.5*s)+f*(.5*o-.5*n)},l.default.prototype.curveTangent=function(r,a,d,f,s){l.default._validateParameters("curveTangent",arguments);var o=s*s;return r*(-3*o/2+2*s-.5)+a*(9*o/2-5*s)+d*(-9*o/2+4*s+.5)+f*(3*o/2-s)};var i=l.default;y.default=i},{"../friendly_errors/fes_core":258,"../friendly_errors/file_errors":259,"../friendly_errors/validate_params":262,"../main":267}],277:[function(e,g,y){function l(j){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(j)}function i(j){return(i=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(x){return l(x)}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":l(x)})(j)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.slice"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var r=(_=e("../main"))&&_.__esModule?_:{default:_},a=function(j){if(j&&j.__esModule)return j;if(j===null||i(j)!=="object"&&typeof j!="function")return{default:j};var x=d();if(x&&x.has(j))return x.get(j);var M,E={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(M in j){var R;Object.prototype.hasOwnProperty.call(j,M)&&((R=C?Object.getOwnPropertyDescriptor(j,M):null)&&(R.get||R.set)?Object.defineProperty(E,M,R):E[M]=j[M])}return E.default=j,x&&x.set(j,E),E}(e("../constants"));function d(){var j;return typeof WeakMap!="function"?null:(j=new WeakMap,d=function(){return j},j)}var f=null,s=[],o=[],n=!1,u=!1,h=!1,p=!1,v=!0,_=(r.default.prototype.beginContour=function(){return o=[],p=!0,this},r.default.prototype.beginShape=function(j){var x;return r.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(x=this._renderer).beginShape.apply(x,arguments):(f=j===a.POINTS||j===a.LINES||j===a.TRIANGLES||j===a.TRIANGLE_FAN||j===a.TRIANGLE_STRIP||j===a.QUADS||j===a.QUAD_STRIP?j:null,s=[],o=[]),this},r.default.prototype.bezierVertex=function(){for(var j,x=arguments.length,M=new Array(x),E=0;E<x;E++)M[E]=arguments[E];if(r.default._validateParameters("bezierVertex",M),this._renderer.isP3D)(j=this._renderer).bezierVertex.apply(j,M);else if(s.length===0)r.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{n=!0;for(var C=[],R=0;R<M.length;R++)C[R]=M[R];C.isVert=!1,(p?o:s).push(C)}return this},r.default.prototype.curveVertex=function(){for(var j,x=arguments.length,M=new Array(x),E=0;E<x;E++)M[E]=arguments[E];return r.default._validateParameters("curveVertex",M),this._renderer.isP3D?(j=this._renderer).curveVertex.apply(j,M):(u=!0,this.vertex(M[0],M[1])),this},r.default.prototype.endContour=function(){var j=o[0].slice();j.isVert=o[0].isVert,j.moveTo=!1,o.push(j),v&&(s.push(s[0]),v=!1);for(var x=0;x<o.length;x++)s.push(o[x]);return this},r.default.prototype.endShape=function(j){if(r.default._validateParameters("endShape",arguments),this._renderer.isP3D)this._renderer.endShape(j,u,n,h,p,f);else{if(s.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;var x=j===a.CLOSE;x&&!p&&s.push(s[0]),this._renderer.endShape(j,s,u,n,h,p,f),v=!(p=h=n=u=!1),x&&s.pop()}return this},r.default.prototype.quadraticVertex=function(){for(var j,x=arguments.length,M=new Array(x),E=0;E<x;E++)M[E]=arguments[E];if(r.default._validateParameters("quadraticVertex",M),this._renderer.isP3D)(j=this._renderer).quadraticVertex.apply(j,M);else{if(this._contourInited)return(j={}).x=M[0],j.y=M[1],j.x3=M[2],j.y3=M[3],j.type=a.QUADRATIC,this._contourVertices.push(j),this;if(0<s.length){h=!0;for(var C=[],R=0;R<M.length;R++)C[R]=M[R];C.isVert=!1,(p?o:s).push(C)}else r.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},r.default.prototype.vertex=function(j,x,M,E,C){var R;return this._renderer.isP3D?(R=this._renderer).vertex.apply(R,arguments):((R=[]).isVert=!0,R[0]=j,R[1]=x,R[2]=0,R[3]=0,R[4]=0,R[5]=this._renderer._getFill(),R[6]=this._renderer._getStroke(),M&&(R.moveTo=M),(p?(o.length===0&&(R.moveTo=!0),o):s).push(R)),this},r.default.prototype.normal=function(j,x,M){var E;return this._assert3d("normal"),r.default._validateParameters("normal",arguments),(E=this._renderer).normal.apply(E,arguments),this},r.default);y.default=_},{"../constants":256,"../main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],278:[function(e,g,y){function l(f){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(f)}function i(f){return(i=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(s){return l(s)}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":l(s)})(f)}var r,a,d;e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(f,s){window.setTimeout(f,1e3/60)},typeof Uint8ClampedArray>"u"||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1}),Object.assign||(r=Object.keys,e=Object.defineProperty,a=typeof Symbol=="function"&&i(Symbol())==="symbol",d=Object.prototype.propertyIsEnumerable,e(Object,"assign",{value:function(f,s){if(f==null)throw new TypeError("target must be an object");for(var o,n,u,h=Object(f),p=1;p<arguments.length;++p)for(o=Object(arguments[p]),u=r(o),a&&Object.getOwnPropertySymbols&&u.push.apply(u,Object.getOwnPropertySymbols(o).filter(function(v){return function(_){return d.call(v,_)}}(o))),n=0;n<u.length;++n)h[u[n]]=o[u[n]];return h},configurable:!0,enumerable:!1,writable:!0}))},{"core-js/modules/es.array.filter":153,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-clamped-array":227,"core-js/modules/web.dom-collections.iterator":230}],279:[function(e,g,y){e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.assign"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.assign"),e("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,e=(e=e("./main"))&&e.__esModule?e:{default:e},e.default.prototype.noLoop=function(){this._loop=!1},e.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},e.default.prototype.isLooping=function(){return this._loop},e.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},e.default.prototype.pop=function(){var l=this._styles.pop();l?(this._renderer.pop(l.renderer),Object.assign(this,l.props)):console.warn("pop() was called without matching push()")},e.default.prototype.redraw=function(l){if(!this._inUserDraw&&this._setupDone){var i=parseInt(l),r=((isNaN(i)||i<1)&&(i=1),this._isGlobal?window:this);if(typeof r.draw=="function"){r.setup===void 0&&r.scale(r._pixelDensity,r._pixelDensity);for(var a=function(f){f.call(r)},d=0;d<i;d++){r.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),r._renderer.isP3D&&r._renderer._update(),r._setProperty("frameCount",r.frameCount+1),r._registeredMethods.pre.forEach(a),this._inUserDraw=!0;try{r.draw()}finally{this._inUserDraw=!1}r._registeredMethods.post.forEach(a)}}}},e=e.default,y.default=e},{"./main":267,"core-js/modules/es.array.for-each":154,"core-js/modules/es.object.assign":172,"core-js/modules/web.dom-collections.for-each":229}],280:[function(e,g,y){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(e=e("./main"))&&e.__esModule?e:{default:e};function i(r){return function(a){if(Array.isArray(a)){for(var d=0,f=new Array(a.length);d<a.length;d++)f[d]=a[d];return f}}(r)||function(a){if(Symbol.iterator in Object(a)||Object.prototype.toString.call(a)==="[object Arguments]")return Array.from(a)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}l.default.prototype.applyMatrix=function(){var r=arguments[0]instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments[0])||r?(r=this._renderer).applyMatrix.apply(r,i(arguments[0])):(r=this._renderer).applyMatrix.apply(r,arguments),this},l.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},l.default.prototype.rotate=function(r,a){return l.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(r),a),this},l.default.prototype.rotateX=function(r){return this._assert3d("rotateX"),l.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(r)),this},l.default.prototype.rotateY=function(r){return this._assert3d("rotateY"),l.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(r)),this},l.default.prototype.rotateZ=function(r){return this._assert3d("rotateZ"),l.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(r)),this},l.default.prototype.scale=function(r,a,d){var f;return l.default._validateParameters("scale",arguments),r instanceof l.default.Vector?(r=(f=r).x,a=f.y,d=f.z):r instanceof Array&&(r=(f=r)[0],a=f[1],d=f[2]||1),isNaN(a)?a=d=r:isNaN(d)&&(d=1),this._renderer.scale.call(this._renderer,r,a,d),this},l.default.prototype.shearX=function(r){return l.default._validateParameters("shearX",arguments),r=this._toRadians(r),this._renderer.applyMatrix(1,0,Math.tan(r),1,0,0),this},l.default.prototype.shearY=function(r){return l.default._validateParameters("shearY",arguments),r=this._toRadians(r),this._renderer.applyMatrix(1,Math.tan(r),0,1,0,0),this},l.default.prototype.translate=function(r,a,d){return l.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(r,a,d):this._renderer.translate(r,a),this},e=l.default,y.default=e},{"./main":267,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-prototype-of":175,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":230}],281:[function(e,g,y){function l(d){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(d)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.ends-with"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.ends-with"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator");var i=(e=e("../core/main"))&&e.__esModule?e:{default:e};function r(d){return function(f){if(Array.isArray(f)){for(var s=0,o=new Array(f.length);s<f.length;s++)o[s]=f[s];return o}}(d)||function(f){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]")return Array.from(f)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(d){return(a=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(f){return l(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":l(f)})(d)}i.default.prototype.storeItem=function(d,f){typeof d!="string"&&console.log("The argument that you passed to storeItem() - ".concat(d," is not a string.")),d.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(d," must not end with 'p5TypeID'.")),f===void 0&&console.log("You cannot store undefined variables using storeItem().");var s=a(f);switch(s){case"number":case"boolean":f=f.toString();break;case"object":f instanceof i.default.Color?s="p5.Color":f instanceof i.default.Vector&&(s="p5.Vector",f=[f.x,f.y,f.z]),f=JSON.stringify(f)}localStorage.setItem(d,f),d="".concat(d,"p5TypeID"),localStorage.setItem(d,s)},i.default.prototype.getItem=function(d){var f=localStorage.getItem(d),s=localStorage.getItem("".concat(d,"p5TypeID"));if(s===void 0)console.log("Unable to determine type of item stored under ".concat(d,"in local storage. Did you save the item with something other than setItem()?"));else if(f!==null)switch(s){case"number":f=parseFloat(f);break;case"boolean":f=f==="true";break;case"object":f=JSON.parse(f);break;case"p5.Color":f=JSON.parse(f),f=this.color.apply(this,r(f.levels));break;case"p5.Vector":f=JSON.parse(f),f=this.createVector.apply(this,r(f))}return f},i.default.prototype.clearStorage=function(){localStorage.clear()},i.default.prototype.removeItem=function(d){typeof d!="string"&&console.log("The argument that you passed to removeItem() - ".concat(d," is not a string.")),localStorage.removeItem(d),localStorage.removeItem("".concat(d,"p5TypeID"))}},{"../core/main":267,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.ends-with":184,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],282:[function(e,g,y){e("core-js/modules/es.array.concat"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.string.sub"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.string.sub"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(e=e("../core/main"))&&e.__esModule?e:{default:e};l.default.prototype.createStringDict=function(i,r){return l.default._validateParameters("createStringDict",arguments),new l.default.StringDict(i,r)},l.default.prototype.createNumberDict=function(i,r){return l.default._validateParameters("createNumberDict",arguments),new l.default.NumberDict(i,r)},l.default.TypedDict=function(i,r){return i instanceof Object?this.data=i:(this.data={},this.data[i]=r),this},l.default.TypedDict.prototype.size=function(){return Object.keys(this.data).length},l.default.TypedDict.prototype.hasKey=function(i){return this.data.hasOwnProperty(i)},l.default.TypedDict.prototype.get=function(i){if(this.data.hasOwnProperty(i))return this.data[i];console.log("".concat(i," does not exist in this Dictionary"))},l.default.TypedDict.prototype.set=function(i,r){this._validate(r)?this.data[i]=r:console.log("Those values dont work for this dictionary type.")},l.default.TypedDict.prototype._addObj=function(i){for(var r in i)this.set(r,i[r])},l.default.TypedDict.prototype.create=function(i,r){i instanceof Object&&r===void 0?this._addObj(i):i!==void 0?this.set(i,r):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")},l.default.TypedDict.prototype.clear=function(){this.data={}},l.default.TypedDict.prototype.remove=function(i){if(!this.data.hasOwnProperty(i))throw new Error("".concat(i," does not exist in this Dictionary"));delete this.data[i]},l.default.TypedDict.prototype.print=function(){for(var i in this.data)console.log("key:".concat(i," value:").concat(this.data[i]))},l.default.TypedDict.prototype.saveTable=function(i){var r,a="";for(r in this.data)a+="".concat(r,",").concat(this.data[r],`
`);var d=new Blob([a],{type:"text/csv"});l.default.prototype.downloadFile(d,i||"mycsv","csv")},l.default.TypedDict.prototype.saveJSON=function(i,r){l.default.prototype.saveJSON(this.data,i,r)},l.default.TypedDict.prototype._validate=function(i){return!0},l.default.StringDict=function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];l.default.TypedDict.apply(this,r)},l.default.StringDict.prototype=Object.create(l.default.TypedDict.prototype),l.default.StringDict.prototype._validate=function(i){return typeof i=="string"},l.default.NumberDict=function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];l.default.TypedDict.apply(this,r)},l.default.NumberDict.prototype=Object.create(l.default.TypedDict.prototype),l.default.NumberDict.prototype._validate=function(i){return typeof i=="number"},l.default.NumberDict.prototype.add=function(i,r){this.data.hasOwnProperty(i)?this.data[i]+=r:console.log("The key - ".concat(i," does not exist in this dictionary."))},l.default.NumberDict.prototype.sub=function(i,r){this.add(i,-r)},l.default.NumberDict.prototype.mult=function(i,r){this.data.hasOwnProperty(i)?this.data[i]*=r:console.log("The key - ".concat(i," does not exist in this dictionary."))},l.default.NumberDict.prototype.div=function(i,r){this.data.hasOwnProperty(i)?this.data[i]/=r:console.log("The key - ".concat(i," does not exist in this dictionary."))},l.default.NumberDict.prototype._valueTest=function(i){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var r,a=this.data[Object.keys(this.data)[0]];for(r in this.data)this.data[r]*i<a*i&&(a=this.data[r]);return a},l.default.NumberDict.prototype.minValue=function(){return this._valueTest(1)},l.default.NumberDict.prototype.maxValue=function(){return this._valueTest(-1)},l.default.NumberDict.prototype._keyTest=function(i){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var r=Object.keys(this.data)[0],a=1;a<Object.keys(this.data).length;a++)Object.keys(this.data)[a]*i<r*i&&(r=Object.keys(this.data)[a]);return r},l.default.NumberDict.prototype.minKey=function(){return this._keyTest(1)},l.default.NumberDict.prototype.maxKey=function(){return this._keyTest(-1)},e=l.default.TypedDict,y.default=e},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.object.keys":176,"core-js/modules/es.string.sub":192}],283:[function(e,g,y){function l(s){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(s)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/web.url"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/web.url"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var i=(e=e("../core/main"))&&e.__esModule?e:{default:e};function r(s){return(r=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(o){return l(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":l(o)})(s)}function a(s,o,n){return(o._userNode||document.body).appendChild(s),n=new(n?i.default.MediaElement:i.default.Element)(s,o),o._elements.push(n),n}function d(s,v,n,u){var h=document.createElement(v),p=(typeof(n=n||"")=="string"&&(n=[n]),!0),v=!1,_=void 0;try{for(var j,x=n[Symbol.iterator]();!(p=(j=x.next()).done);p=!0){var M=j.value,E=document.createElement("source");E.setAttribute("src",M),h.appendChild(E)}}catch(R){v=!0,_=R}finally{try{p||x.return==null||x.return()}finally{if(v)throw _}}typeof u=="function"&&h.addEventListener("canplaythrough",function R(){u(),h.removeEventListener("canplaythrough",R)});var C=a(h,s,!0);return C.loadedmetadata=!1,h.addEventListener("loadedmetadata",function(){C.width=h.videoWidth,C.height=h.videoHeight,C.elt.width===0&&(C.elt.width=h.videoWidth),C.elt.height===0&&(C.elt.height=h.videoHeight),C.presetPlaybackRate&&(C.elt.playbackRate=C.presetPlaybackRate,delete C.presetPlaybackRate),C.loadedmetadata=!0}),C}i.default.prototype.select=function(s,o){return i.default._validateParameters("select",arguments),o=this._getContainer(o).querySelector(s),o?this._wrapElement(o):null},i.default.prototype.selectAll=function(s,o){i.default._validateParameters("selectAll",arguments);var n=[],u=this._getContainer(o).querySelectorAll(s);if(u)for(var h=0;h<u.length;h++){var p=this._wrapElement(u[h]);n.push(p)}return n},i.default.prototype._getContainer=function(s){var o=document;return typeof s=="string"?o=document.querySelector(s)||document:s instanceof i.default.Element?o=s.elt:s instanceof HTMLElement&&(o=s),o},i.default.prototype._wrapElement=function(s){var o,n=Array.prototype.slice.call(s.children);return s.tagName==="INPUT"&&s.type==="checkbox"?((o=new i.default.Element(s,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!!arguments[0],this)},o):s.tagName==="VIDEO"||s.tagName==="AUDIO"?new i.default.MediaElement(s,this):s.tagName==="SELECT"?this.createSelect(new i.default.Element(s,this)):0<n.length&&n.every(function(u){return u.tagName==="INPUT"||u.tagName==="LABEL"})?this.createRadio(new i.default.Element(s,this)):new i.default.Element(s,this)},i.default.prototype.removeElements=function(s){i.default._validateParameters("removeElements",arguments),this._elements.filter(function(o){return!(o.elt instanceof HTMLCanvasElement)}).map(function(o){return o.remove()})},i.default.Element.prototype.changed=function(s){return i.default.Element._adjustListener("change",s,this),this},i.default.Element.prototype.input=function(s){return i.default.Element._adjustListener("input",s,this),this},i.default.prototype.createDiv=function(){var s=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",o=document.createElement("div");return o.innerHTML=s,a(o,this)},i.default.prototype.createP=function(){var s=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",o=document.createElement("p");return o.innerHTML=s,a(o,this)},i.default.prototype.createSpan=function(){var s=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",o=document.createElement("span");return o.innerHTML=s,a(o,this)},i.default.prototype.createImg=function(){i.default._validateParameters("createImg",arguments);var s,o=document.createElement("img"),n=arguments;return 1<n.length&&typeof n[1]=="string"&&(o.alt=n[1]),2<n.length&&typeof n[2]=="string"&&(o.crossOrigin=n[2]),o.src=n[0],s=a(o,this),o.addEventListener("load",function(){s.width=o.offsetWidth||o.width,s.height=o.offsetHeight||o.height;var u=n[n.length-1];typeof u=="function"&&u(s)}),s},i.default.prototype.createA=function(s,o,n){i.default._validateParameters("createA",arguments);var u=document.createElement("a");return u.href=s,u.innerHTML=o,n&&(u.target=n),a(u,this)},i.default.prototype.createSlider=function(s,o,n,u){i.default._validateParameters("createSlider",arguments);var h=document.createElement("input");return h.type="range",h.min=s,h.max=o,u===0?h.step=1e-18:u&&(h.step=u),typeof n=="number"&&(h.value=n),a(h,this)},i.default.prototype.createButton=function(s,o){i.default._validateParameters("createButton",arguments);var n=document.createElement("button");return n.innerHTML=s,o&&(n.value=o),a(n,this)},i.default.prototype.createCheckbox=function(){i.default._validateParameters("createCheckbox",arguments);var s=document.createElement("div"),o=document.createElement("input"),n=(o.type="checkbox",document.createElement("label")),u=(n.appendChild(o),s.appendChild(n),a(s,this));return u.checked=function(){var h=u.elt.firstElementChild.getElementsByTagName("input")[0];if(h){if(arguments.length===0)return h.checked;h.checked=!!arguments[0]}return u},this.value=function(h){return u.value=h,this},arguments[0]&&(u.value(arguments[0]),(s=document.createElement("span")).innerHTML=arguments[0],n.appendChild(s)),arguments[1]&&(o.checked=!0),u},i.default.prototype.createSelect=function(){i.default._validateParameters("createSelect",arguments);var s,o,n=arguments[0];return n instanceof i.default.Element&&n.elt instanceof HTMLSelectElement?this.elt=(s=n).elt:n instanceof HTMLSelectElement?(s=a(n,this),this.elt=n):(o=document.createElement("select"),n&&typeof n=="boolean"&&o.setAttribute("multiple","true"),s=a(o,this),this.elt=o),s.option=function(u,h){var p;if(u!==void 0){for(var v,_=0;_<this.elt.length;_+=1)if(this.elt[_].textContent===u){p=_;break}p!==void 0?h===!1?this.elt.remove(p):this.elt[p].value=h:((v=document.createElement("option")).textContent=u,v.value=h===void 0?u:h,this.elt.appendChild(v),this._pInst._elements.push(v))}},s.selected=function(u){if(u!==void 0){for(var h=0;h<this.elt.length;h+=1)this.elt[h].value.toString()===u.toString()&&(this.elt.selectedIndex=h);return this}if(this.elt.getAttribute("multiple")){var p=[],v=!0,_=!1,j=void 0;try{for(var x,M=this.elt.selectedOptions[Symbol.iterator]();!(v=(x=M.next()).done);v=!0){var E=x.value;p.push(E.value)}}catch(C){_=!0,j=C}finally{try{v||M.return==null||M.return()}finally{if(_)throw j}}return p}return this.elt.value},s.disable=function(u){if(typeof u=="string")for(var h=0;h<this.elt.length;h++)this.elt[h].value.toString()===u&&(this.elt[h].disabled=!0,this.elt[h].selected=!1);else this.elt.disabled=!0;return this},s},i.default.prototype.createRadio=function(){function s(v){return v instanceof HTMLInputElement&&v.type==="radio"}function o(v){return v instanceof HTMLLabelElement}var n,u,h,p=arguments[0];return p instanceof i.default.Element&&(p.elt instanceof HTMLDivElement||p.elt instanceof HTMLSpanElement)?(n=p,this.elt=p.elt):p instanceof HTMLDivElement||p instanceof HTMLSpanElement?(n=a(p,this),u=this.elt=p,typeof arguments[1]=="string"&&(h=arguments[1])):(typeof p=="string"&&(h=p),u=document.createElement("div"),n=a(u,this),this.elt=u),n._name=h||"radioOption",n._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(v){return s(v)||o(v)&&s(v.firstElementChild)}).map(function(v){return s(v)?v:v.firstElementChild})},n.option=function(v,_){var j,x,M,E=!0,C=!1,R=void 0;try{for(var O,P=n._getOptionsArray()[Symbol.iterator]();!(E=(O=P.next()).done);E=!0){var I=O.value;if(I.value===v){j=I;break}}}catch(N){C=!0,R=N}finally{try{E||P.return==null||P.return()}finally{if(C)throw R}}return j===void 0&&((j=document.createElement("input")).setAttribute("type","radio"),j.setAttribute("value",v)),j.setAttribute("name",n._name),o(j.parentElement)?x=j.parentElement:(x=document.createElement("label")).insertAdjacentElement("afterbegin",j),x.lastElementChild instanceof HTMLSpanElement?M=x.lastElementChild:(M=document.createElement("span"),j.insertAdjacentElement("afterend",M)),M.innerHTML=_===void 0?v:_,this.elt.appendChild(x),j},n.remove=function(v){var _=!0,j=!1,x=void 0;try{for(var M,E=n._getOptionsArray()[Symbol.iterator]();!(_=(M=E.next()).done);_=!0){var C=M.value;if(C.value===v)return void(o(C.parentElement)?C.parentElement:C).remove()}}catch(R){j=!0,x=R}finally{try{_||E.return==null||E.return()}finally{if(j)throw x}}},n.value=function(){var v="",_=!0,j=!1,x=void 0;try{for(var M,E=n._getOptionsArray()[Symbol.iterator]();!(_=(M=E.next()).done);_=!0){var C=M.value;if(C.checked){v=C.value;break}}}catch(R){j=!0,x=R}finally{try{_||E.return==null||E.return()}finally{if(j)throw x}}return v},n.selected=function(v){var _=null;if(v===void 0){var j=!0,x=!1,M=void 0;try{for(var E,C=n._getOptionsArray()[Symbol.iterator]();!(j=(E=C.next()).done);j=!0){var R=E.value;if(R.checked){_=R;break}}}catch(U){x=!0,M=U}finally{try{j||C.return==null||C.return()}finally{if(x)throw M}}}else{n._getOptionsArray().forEach(function(z){z.checked=!1,z.removeAttribute("checked")});var O=!0,x=!1,M=void 0;try{for(var P,I=n._getOptionsArray()[Symbol.iterator]();!(O=(P=I.next()).done);O=!0){var N=P.value;N.value===v&&(N.setAttribute("checked",!0),N.checked=!0,_=N)}}catch(z){x=!0,M=z}finally{try{O||I.return==null||I.return()}finally{if(x)throw M}}}return _},n.disable=function(){var v=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],_=!0,j=!1,x=void 0;try{for(var M,E=n._getOptionsArray()[Symbol.iterator]();!(_=(M=E.next()).done);_=!0)M.value.setAttribute("disabled",v)}catch(C){j=!0,x=C}finally{try{_||E.return==null||E.return()}finally{if(j)throw x}}},n},i.default.prototype.createColorPicker=function(s){i.default._validateParameters("createColorPicker",arguments);var o=document.createElement("input");return o.type="color",s?s instanceof i.default.Color?o.value=s.toString("#rrggbb"):(i.default.prototype._colorMode="rgb",i.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},o.value=i.default.prototype.color(s).toString("#rrggbb")):o.value="#000000",(o=a(o,this)).color=function(){return s&&(s.mode&&(i.default.prototype._colorMode=s.mode),s.maxes&&(i.default.prototype._colorMaxes=s.maxes)),i.default.prototype.color(this.elt.value)},o},i.default.prototype.createInput=function(){var s=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",o=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text",n=(i.default._validateParameters("createInput",arguments),document.createElement("input"));return n.setAttribute("value",s),n.setAttribute("type",o),a(n,this)},i.default.prototype.createFileInput=function(s){var o,n=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(i.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(o=document.createElement("input")).setAttribute("type","file"),n&&o.setAttribute("multiple",!0),o.addEventListener("change",function(u){var h=!0,p=!1,v=void 0;try{for(var _,j=u.target.files[Symbol.iterator]();!(h=(_=j.next()).done);h=!0){var x=_.value;i.default.File._load(x,s)}}catch(M){p=!0,v=M}finally{try{h||j.return==null||j.return()}finally{if(p)throw v}}},!1),a(o,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},i.default.prototype.createVideo=function(s,o){return i.default._validateParameters("createVideo",arguments),d(this,"video",s,o)},i.default.prototype.createAudio=function(s,o){return i.default._validateParameters("createAudio",arguments),d(this,"audio",s,o)},i.default.prototype.VIDEO="video",i.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(s){var o=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return o?new Promise(function(n,u){o.call(navigator,s,n,u)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),i.default.prototype.createCapture=function(){if(i.default._validateParameters("createCapture",arguments),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");var s,o=!0,n=!0,u=!0,h=!1,p=void 0;try{for(var v,_=arguments[Symbol.iterator]();!(u=(v=_.next()).done);u=!0){var j=v.value;j===i.default.prototype.VIDEO?n=!1:j===i.default.prototype.AUDIO?o=!1:r(j)==="object"?x=j:typeof j=="function"&&(s=j)}}catch(C){h=!0,p=C}finally{try{u||_.return==null||_.return()}finally{if(h)throw p}}var x=x||{video:o,audio:n},M=document.createElement("video"),E=(M.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(x).then(function(C){try{"srcObject"in M?M.srcObject=C:M.src=window.URL.createObjectURL(C)}catch{M.src=C}},console.log),a(M,this,!0));return E.loadedmetadata=!1,M.addEventListener("loadedmetadata",function(){M.play(),M.width?(E.width=M.width,E.height=M.height):(E.width=E.elt.width=M.videoWidth,E.height=E.elt.height=M.videoHeight),E.loadedmetadata=!0,s&&s(M.srcObject)}),E},i.default.prototype.createElement=function(s,o){return i.default._validateParameters("createElement",arguments),s=document.createElement(s),o!==void 0&&(s.innerHTML=o),a(s,this)},i.default.Element.prototype.addClass=function(s){return this.elt.className?this.hasClass(s)||(this.elt.className=this.elt.className+" "+s):this.elt.className=s,this},i.default.Element.prototype.removeClass=function(s){return this.elt.classList.remove(s),this},i.default.Element.prototype.hasClass=function(s){return this.elt.classList.contains(s)},i.default.Element.prototype.toggleClass=function(s){return this.elt.classList.contains(s)?this.elt.classList.remove(s):this.elt.classList.add(s),this},i.default.Element.prototype.child=function(s){return s===void 0?this.elt.childNodes:(typeof s=="string"?(s[0]==="#"&&(s=s.substring(1)),s=document.getElementById(s)):s instanceof i.default.Element&&(s=s.elt),s instanceof HTMLElement&&this.elt.appendChild(s),this)},i.default.Element.prototype.center=function(s){var o=this.elt.style.display,n=this.elt.style.display==="none",u=this.parent().style.display==="none",h={x:this.elt.offsetLeft,y:this.elt.offsetTop},p=(n&&this.show(),u&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),v=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return s==="both"||s===void 0?this.position(p/2+this.parent().offsetLeft,v/2+this.parent().offsetTop):s==="horizontal"?this.position(p/2+this.parent().offsetLeft,h.y):s==="vertical"&&this.position(h.x,v/2+this.parent().offsetTop),this.style("display",o),n&&this.hide(),u&&this.parent().hide(),this},i.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments[1]?this.elt.insertAdjacentHTML("beforeend",arguments[0]):this.elt.innerHTML=arguments[0],this)},i.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=arguments[2]!=="static"&&arguments[2]!=="fixed"&&arguments[2]!=="relative"&&arguments[2]!=="sticky"&&arguments[2]!=="initial"&&arguments[2]!=="inherit"?"absolute":arguments[2],this.elt.style.left=arguments[0]+"px",this.elt.style.top=arguments[1]+"px",this.x=arguments[0],this.y=arguments[1],this)},i.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var s="";return this.elt.style.transform&&(s=(s=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+arguments[0]+"px, "+arguments[1]+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+arguments[0]+"px,"+arguments[1]+"px,"+arguments[2]+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":arguments[3]+"px"),this.elt.style.transform+=s,this},i.default.Element.prototype._rotate=function(){var s="";return this.elt.style.transform&&(s=(s=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+arguments[0]+"deg)":arguments.length===2?this.elt.style.transform="rotate("+arguments[0]+"deg, "+arguments[1]+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+arguments[0]+"deg)",this.elt.style.transform+="rotateY("+arguments[1]+"deg)",this.elt.style.transform+="rotateZ("+arguments[2]+"deg)"),this.elt.style.transform+=s,this},i.default.Element.prototype.style=function(s,o){if((o=o instanceof i.default.Color?"rgba("+o.levels[0]+","+o.levels[1]+","+o.levels[2]+","+o.levels[3]/255+")":o)===void 0){if(s.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(s);for(var n=s.split(";"),u=0;u<n.length;u++){var h=n[u].split(":");h[0]&&h[1]&&(this.elt.style[h[0].trim()]=h[1].trim())}}else this.elt.style[s]=o,s!=="width"&&s!=="height"&&s!=="left"&&s!=="top"||(o=window.getComputedStyle(this.elt).getPropertyValue(s).replace(/[^\d.]/g,""),this[s]=Math.round(parseFloat(o,10)));return this},i.default.Element.prototype.attribute=function(s,o){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return o===void 0?this.elt.getAttribute(s):(this.elt.setAttribute(s,o),this);if(o===void 0)return this.elt.firstChild.getAttribute(s);for(var n=0;n<this.elt.childNodes.length;n++)this.elt.childNodes[n].setAttribute(s,o)},i.default.Element.prototype.removeAttribute=function(s){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var o=0;o<this.elt.childNodes.length;o++)this.elt.childNodes[o].removeAttribute(s);return this.elt.removeAttribute(s),this},i.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},i.default.Element.prototype.show=function(){return this.elt.style.display="block",this},i.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},i.default.Element.prototype.size=function(s,o){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var n=s,u=o,h=i.default.prototype.AUTO;if(n!==h||u!==h){if(n===h?n=o*this.width/this.height:u===h&&(u=s*this.height/this.width),this.elt instanceof HTMLCanvasElement){var p,v={},_=this.elt.getContext("2d");for(p in _)v[p]=_[p];for(p in this.elt.setAttribute("width",n*this._pInst._pixelDensity),this.elt.setAttribute("height",u*this._pInst._pixelDensity),this.elt.style.width=n+"px",this.elt.style.height=u+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),v)this.elt.getContext("2d")[p]=v[p]}else this.elt.style.width=n+"px",this.elt.style.height=u+"px",this.elt.width=n,this.elt.height=u;this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",this.elt.offsetWidth),this._pInst._setProperty("height",this.elt.offsetHeight))}return this},i.default.Element.prototype.remove=function(){this instanceof i.default.MediaElement&&(this.stop(),(o=this.elt.srcObject)!==null&&o.getTracks().forEach(function(n){n.stop()}));var s,o=this._pInst._elements.indexOf(this);for(s in o!==-1&&this._pInst._elements.splice(o,1),this._events)this.elt.removeEventListener(s,this._events[s]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},i.default.Element.prototype.drop=function(s,o){var n;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",n=function(u){u.preventDefault()}),this.elt.addEventListener("dragleave",n)),i.default.Element._attachListener("drop",function(u){u.preventDefault(),typeof o=="function"&&o.call(this,u);for(var h=u.dataTransfer.files,p=0;p<h.length;p++){var v=h[p];i.default.File._load(v,s)}},this)):console.log("The File APIs are not fully supported in this browser."),this},i.default.MediaElement=function(s,o){i.default.Element.call(this,s,o);var n=this;this.elt.crossOrigin="anonymous",this._prevTime=0,this._cueIDCounter=0,this._cues=[],(this._pixelsState=this)._pixelDensity=1,this._modified=!1,Object.defineProperty(n,"src",{get:function(){var u=n.elt.children[0].src,h=n.elt.src===window.location.href?"":n.elt.src;return u===window.location.href?h:u},set:function(u){for(var h=0;h<n.elt.children.length;h++)n.elt.removeChild(n.elt.children[h]);var p=document.createElement("source");p.src=u,s.appendChild(p),n.elt.src=u,n.modified=!0}}),n._onended=function(){},n.elt.onended=function(){n._onended(n)}},i.default.MediaElement.prototype=Object.create(i.default.Element.prototype),i.default.MediaElement.prototype.play=function(){var s,o=this;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(s=this.elt.play())&&s.catch&&s.catch(function(n){n.name==="NotAllowedError"?i.default._friendlyAutoplayError(o.src):console.error("Media play method encountered an unexpected error",n)}),this},i.default.MediaElement.prototype.stop=function(){return this.elt.pause(),this.elt.currentTime=0,this},i.default.MediaElement.prototype.pause=function(){return this.elt.pause(),this},i.default.MediaElement.prototype.loop=function(){return this.elt.setAttribute("loop",!0),this.play(),this},i.default.MediaElement.prototype.noLoop=function(){return this.elt.removeAttribute("loop"),this},i.default.MediaElement.prototype._setupAutoplayFailDetection=function(){var s=this,o=setTimeout(function(){return i.default._friendlyAutoplayError(s.src)},500);this.elt.addEventListener("play",function(){return clearTimeout(o)},{passive:!0,once:!0})},i.default.MediaElement.prototype.autoplay=function(s){var o=this,n=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",s),s&&!n&&(s=function(){return o._setupAutoplayFailDetection()},this.elt.readyState===4?s():this.elt.addEventListener("canplay",s,{passive:!0,once:!0})),this},i.default.MediaElement.prototype.volume=function(s){if(s===void 0)return this.elt.volume;this.elt.volume=s},i.default.MediaElement.prototype.speed=function(s){if(s===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=s:this.presetPlaybackRate=s},i.default.MediaElement.prototype.time=function(s){return s===void 0?this.elt.currentTime:(this.elt.currentTime=s,this)},i.default.MediaElement.prototype.duration=function(){return this.elt.duration},i.default.MediaElement.prototype.pixels=[],i.default.MediaElement.prototype._ensureCanvas=function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0)),this.loadedmetadata&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.setModified(!0))},i.default.MediaElement.prototype.loadPixels=function(){return this._ensureCanvas(),i.default.Renderer2D.prototype.loadPixels.apply(this,arguments)},i.default.MediaElement.prototype.updatePixels=function(s,o,n,u){return this.loadedmetadata&&(this._ensureCanvas(),i.default.Renderer2D.prototype.updatePixels.call(this,s,o,n,u)),this.setModified(!0),this},i.default.MediaElement.prototype.get=function(){return this._ensureCanvas(),i.default.Renderer2D.prototype.get.apply(this,arguments)},i.default.MediaElement.prototype._getPixel=function(){return this.loadPixels(),i.default.Renderer2D.prototype._getPixel.apply(this,arguments)},i.default.MediaElement.prototype.set=function(s,o,n){this.loadedmetadata&&(this._ensureCanvas(),i.default.Renderer2D.prototype.set.call(this,s,o,n),this.setModified(!0))},i.default.MediaElement.prototype.copy=function(){this._ensureCanvas(),i.default.prototype.copy.apply(this,arguments)},i.default.MediaElement.prototype.mask=function(){this.loadPixels(),this.setModified(!0),i.default.Image.prototype.mask.apply(this,arguments)},i.default.MediaElement.prototype.isModified=function(){return this._modified},i.default.MediaElement.prototype.setModified=function(s){this._modified=s},i.default.MediaElement.prototype.onended=function(s){return this._onended=s,this},i.default.MediaElement.prototype.connect=function(s){var o,n;if(typeof i.default.prototype.getAudioContext=="function")o=i.default.prototype.getAudioContext(),n=i.default.soundOut.input;else try{n=(o=s.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=o.createMediaElementSource(this.elt),this.audioSourceNode.connect(n)),s?s.input?this.audioSourceNode.connect(s.input):this.audioSourceNode.connect(s):this.audioSourceNode.connect(n)},i.default.MediaElement.prototype.disconnect=function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()},i.default.MediaElement.prototype.showControls=function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0},i.default.MediaElement.prototype.hideControls=function(){this.elt.controls=!1};function f(s,o,n,u){this.callback=s,this.time=o,this.id=n,this.val=u}i.default.MediaElement.prototype.addCue=function(s,h,n){var u=this._cueIDCounter++,h=new f(h,s,u,n);return this._cues.push(h),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),u},i.default.MediaElement.prototype.removeCue=function(s){for(var o=0;o<this._cues.length;o++)this._cues[o].id===s&&(console.log(s),this._cues.splice(o,1));this._cues.length===0&&(this.elt.ontimeupdate=null)},i.default.MediaElement.prototype.clearCues=function(){this._cues=[],this.elt.ontimeupdate=null},i.default.MediaElement.prototype._onTimeUpdate=function(){for(var s=this.time(),o=0;o<this._cues.length;o++){var n=this._cues[o].time,u=this._cues[o].val;this._prevTime<n&&n<=s&&this._cues[o].callback(u)}this._prevTime=s},i.default.File=function(s,o){this.file=s,this._pInst=o,o=s.type.split("/"),this.type=o[0],this.subtype=o[1],this.name=s.name,this.size=s.size,this.data=void 0},i.default.File._createLoader=function(s,o){var n=new FileReader;return n.onload=function(u){var h,p=new i.default.File(s);p.file.type==="application/json"?p.data=JSON.parse(u.target.result):p.file.type==="text/xml"?(h=new DOMParser().parseFromString(u.target.result,"text/xml"),p.data=new i.default.XML(h.documentElement)):p.data=u.target.result,o(p)},n},i.default.File._load=function(s,o){var n;/^text\//.test(s.type)||s.type==="application/json"?i.default.File._createLoader(s,o).readAsText(s):/^(video|audio)\//.test(s.type)?((n=new i.default.File(s)).data=URL.createObjectURL(s),o(n)):i.default.File._createLoader(s,o).readAsDataURL(s)},e=i.default,y.default=e},{"../core/main":267,"core-js/modules/es.array.every":151,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.from":155,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":165,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230,"core-js/modules/web.url":232}],284:[function(e,g,y){function l(j){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(j)}function i(j){return(i=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(x){return l(x)}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":l(x)})(j)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var r=(_=e("../core/main"))&&_.__esModule?_:{default:_},a=function(j){if(j&&j.__esModule)return j;if(j===null||i(j)!=="object"&&typeof j!="function")return{default:j};var x=d();if(x&&x.has(j))return x.get(j);var M,E={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(M in j){var R;Object.prototype.hasOwnProperty.call(j,M)&&((R=C?Object.getOwnPropertyDescriptor(j,M):null)&&(R.get||R.set)?Object.defineProperty(E,M,R):E[M]=j[M])}return E.default=j,x&&x.set(j,E),E}(e("../core/constants"));function d(){var j;return typeof WeakMap!="function"?null:(j=new WeakMap,d=function(){return j},j)}r.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",r.default.prototype.accelerationX=0,r.default.prototype.accelerationY=0,r.default.prototype.accelerationZ=0,r.default.prototype.pAccelerationX=0,r.default.prototype.pAccelerationY=0,r.default.prototype.pAccelerationZ=0,r.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},r.default.prototype.rotationX=0,r.default.prototype.rotationY=0,r.default.prototype.rotationZ=0,r.default.prototype.pRotationX=0,r.default.prototype.pRotationY=0;var f=r.default.prototype.pRotationZ=0,s=0,o=0,n="clockwise",u="clockwise",h="clockwise",p=(r.default.prototype.pRotateDirectionX=void 0,r.default.prototype.pRotateDirectionY=void 0,r.default.prototype.pRotateDirectionZ=void 0,r.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},r.default.prototype.turnAxis=void 0,.5),v=30,_=(r.default.prototype.setMoveThreshold=function(j){r.default._validateParameters("setMoveThreshold",arguments),p=j},r.default.prototype.setShakeThreshold=function(j){r.default._validateParameters("setShakeThreshold",arguments),v=j},r.default.prototype._ondeviceorientation=function(j){this._updatePRotations(),this._angleMode===a.radians&&(j.beta=j.beta*(_PI/180),j.gamma=j.gamma*(_PI/180),j.alpha=j.alpha*(_PI/180)),this._setProperty("rotationX",j.beta),this._setProperty("rotationY",j.gamma),this._setProperty("rotationZ",j.alpha),this._handleMotion()},r.default.prototype._ondevicemotion=function(j){this._updatePAccelerations(),this._setProperty("accelerationX",2*j.acceleration.x),this._setProperty("accelerationY",2*j.acceleration.y),this._setProperty("accelerationZ",2*j.acceleration.z),this._handleMotion()},r.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var j,x,M,E,C,R=this._isGlobal?window:this;typeof R.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>p||Math.abs(this.accelerationY-this.pAccelerationY)>p||Math.abs(this.accelerationZ-this.pAccelerationZ)>p)&&R.deviceMoved(),typeof R.deviceTurned=="function"&&(x=this.rotationX+180,j=this.pRotationX+180,M=f+180,0<x-j&&x-j<270||x-j<-270?n="clockwise":(x-j<0||270<x-j)&&(n="counter-clockwise"),n!==this.pRotateDirectionX&&(M=x),90<Math.abs(x-M)&&Math.abs(x-M)<270&&(M=x,this._setProperty("turnAxis","X"),R.deviceTurned()),this.pRotateDirectionX=n,f=M-180,j=this.rotationY+180,x=this.pRotationY+180,M=s+180,0<j-x&&j-x<270||j-x<-270?u="clockwise":(j-x<0||270<j-this.pRotationY)&&(u="counter-clockwise"),u!==this.pRotateDirectionY&&(M=j),90<Math.abs(j-M)&&Math.abs(j-M)<270&&(M=j,this._setProperty("turnAxis","Y"),R.deviceTurned()),this.pRotateDirectionY=u,s=M-180,0<this.rotationZ-this.pRotationZ&&this.rotationZ-this.pRotationZ<270||this.rotationZ-this.pRotationZ<-270?h="clockwise":(this.rotationZ-this.pRotationZ<0||270<this.rotationZ-this.pRotationZ)&&(h="counter-clockwise"),h!==this.pRotateDirectionZ&&(o=this.rotationZ),90<Math.abs(this.rotationZ-o)&&Math.abs(this.rotationZ-o)<270&&(o=this.rotationZ,this._setProperty("turnAxis","Z"),R.deviceTurned()),this.pRotateDirectionZ=h,this._setProperty("turnAxis",void 0)),typeof R.deviceShaken=="function"&&(this.pAccelerationX!==null&&(E=Math.abs(this.accelerationX-this.pAccelerationX),C=Math.abs(this.accelerationY-this.pAccelerationY)),v<E+C&&R.deviceShaken())},r.default);y.default=_},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],285:[function(e,g,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(e=e("../core/main"))&&e.__esModule?e:{default:e};l.default.prototype.isKeyPressed=!1,l.default.prototype.keyIsPressed=!1,l.default.prototype.key="",l.default.prototype.keyCode=0,l.default.prototype._onkeydown=function(i){var r;this._downKeys[i.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",i.which),this._downKeys[i.which]=!0,this._setProperty("key",i.key||String.fromCharCode(i.which)||i.which),typeof(r=this._isGlobal?window:this).keyPressed!="function"||i.charCode||r.keyPressed(i)===!1&&i.preventDefault())},l.default.prototype._onkeyup=function(i){this._downKeys[i.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",i.key||String.fromCharCode(i.which)||i.which),this._setProperty("keyCode",i.which);var r=this._isGlobal?window:this;typeof r.keyReleased=="function"&&r.keyReleased(i)===!1&&i.preventDefault()},l.default.prototype._onkeypress=function(i){var r;i.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",i.which),this._setProperty("key",i.key||String.fromCharCode(i.which)||i.which),typeof(r=this._isGlobal?window:this).keyTyped=="function"&&r.keyTyped(i)===!1&&i.preventDefault())},l.default.prototype._onblur=function(i){this._downKeys={}},l.default.prototype.keyIsDown=function(i){return l.default._validateParameters("keyIsDown",arguments),this._downKeys[i]||!1},l.default.prototype._areDownKeys=function(){for(var i in this._downKeys)if(this._downKeys.hasOwnProperty(i)&&this._downKeys[i]===!0)return!0;return!1},e=l.default,y.default=e},{"../core/main":267}],286:[function(e,g,y){function l(f){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(f)}function i(f){return(i=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(s){return l(s)}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":l(s)})(f)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.string.includes"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var r=(r=e("../core/main"))&&r.__esModule?r:{default:r},a=function(f){if(f&&f.__esModule)return f;if(f===null||i(f)!=="object"&&typeof f!="function")return{default:f};var s=d();if(s&&s.has(f))return s.get(f);var o,n={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in f){var h;Object.prototype.hasOwnProperty.call(f,o)&&((h=u?Object.getOwnPropertyDescriptor(f,o):null)&&(h.get||h.set)?Object.defineProperty(n,o,h):n[o]=f[o])}return n.default=f,s&&s.set(f,n),n}(e("../core/constants"));function d(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,d=function(){return f},f)}r.default.prototype.movedX=0,r.default.prototype.movedY=0,r.default.prototype._hasMouseInteracted=!1,r.default.prototype.mouseX=0,r.default.prototype.mouseY=0,r.default.prototype.pmouseX=0,r.default.prototype.pmouseY=0,r.default.prototype.winMouseX=0,r.default.prototype.winMouseY=0,r.default.prototype.pwinMouseX=0,r.default.prototype.pwinMouseY=0,r.default.prototype.mouseButton=0,r.default.prototype.mouseIsPressed=!1,r.default.prototype._updateNextMouseCoords=function(f){var s,o,n,u,h;this._curElement!==null&&(!f.touches||0<f.touches.length)&&(s=this._curElement.elt,o=this.width,n=this.height,(u=f)&&!u.clientX&&(u.touches?u=u.touches[0]:u.changedTouches&&(u=u.changedTouches[0])),h=s.getBoundingClientRect(),o=s.scrollWidth/o||1,s=s.scrollHeight/n||1,n={x:(u.clientX-h.left)/o,y:(u.clientY-h.top)/s,winX:u.clientX,winY:u.clientY,id:u.identifier},this._setProperty("movedX",f.movementX),this._setProperty("movedY",f.movementY),this._setProperty("mouseX",n.x),this._setProperty("mouseY",n.y),this._setProperty("winMouseX",n.winX),this._setProperty("winMouseY",n.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},r.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},r.default.prototype._setMouseButton=function(f){f.button===1?this._setProperty("mouseButton",a.CENTER):f.button===2?this._setProperty("mouseButton",a.RIGHT):this._setProperty("mouseButton",a.LEFT)},r.default.prototype._onmousemove=function(f){var s=this._isGlobal?window:this;this._updateNextMouseCoords(f),this.mouseIsPressed?typeof s.mouseDragged=="function"?s.mouseDragged(f)===!1&&f.preventDefault():typeof s.touchMoved=="function"&&s.touchMoved(f)===!1&&f.preventDefault():typeof s.mouseMoved=="function"&&s.mouseMoved(f)===!1&&f.preventDefault()},r.default.prototype._onmousedown=function(f){var s=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(f),this._updateNextMouseCoords(f),typeof s.mousePressed=="function"?s.mousePressed(f)===!1&&f.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof s.touchStarted=="function"&&s.touchStarted(f)===!1&&f.preventDefault()},r.default.prototype._onmouseup=function(f){var s=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),typeof s.mouseReleased=="function"?s.mouseReleased(f)===!1&&f.preventDefault():typeof s.touchEnded=="function"&&s.touchEnded(f)===!1&&f.preventDefault()},r.default.prototype._ondragend=r.default.prototype._onmouseup,r.default.prototype._ondragover=r.default.prototype._onmousemove,r.default.prototype._onclick=function(f){var s=this._isGlobal?window:this;typeof s.mouseClicked=="function"&&s.mouseClicked(f)===!1&&f.preventDefault()},r.default.prototype._ondblclick=function(f){var s=this._isGlobal?window:this;typeof s.doubleClicked=="function"&&s.doubleClicked(f)===!1&&f.preventDefault()},r.default.prototype._mouseWheelDeltaY=0,r.default.prototype._pmouseWheelDeltaY=0,r.default.prototype._onwheel=function(f){var s=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",f.deltaY),typeof s.mouseWheel=="function"&&(f.delta=f.deltaY,s.mouseWheel(f)===!1&&f.preventDefault())},r.default.prototype.requestPointerLock=function(){var f=this._curElement.elt;return f.requestPointerLock=f.requestPointerLock||f.mozRequestPointerLock,f.requestPointerLock?(f.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},r.default.prototype.exitPointerLock=function(){document.exitPointerLock()},e=r.default,y.default=e},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],287:[function(e,g,y){e("core-js/modules/es.array.includes"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.string.includes"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,e=(e=e("../core/main"))&&e.__esModule?e:{default:e},e.default.prototype.touches=[],e.default.prototype._updateTouchCoords=function(l){if(this._curElement!==null){for(var i=[],r=0;r<l.touches.length;r++)i[r]=function(h,u,p,s){var o=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,n=h.getBoundingClientRect(),u=h.scrollWidth/u||1,h=h.scrollHeight/p||1,p=s.touches[o]||s.changedTouches[o];return{x:(p.clientX-n.left)/u,y:(p.clientY-n.top)/h,winX:p.clientX,winY:p.clientY,id:p.identifier}}(this._curElement.elt,this.width,this.height,l,r);this._setProperty("touches",i)}},e.default.prototype._ontouchstart=function(l){var i=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(l),this._updateNextMouseCoords(l),this._updateMouseCoords(),typeof i.touchStarted=="function"?i.touchStarted(l)===!1&&l.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof i.mousePressed=="function"&&i.mousePressed(l)===!1&&l.preventDefault()},e.default.prototype._ontouchmove=function(l){var i=this._isGlobal?window:this;this._updateTouchCoords(l),this._updateNextMouseCoords(l),typeof i.touchMoved=="function"?i.touchMoved(l)===!1&&l.preventDefault():typeof i.mouseDragged=="function"&&i.mouseDragged(l)===!1&&l.preventDefault()},e.default.prototype._ontouchend=function(l){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(l),this._updateNextMouseCoords(l);var i=this._isGlobal?window:this;typeof i.touchEnded=="function"?i.touchEnded(l)===!1&&l.preventDefault():typeof i.mouseReleased=="function"&&i.mouseReleased(l)===!1&&l.preventDefault()},e=e.default,y.default=e},{"../core/main":267,"core-js/modules/es.array.includes":156,"core-js/modules/es.string.includes":185}],288:[function(e,g,y){e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.int32-array"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.int32-array"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l,i,r,a,d={};function f(s,o){for(var n,u,h,p,v,_,j,x,M,E,C=d._toPixels(s),R=s.width,O=s.height,P=R*O,I=new Int32Array(P),N=0;N<P;N++)I[N]=d._getARGB(C,N);var U,W,z,q=new Int32Array(P),Y=new Int32Array(P),G=new Int32Array(P),X=new Int32Array(P),$=0,ne=3.5*o|0;if(l!==(ne=ne<1?1:ne<248?ne:248)){i=1+(l=ne)<<1,r=new Int32Array(i),a=new Array(i);for(var k,L,F=0;F<i;F++)a[F]=new Int32Array(256);for(var H=1,ee=ne-1;H<ne;H++){r[ne+H]=r[ee]=L=ee*ee;for(var re=a[ne+H],le=a[ee--],fe=0;fe<256;fe++)re[fe]=le[fe]=L*fe}k=r[ne]=ne*ne,re=a[ne];for(var ae=0;ae<256;ae++)re[ae]=k*ae}for(W=0;W<O;W++){for(U=0;U<R;U++){if(p=h=u=v=n=0,(_=U-l)<0)E=-_,_=0;else{if(R<=_)break;E=0}for(z=E;z<i&&!(R<=_);z++){var ce,ge=I[_+$];v+=(ce=a[z])[(-16777216&ge)>>>24],u+=ce[(16711680&ge)>>16],h+=ce[(65280&ge)>>8],p+=ce[255&ge],n+=r[z],_++}q[j=$+U]=v/n,Y[j]=u/n,G[j]=h/n,X[j]=p/n}$+=R}for(M=(x=-l)*R,W=$=0;W<O;W++){for(U=0;U<R;U++){if(x<(p=h=u=v=n=0))E=j=-x,_=U;else{if(O<=x)break;E=0,j=x,_=U+M}for(z=E;z<i&&!(O<=j);z++)v+=(ce=a[z])[q[_]],u+=ce[Y[_]],h+=ce[G[_]],p+=ce[X[_]],n+=r[z],j++,_+=R;I[U+$]=v/n<<24|u/n<<16|h/n<<8|p/n}$+=R,M+=R,x++}d._setPixels(C,I)}d._toPixels=function(s){var o,n;return s instanceof ImageData?s.data:s.getContext("2d")?s.getContext("2d").getImageData(0,0,s.width,s.height).data:s.getContext("webgl")?(n=(o=s.getContext("webgl")).drawingBufferWidth*o.drawingBufferHeight*4,n=new Uint8Array(n),o.readPixels(0,0,s.width,s.height,o.RGBA,o.UNSIGNED_BYTE,n),n):void 0},d._getARGB=function(s,o){return o*=4,s[3+o]<<24&4278190080|s[o]<<16&16711680|s[1+o]<<8&65280|255&s[2+o]},d._setPixels=function(s,o){for(var n,u=0,h=s.length;u<h;u++)s[0+(n=4*u)]=(16711680&o[u])>>>16,s[1+n]=(65280&o[u])>>>8,s[2+n]=255&o[u],s[3+n]=(4278190080&o[u])>>>24},d._toImageData=function(s){return s instanceof ImageData?s:s.getContext("2d").getImageData(0,0,s.width,s.height)},d._createImageData=function(s,o){return d._tmpCanvas=document.createElement("canvas"),d._tmpCtx=d._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(s,o)},d.apply=function(s,p,n){var u=s.getContext("2d"),h=u.getImageData(0,0,s.width,s.height),p=p(h,n);p instanceof ImageData?u.putImageData(p,0,0,0,0,s.width,s.height):u.putImageData(h,0,0,0,0,s.width,s.height)},d.threshold=function(s,o){for(var n=d._toPixels(s),u=(o===void 0&&(o=.5),Math.floor(255*o)),h=0;h<n.length;h+=4){var p=void 0,p=u<=.2126*n[h]+.7152*n[h+1]+.0722*n[h+2]?255:0;n[h]=n[h+1]=n[h+2]=p}},d.gray=function(s){for(var o=d._toPixels(s),n=0;n<o.length;n+=4){var u=o[n],h=o[n+1],p=o[n+2];o[n]=o[n+1]=o[n+2]=.2126*u+.7152*h+.0722*p}},d.opaque=function(s){for(var o=d._toPixels(s),n=0;n<o.length;n+=4)o[n+3]=255;return o},d.invert=function(s){for(var o=d._toPixels(s),n=0;n<o.length;n+=4)o[n]=255-o[n],o[n+1]=255-o[n+1],o[n+2]=255-o[n+2]},d.posterize=function(s,o){var n=d._toPixels(s);if(o<2||255<o)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var u=o-1,h=0;h<n.length;h+=4){var p=n[h],v=n[h+1],_=n[h+2];n[h]=255*(p*o>>8)/u,n[h+1]=255*(v*o>>8)/u,n[h+2]=255*(_*o>>8)/u}},d.dilate=function(s){for(var o,n,u,h,p,v,_,j,x,M=d._toPixels(s),E=0,C=M.length?M.length/4:0,R=new Int32Array(C);E<C;)for(n=(o=E)+s.width;E<n;)h=u=d._getARGB(M,E),(x=E-1)<o&&(x=E),n<=(j=E+1)&&(j=E),(p=E-s.width)<0&&(p=0),C<=(v=E+s.width)&&(v=E),p=d._getARGB(M,p),x=d._getARGB(M,x),v=d._getARGB(M,v),(h=77*(h>>16&255)+151*(h>>8&255)+28*(255&h))<(_=77*(x>>16&255)+151*(x>>8&255)+28*(255&x))&&(u=x,h=_),h<(_=77*((x=d._getARGB(M,j))>>16&255)+151*(x>>8&255)+28*(255&x))&&(u=x,h=_),h<(j=77*(p>>16&255)+151*(p>>8&255)+28*(255&p))&&(u=p,h=j),h<(x=77*(v>>16&255)+151*(v>>8&255)+28*(255&v))&&(u=v,h=x),R[E++]=u;d._setPixels(M,R)},d.erode=function(s){for(var o,n,u,h,p,v,_,j,x,M=d._toPixels(s),E=0,C=M.length?M.length/4:0,R=new Int32Array(C);E<C;)for(n=(o=E)+s.width;E<n;)h=u=d._getARGB(M,E),(x=E-1)<o&&(x=E),n<=(j=E+1)&&(j=E),(p=E-s.width)<0&&(p=0),C<=(v=E+s.width)&&(v=E),p=d._getARGB(M,p),x=d._getARGB(M,x),v=d._getARGB(M,v),(_=77*(x>>16&255)+151*(x>>8&255)+28*(255&x))<(h=77*(h>>16&255)+151*(h>>8&255)+28*(255&h))&&(u=x,h=_),(_=77*((x=d._getARGB(M,j))>>16&255)+151*(x>>8&255)+28*(255&x))<h&&(u=x,h=_),(j=77*(p>>16&255)+151*(p>>8&255)+28*(255&p))<h&&(u=p,h=j),(x=77*(v>>16&255)+151*(v>>8&255)+28*(255&v))<h&&(u=v,h=x),R[E++]=u;d._setPixels(M,R)},d.blur=function(s,o){f(s,o)},y.default=d},{"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.int32-array":209,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226}],289:[function(e,g,y){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=r(e("../core/main")),i=r(e("omggif"));function r(d){return d&&d.__esModule?d:{default:d}}function a(d){return function(f){if(Array.isArray(f)){for(var s=0,o=new Array(f.length);s<f.length;s++)o[s]=f[s];return o}}(d)||function(f){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]")return Array.from(f)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}l.default.prototype.createImage=function(d,f){return l.default._validateParameters("createImage",arguments),new l.default.Image(d,f)},l.default.prototype.saveCanvas=function(){l.default._validateParameters("saveCanvas",arguments);var d,f,s,o,n=[].slice.call(arguments);switch(arguments[0]instanceof HTMLCanvasElement?(d=arguments[0],n.shift()):arguments[0]instanceof l.default.Element?(d=arguments[0].elt,n.shift()):d=this._curElement&&this._curElement.elt,1<=n.length&&(f=n[0]),s=(s=2<=n.length?n[1]:s)||l.default.prototype._checkFileExtension(f,s)[1]||"png"){default:o="image/png";break;case"jpeg":case"jpg":o="image/jpeg"}d.toBlob(function(u){l.default.prototype.downloadFile(u,f,s)},o)},l.default.prototype.encodeAndDownloadGif=function(d,f){for(var s=d.gifProperties,o=s.loopLimit,n=(o===1?o=null:o===null&&(o=0),new Uint8Array(d.width*d.height*s.numFrames)),u=[],h={},p=0;p<s.numFrames;p++){for(var v=new Set,_=s.frames[p].image.data,j=_.length,x=new Uint32Array(d.width*d.height),M=0,E=0;M<j;M+=4,E++){var C=_[M+0]<<16|_[M+1]<<8|_[M+2]<<0;v.add(C),x[E]=C}var R=a(v).sort().toString();h[R]===void 0?h[R]={freq:1,frames:[p]}:(h[R].freq+=1,h[R].frames.push(p)),u.push(x)}for(var I=[],O=Object.keys(h).sort(function(k,L){return h[L].freq-h[k].freq}),P=O[0].split(",").map(function(k){return parseInt(k)}),I=I.concat(h[P].frames),N=new Set(P),U=1;U<O.length;U++){var W=O[U].split(",").map(function(k){return parseInt(k)}).filter(function(k){return!N.has(k)});if(P.length+W.length<=256){for(var z=0;z<W.length;z++)P.push(W[z]),N.add(W[z]);I=I.concat(h[O[U]].frames)}}I=new Set(I);for(var q={},Y=0;Y<P.length;Y++)q[P[Y]]||(q[P[Y]]=Y);for(var G=1;G<P.length;)G<<=1;P.length=G;for(var o={loop:o,palette:new Uint32Array(P)},X=new i.default.GifWriter(n,d.width,d.height,o),$={},ne=0;ne<s.numFrames;ne++)(function(L){for(var F=!I.has(L),H=F?[]:P,ee=new Uint8Array(d.width*d.height),re={},le=new Set,fe=0;fe<u[L].length;fe++){var ae=u[L][fe];F?(re[ae]===void 0&&(re[ae]=H.length,H.push(ae)),ee[fe]=re[ae]):ee[fe]=q[ae],0<L&&u[L-1][fe]!==ae&&le.add(ae)}var ce={},ge=H.filter(function(me){return!le.has(me)});if(0<ge.length){var ge=ge[0],J=(F?re:q)[ge];if(0<L){for(var ie=0;ie<u[L].length;ie++)u[L-1][ie]===u[L][ie]&&(ee[ie]=J);ce.transparent=J,$.frameOpts.disposal=1}}if(ce.delay=s.frames[L].delay/10,F){for(var ue=1;ue<H.length;)ue<<=1;H.length=ue,ce.palette=new Uint32Array(H)}0<L&&X.addFrame(0,0,d.width,d.height,$.pixelPaletteIndex,$.frameOpts),$={pixelPaletteIndex:ee,frameOpts:ce}})(ne);$.frameOpts.disposal=1,X.addFrame(0,0,d.width,d.height,$.pixelPaletteIndex,$.frameOpts),o=new Blob([n.slice(0,X.end())],{type:"image/gif"}),l.default.prototype.downloadFile(o,f,"gif")},l.default.prototype.saveFrames=function(d,f,s,u,n){l.default._validateParameters("saveFrames",arguments),s=l.default.prototype.constrain(s=s||3,0,15),s*=1e3;var u=l.default.prototype.constrain(u||15,0,22),h=0,p=l.default.prototype._makeFrame,v=this._curElement.elt,_=[],j=setInterval(function(){_.push(p(d+h,f,v)),h++},1e3/u);setTimeout(function(){if(clearInterval(j),n)n(_);else{var x=!0,M=!1,E=void 0;try{for(var C,R=_[Symbol.iterator]();!(x=(C=R.next()).done);x=!0){var O=C.value;l.default.prototype.downloadFile(O.imageData,O.filename,O.ext)}}catch(P){M=!0,E=P}finally{try{x||R.return==null||R.return()}finally{if(M)throw E}}}_=[]},.01+s)},l.default.prototype._makeFrame=function(d,f,n){var o,n=this?this._curElement.elt:n;if(f)switch(f.toLowerCase()){case"png":o="image/png";break;case"jpeg":case"jpg":o="image/jpeg";break;default:o="image/png"}else f="png",o="image/png";var n=(n=n.toDataURL(o)).replace(o,"image/octet-stream"),u={};return u.imageData=n,u.filename=d,u.ext=f,u},e=l.default,y.default=e},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.set":183,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":230,omggif:240}],290:[function(e,g,y){function l(v){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(v)}function i(v){return(i=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(_){return l(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":l(_)})(v)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.copy-within"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.copy-within"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,e("regenerator-runtime/runtime");var r=n(e("../core/main")),a=n(e("../core/helpers")),d=function(v){if(v&&v.__esModule)return v;if(v===null||i(v)!=="object"&&typeof v!="function")return{default:v};var _=o();if(_&&_.has(v))return _.get(v);var j,x={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(j in v){var E;Object.prototype.hasOwnProperty.call(v,j)&&((E=M?Object.getOwnPropertyDescriptor(v,j):null)&&(E.get||E.set)?Object.defineProperty(x,j,E):x[j]=v[j])}return x.default=v,_&&_.set(v,x),x}(e("../core/constants")),f=n(e("omggif")),s=e("gifenc");function o(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,o=function(){return v},v)}function n(v){return v&&v.__esModule?v:{default:v}}function u(v,_,j,x,M,E,C){try{var R=v[E](C),O=R.value}catch(P){return void j(P)}R.done?_(O):Promise.resolve(O).then(x,M)}function h(v,_,j,x,M,E,C,R,O,P,I){var N,U,W,z,q,Y,G,X,$;return v===d.COVER&&(N=_,W=j,G=E,X=C,Y=R,$=O,U=P,z=I,q=Math.max(G/U,X/z),G/=q,X/=q,q=Y,Y=$,N===d.CENTER?q+=(U-G)/2:N===d.RIGHT&&(q+=U-G),W===d.CENTER?Y+=(z-X)/2:W===d.BOTTOM&&(Y+=z-X),R=($={x:q,y:Y,w:G,h:X}).x,O=$.y,P=$.w,I=$.h),v===d.CONTAIN&&(N=_,U=j,W=x,z=M,q=E,Y=C,G=P,X=I,$=Math.max(G/q,X/Y),G/=$,X/=$,$=W,W=z,N===d.CENTER?$+=(q-G)/2:N===d.RIGHT&&($+=q-G),U===d.CENTER?W+=(Y-X)/2:U===d.BOTTOM&&(W+=Y-X),x=(v={x:$,y:W,w:G,h:X}).x,M=v.y,E=v.w,C=v.h),{sx:R,sy:O,sw:P,sh:I,dx:x,dy:M,dw:E,dh:C}}function p(v,_){return 0<v&&v<_?v:_}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),r.default.prototype.loadImage=function(v,_,j){r.default._validateParameters("loadImage",arguments);var x=new r.default.Image(1,1,this),M=this,E=new Request(v,{method:"GET",mode:"cors"});return fetch(v,E).then(function(C){var R,O=C.headers.get("content-type");O===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),O&&O.includes("image/gif")?C.arrayBuffer().then(function(P){if(P){var P=new Uint8Array(P),I=x,N=_,U=j,W=function(F){M._decrementPreload()}.bind(M),z=new f.default.GifReader(P),q=(I.width=I.canvas.width=z.width,I.height=I.canvas.height=z.height,[]),Y=z.numFrames(),G=new Uint8ClampedArray(I.width*I.height*4);if(1<Y){for(var X=0;X<Y;X++){var $=z.frameInfo(X),ne=I.drawingContext.getImageData(0,0,I.width,I.height),k=(G=ne.data.slice(),function(F,H){try{H.decodeAndBlitFrameRGBA(F,G)}catch(ee){r.default._friendlyFileLoadError(8,I.src),typeof U=="function"?U(ee):console.error(ee)}}(X,z),new ImageData(G,I.width,I.height)),k=(I.drawingContext.putImageData(k,0,0),$.delay);k===0&&(k=10),q.push({image:I.drawingContext.getImageData(0,0,I.width,I.height),delay:10*k}),$.disposal===2?I.drawingContext.clearRect($.x,$.y,$.width,$.height):$.disposal===3&&I.drawingContext.putImageData(ne,0,0,$.x,$.y,$.width,$.height)}P=z.loopCount(),P===null?P=1:P===0&&(P=null),I.drawingContext.putImageData(q[0].image,0,0),I.gifProperties={displayIndex:0,loopLimit:P,loopCount:0,frames:q,numFrames:Y,playing:!0,timeDisplayed:0,lastChangeTime:0}}typeof N=="function"&&N(I),W()}},function(P){typeof j=="function"?j(P):console.error(P)}):((R=new Image).onload=function(){x.width=x.canvas.width=R.width,x.height=x.canvas.height=R.height,x.drawingContext.drawImage(R,0,0),x.modified=!0,typeof _=="function"&&_(x),M._decrementPreload()},R.onerror=function(P){r.default._friendlyFileLoadError(0,R.src),typeof j=="function"?j(P):console.error(P)},v.indexOf("data:image/")!==0&&(R.crossOrigin="Anonymous"),R.src=v),x.modified=!0}).catch(function(C){r.default._friendlyFileLoadError(0,v),typeof j=="function"?j(C):console.error(C)}),x},r.default.prototype.saveGif=function(){v=regeneratorRuntime.mark(function j(x,M){var E,C,R,O,P,I,N,U,W,z,q,Y,G,X,$,ne,k,L,F,H,ee,re,le,fe,ae,ce=arguments;return regeneratorRuntime.wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:if(E=2<ce.length&&ce[2]!==void 0?ce[2]:{delay:0,units:"seconds"},typeof x!="string")throw TypeError("fileName parameter must be a string");ge.next=3;break;case 3:if(typeof M!="number")throw TypeError("Duration parameter must be a number");ge.next=5;break;case 5:if(typeof E.delay!="number")throw TypeError("Delay parameter must be a number");ge.next=7;break;case 7:if(E.units!=="seconds"&&E.units!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');ge.next=9;break;case 9:I=E.units,P=E.delay,O=this._targetFrameRate,C=(C=1/(O=O!==1/0&&O!==void 0&&O!==0?O:60)*1e3)<20?20:C,O=(R=I==="seconds"?M*O:M)+(I=I==="seconds"?P*O:P),P=I,this.frameCount=P,I=this._pixelDensity,this.pixelDensity(1),N=[],U="p5.gif.progressBar",document.getElementById(U)!==null&&document.getElementById(U).remove(),(U=this.createP("")).id("progressBar"),U.style("font-size","16px"),U.style("font-family","Montserrat"),U.style("background-color","#ffffffa0"),U.style("padding","8px"),U.style("border-radius","10px"),U.position(0,0),this.drawingContext instanceof WebGLRenderingContext&&(z=document.getElementById("defaultCanvas0").getContext("webgl"),W=new Uint8Array(z.drawingBufferWidth*z.drawingBufferHeight*4)),this.noLoop();case 35:if(P<O)return this.redraw(),$=void 0,$=this.drawingContext instanceof WebGLRenderingContext?(W=new Uint8Array(z.drawingBufferWidth*z.drawingBufferHeight*4),z.readPixels(0,0,z.drawingBufferWidth,z.drawingBufferHeight,z.RGBA,z.UNSIGNED_BYTE,W),function(J){for(var ie=parseInt(height/2),ue=4*width,me=new Uint8Array(4*width),pe=0;pe<ie;++pe){var Te=pe*ue,we=(height-pe-1)*ue;me.set(J.subarray(Te,Te+ue)),J.copyWithin(Te,we,we+ue),J.set(me,we)}return J}(W)):this.drawingContext.getImageData(0,0,this.width,this.height).data,N.push($),P++,U.html("Saved frame <b>"+N.length.toString()+"</b> out of "+R.toString()),ge.next=44,new Promise(function(J){return setTimeout(J,0)});ge.next=46;break;case 44:ge.next=35;break;case 46:U.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(I),q=(0,s.GIFEncoder)(),Y=function(J){for(var ie=new Uint8Array(J.length*J[0].length),ue=0;ue<J.length;ue++)ie.set(J[0],ue*J[0].length);var me=(0,s.quantize)(ie,256,{format:"rgba444",oneBitAlpha:!0});return me.length===256?me[me.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:me.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),me}(N),G=Y.length-1,X=0;case 53:if(X<N.length){if(X===0)return $=(0,s.applyPalette)(N[X],Y,{format:"rgba4444"}),q.writeFrame($,this.width,this.height,{palette:Y,delay:C,dispose:1}),ge.abrupt("continue",68);ge.next=58}else ge.next=71;break;case 58:for(ne=N[X],k=N[X-1],L=[],F=0;F<ne.length;F+=4)H=[ne[F],ne[F+1],ne[F+2],ne[F+3]],ee=[k[F],k[F+1],k[F+2],k[F+3]],!function(J,ie){return Array.isArray(J)&&Array.isArray(ie)&&J.length===ie.length&&J.every(function(ue,me){return ue===ie[me]})}(H,ee)||L.push(F/4);for(re=(0,s.applyPalette)(ne,Y,{format:"rgba4444"}),le=0;le<L.length;le++)fe=L[le],re[fe]=G;return q.writeFrame(re,this.width,this.height,{delay:C,transparent:!0,transparentIndex:G,dispose:1}),U.html("Rendered frame <b>"+X.toString()+"</b> out of "+R.toString()),ge.next=68,new Promise(function(J){return setTimeout(J,0)});case 68:X++,ge.next=53;break;case 71:q.finish(),ae=q.bytesView(),ae=new Blob([ae],{type:"image/gif"}),N=[],this.loop(),U.html("Done. Downloading your gif!"),r.default.prototype.downloadFile(ae,x,"gif");case 79:case"end":return ge.stop()}},j,this)});var v,_=function(){var j=this,x=arguments;return new Promise(function(M,E){var C=v.apply(j,x);function R(P){u(C,M,E,R,O,"next",P)}function O(P){u(C,M,E,R,O,"throw",P)}R(void 0)})};return function(j,x){return _.apply(this,arguments)}}(),r.default.prototype.image=function(v,_,j,x,z,q,Y,G,$,P,I,N){r.default._validateParameters("image",arguments);var X=v.width,U=v.height,W=(N=N||d.CENTER,I=I||d.CENTER,v.elt&&v.elt.videoWidth&&!v.canvas&&(X=v.elt.videoWidth,U=v.elt.videoHeight),x||X),z=z||U,q=q||0,Y=Y||0,G=p(G||X,X),X=p($||U,U),$=1;v.elt&&!v.canvas&&v.elt.style.width&&($=v.elt.videoWidth&&!x?v.elt.videoWidth:v.elt.width,$/=parseInt(v.elt.style.width,10)),q*=$,Y*=$,X*=$,G*=$,U=h(P,I,N,(U=a.default.modeAdjust(_,j,W,z,this._renderer._imageMode)).x,U.y,U.w,U.h,q,Y,G,X),this._renderer.image(v,U.sx,U.sy,U.sw,U.sh,U.dx,U.dy,U.dw,U.dh)},r.default.prototype.tint=function(){for(var v=arguments.length,_=new Array(v),j=0;j<v;j++)_[j]=arguments[j];r.default._validateParameters("tint",_);var x=this.color.apply(this,_);this._renderer._tint=x.levels},r.default.prototype.noTint=function(){this._renderer._tint=null},r.default.prototype._getTintedImageCanvas=r.default.Renderer2D.prototype._getTintedImageCanvas,r.default.prototype.imageMode=function(v){r.default._validateParameters("imageMode",arguments),v!==d.CORNER&&v!==d.CORNERS&&v!==d.CENTER||(this._renderer._imageMode=v)},e=r.default,y.default=e},{"../core/constants":256,"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/helpers":263,"../core/main":267,"core-js/modules/es.array.copy-within":150,"core-js/modules/es.array.every":151,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/es.typed-array.uint8-clamped-array":227,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230,gifenc:237,omggif:240,"regenerator-runtime/runtime":244}],291:[function(e,g,y){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=r(e("../core/main")),i=r(e("./filters"));function r(a){return a&&a.__esModule?a:{default:a}}l.default.Image=function(a,d){this.width=a,this.height=d,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]},l.default.Image.prototype._animateGif=function(s){var d,f=this.gifProperties,s=s._lastFrameTime;f.lastChangeTime===0&&(f.lastChangeTime=s),f.playing&&(f.timeDisplayed=s-f.lastChangeTime,d=f.frames[f.displayIndex].delay,f.timeDisplayed>=d&&(d=Math.floor(f.timeDisplayed/d),f.timeDisplayed=0,f.lastChangeTime=s,f.displayIndex+=d,f.loopCount=Math.floor(f.displayIndex/f.numFrames),f.loopLimit!==null&&f.loopCount>=f.loopLimit?f.playing=!1:(s=f.displayIndex%f.numFrames,this.drawingContext.putImageData(f.frames[s].image,0,0),f.displayIndex=s,this.setModified(!0))))},l.default.Image.prototype._setProperty=function(a,d){this[a]=d,this.setModified(!0)},l.default.Image.prototype.loadPixels=function(){l.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)},l.default.Image.prototype.updatePixels=function(a,d,f,s){l.default.Renderer2D.prototype.updatePixels.call(this,a,d,f,s),this.setModified(!0)},l.default.Image.prototype.get=function(a,d,f,s){return l.default._validateParameters("p5.Image.get",arguments),l.default.Renderer2D.prototype.get.apply(this,arguments)},l.default.Image.prototype._getPixel=l.default.Renderer2D.prototype._getPixel,l.default.Image.prototype.set=function(a,d,f){l.default.Renderer2D.prototype.set.call(this,a,d,f),this.setModified(!0)},l.default.Image.prototype.resize=function(a,d){a===0&&d===0?(a=this.canvas.width,d=this.canvas.height):a===0?a=this.canvas.width*d/this.canvas.height:d===0&&(d=this.canvas.height*a/this.canvas.width),a=Math.floor(a),d=Math.floor(d);var f=document.createElement("canvas");if(f.width=a,f.height=d,this.gifProperties)for(var s=this.gifProperties,o=0;o<s.numFrames;o++){for(var n=this.drawingContext.createImageData(a,d),u=(j=j=_=v=p=void 0,s.frames[o].image),h=n,p=0,v=0;v<h.height;v++)for(var _=0;_<h.width;_++){var j=Math.floor(_*u.width/h.width),j=4*(Math.floor(v*u.height/h.height)*u.width+j);h.data[p++]=u.data[j++],h.data[p++]=u.data[j++],h.data[p++]=u.data[j++],h.data[p++]=u.data[+j]}s.frames[o].image=n}f.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,f.width,f.height),this.canvas.width=this.width=a,this.canvas.height=this.height=d,this.drawingContext.drawImage(f,0,0,a,d,0,0,a,d),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)},l.default.Image.prototype.copy=function(){for(var a=arguments.length,d=new Array(a),f=0;f<a;f++)d[f]=arguments[f];l.default.prototype.copy.apply(this,d)},l.default.Image.prototype.mask=function(a){var d=this.drawingContext.globalCompositeOperation,f=1,s=[a=a===void 0?this:a,0,0,(f=a instanceof l.default.Renderer?a._pInst._pixelDensity:f)*a.width,f*a.height,0,0,this.width,this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var o=0;o<this.gifProperties.frames.length;o++)this.drawingContext.putImageData(this.gifProperties.frames[o].image,0,0),l.default.Image.prototype.copy.apply(this,s),this.gifProperties.frames[o].image=this.drawingContext.getImageData(0,0,this.width,this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else l.default.Image.prototype.copy.apply(this,s);this.drawingContext.globalCompositeOperation=d,this.setModified(!0)},l.default.Image.prototype.filter=function(a,d){i.default.apply(this.canvas,i.default[a],d),this.setModified(!0)},l.default.Image.prototype.blend=function(){for(var a=arguments.length,d=new Array(a),f=0;f<a;f++)d[f]=arguments[f];l.default._validateParameters("p5.Image.blend",arguments),l.default.prototype.blend.apply(this,d),this.setModified(!0)},l.default.Image.prototype.setModified=function(a){this._modified=a},l.default.Image.prototype.isModified=function(){return this._modified},l.default.Image.prototype.save=function(a,d){this.gifProperties?l.default.prototype.encodeAndDownloadGif(this,a):l.default.prototype.saveCanvas(this.canvas,a,d)},l.default.Image.prototype.reset=function(){var a;this.gifProperties&&((a=this.gifProperties).playing=!0,a.timeSinceStart=0,a.timeDisplayed=0,a.lastChangeTime=0,a.loopCount=0,a.displayIndex=0,this.drawingContext.putImageData(a.frames[0].image,0,0))},l.default.Image.prototype.getCurrentFrame=function(){var a;if(this.gifProperties)return(a=this.gifProperties).displayIndex%a.numFrames},l.default.Image.prototype.setFrame=function(a){var d;this.gifProperties&&(a<(d=this.gifProperties).numFrames&&0<=a?(d.timeDisplayed=0,d.lastChangeTime=0,d.displayIndex=a,this.drawingContext.putImageData(d.frames[a].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))},l.default.Image.prototype.numFrames=function(){if(this.gifProperties)return this.gifProperties.numFrames},l.default.Image.prototype.play=function(){this.gifProperties&&(this.gifProperties.playing=!0)},l.default.Image.prototype.pause=function(){this.gifProperties&&(this.gifProperties.playing=!1)},l.default.Image.prototype.delay=function(a,d){if(this.gifProperties){var f=this.gifProperties;if(d<f.numFrames&&0<=d)f.frames[d].delay=a;else{var s=!0,d=!1,o=void 0;try{for(var n,u=f.frames[Symbol.iterator]();!(s=(n=u.next()).done);s=!0)n.value.delay=a}catch(p){d=!0,o=p}finally{try{s||u.return==null||u.return()}finally{if(d)throw o}}}}},e=l.default.Image,y.default=e},{"../core/main":267,"./filters":288,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],292:[function(e,g,y){e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.filter"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=r(e("../core/main")),i=r(e("./filters"));function r(a){return a&&a.__esModule?a:{default:a}}e("../color/p5.Color"),l.default.prototype.pixels=[],l.default.prototype.blend=function(){for(var a,d=arguments.length,f=new Array(d),s=0;s<d;s++)f[s]=arguments[s];l.default._validateParameters("blend",f),this._renderer?(a=this._renderer).blend.apply(a,f):l.default.Renderer2D.prototype.blend.apply(this,f)},l.default.prototype.copy=function(){for(var a,d,f,s,o,n,u,h,p,v=arguments.length,_=new Array(v),j=0;j<v;j++)_[j]=arguments[j];if(l.default._validateParameters("copy",_),_.length===9)a=_[0],d=_[1],f=_[2],s=_[3],o=_[4],n=_[5],u=_[6],h=_[7],p=_[8];else{if(_.length!==8)throw new Error("Signature not supported");a=this,d=_[0],f=_[1],s=_[2],o=_[3],n=_[4],u=_[5],h=_[6],p=_[7]}l.default.prototype._copyHelper(this,a,d,f,s,o,n,u,h,p)},l.default.prototype._copyHelper=function(a,d,f,s,o,n,u,h,p,v){d.loadPixels();var _=d.canvas.width/d.width,j=0,x=0;d._renderer&&d._renderer.isP3D&&(j=d.width/2,x=d.height/2),a._renderer&&a._renderer.isP3D?l.default.RendererGL.prototype.image.call(a._renderer,d,f+j,s+x,o,n,u,h,p,v):a.drawingContext.drawImage(d.canvas,_*(f+j),_*(s+x),_*o,_*n,u,h,p,v)},l.default.prototype.filter=function(a,d){l.default._validateParameters("filter",arguments),this.canvas!==void 0?i.default.apply(this.canvas,i.default[a],d):i.default.apply(this.elt,i.default[a],d)},l.default.prototype.get=function(a,d,f,s){var o;return l.default._validateParameters("get",arguments),(o=this._renderer).get.apply(o,arguments)},l.default.prototype.loadPixels=function(){for(var a=arguments.length,d=new Array(a),f=0;f<a;f++)d[f]=arguments[f];l.default._validateParameters("loadPixels",d),this._renderer.loadPixels()},l.default.prototype.set=function(a,d,f){this._renderer.set(a,d,f)},l.default.prototype.updatePixels=function(a,d,f,s){l.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(a,d,f,s)},e=l.default,y.default=e},{"../color/p5.Color":254,"../core/main":267,"./filters":288,"core-js/modules/es.array.filter":153}],293:[function(e,g,y){function l(n){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(n)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/web.url"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/web.url"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var i=d(e("../core/main")),r=(e("whatwg-fetch"),e("es6-promise/auto"),d(e("fetch-jsonp"))),a=d(e("file-saver"));function d(n){return n&&n.__esModule?n:{default:n}}function f(n){return(f=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(u){return l(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":l(u)})(n)}function s(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function o(n,u){u&&u!==!0&&u!=="true"||(u="");var h="";return(n=n||"untitled")&&n.includes(".")&&(h=n.split(".").pop()),u&&h!==u&&(h=u,n="".concat(n,".").concat(h)),[n,h]}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),i.default.prototype.loadJSON=function(){for(var n=arguments.length,u=new Array(n),h=0;h<n;h++)u[h]=arguments[h];i.default._validateParameters("loadJSON",u);for(var p,v,_,j=u[0],x={},M="json",E=1;E<u.length;E++){var C=u[E];typeof C=="string"?C!=="jsonp"&&C!=="json"||(M=C):typeof C=="function"?p?v=C:p=C:f(C)==="object"&&(C.hasOwnProperty("jsonpCallback")||C.hasOwnProperty("jsonpCallbackFunction"))&&(M="jsonp",_=C)}var R=this;return this.httpDo(j,"GET",_,M,function(O){for(var P in O)x[P]=O[P];p!==void 0&&p(O),R._decrementPreload()},function(O){if(i.default._friendlyFileLoadError(5,j),!v)throw O;v(O)}),x},i.default.prototype.loadStrings=function(){for(var n=arguments.length,u=new Array(n),h=0;h<n;h++)u[h]=arguments[h];i.default._validateParameters("loadStrings",u);for(var p,v,_=[],j=1;j<u.length;j++){var x=u[j];typeof x=="function"&&(p===void 0?p=x:v===void 0&&(v=x))}var M=this;return i.default.prototype.httpDo.call(this,u[0],"GET","text",function(E){for(var C=E.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),R=0,O=C.length;R<O;R+=32768)Array.prototype.push.apply(_,C.slice(R,Math.min(R+32768,O)));p!==void 0&&p(_),M._decrementPreload()},function(E){if(i.default._friendlyFileLoadError(3,E),!v)throw E;v(E)}),_},i.default.prototype.loadTable=function(n){var u,h,p,v=!1,_=n.substring(n.lastIndexOf(".")+1,n.length);_==="csv"?p=",":_==="ssv"?p=";":_==="tsv"&&(p="	");for(var j=1;j<arguments.length;j++)typeof arguments[j]=="function"?u===void 0?u=arguments[j]:h===void 0&&(h=arguments[j]):typeof arguments[j]=="string"&&(arguments[j]==="header"&&(v=!0),arguments[j]==="csv"?p=",":arguments[j]==="ssv"?p=";":arguments[j]==="tsv"&&(p="	"));var x=new i.default.Table,M=this;return this.httpDo(n,"GET","table",function(E){for(var C,R,O={},P=0,I=[],N=0,U=null,W=function(){O.currentState=P,O.token=""},z=function(){U.push(O.token),W()},q=function(){O.currentState=4,I.push(U),U=null};;){if((C=E[N++])==null){if(O.escaped)throw new Error("Unclosed quote in file.");if(U){z(),q();break}}if(U===null&&(O.escaped=!1,U=[],W()),O.currentState===P){if(C==='"'){O.escaped=!0,O.currentState=1;continue}O.currentState=1}if(O.currentState===1&&O.escaped)if(C==='"')E[N]==='"'?(O.token+='"',N++):(O.escaped=!1,O.currentState=2);else{if(C==="\r")continue;O.token+=C}else C==="\r"?(E[N]===`
`&&N++,z(),q()):C===`
`?(z(),q()):C===p?z():O.currentState===1&&(O.token+=C)}if(v)x.columns=I.shift();else for(var Y=0;Y<I[0].length;Y++)x.columns[Y]="null";for(var G=0;G<I.length;G++)(I[G].length!==1||I[G][0]!=="undefined"&&I[G][0]!=="")&&((R=new i.default.TableRow).arr=I[G],R.obj=function(X,$){var ne={};if(($=$||[])===void 0)for(var k=0;k<X.length;k++)$[k.toString()]=k;for(var L=0;L<$.length;L++){var F=$[L],H=X[L];ne[F]=H}return ne}(I[G],x.columns),x.addRow(R));typeof u=="function"&&u(x),M._decrementPreload()},function(E){i.default._friendlyFileLoadError(2,n),h?h(E):console.error(E)}),x},i.default.prototype.loadXML=function(){for(var n=arguments.length,u=new Array(n),h=0;h<n;h++)u[h]=arguments[h];for(var p,v,_=new i.default.XML,j=1;j<u.length;j++){var x=u[j];typeof x=="function"&&(p===void 0?p=x:v===void 0&&(v=x))}var M=this;return this.httpDo(u[0],"GET","xml",function(E){for(var C in E)_[C]=E[C];p!==void 0&&p(_),M._decrementPreload()},function(E){if(i.default._friendlyFileLoadError(1,E),!v)throw E;v(E)}),_},i.default.prototype.loadBytes=function(n,u,h){var p={},v=this;return this.httpDo(n,"GET","arrayBuffer",function(_){p.bytes=new Uint8Array(_),typeof u=="function"&&u(p),v._decrementPreload()},function(_){if(i.default._friendlyFileLoadError(6,n),!h)throw _;h(_)}),p},i.default.prototype.httpGet=function(){i.default._validateParameters("httpGet",arguments);var n=Array.prototype.slice.call(arguments);return n.splice(1,0,"GET"),i.default.prototype.httpDo.apply(this,n)},i.default.prototype.httpPost=function(){i.default._validateParameters("httpPost",arguments);var n=Array.prototype.slice.call(arguments);return n.splice(1,0,"POST"),i.default.prototype.httpDo.apply(this,n)},i.default.prototype.httpDo=function(){for(var n,u,h,p={},v=0,_="text/plain",j=arguments.length-1;0<j&&typeof(j<0||arguments.length<=j?void 0:arguments[j])=="function";j--)v++;var x=arguments.length-v,M=arguments.length<=0?void 0:arguments[0];if(x==2&&typeof M=="string"&&f(arguments.length<=1?void 0:arguments[1])==="object")I=new Request(M,arguments.length<=1?void 0:arguments[1]),u=arguments.length<=2?void 0:arguments[2],h=arguments.length<=3?void 0:arguments[3];else{for(var E,C="GET",R=1;R<arguments.length;R++){var O=R<0||arguments.length<=R?void 0:arguments[R];if(typeof O=="string")O==="GET"||O==="POST"||O==="PUT"||O==="DELETE"?C=O:O==="json"||O==="jsonp"||O==="binary"||O==="arrayBuffer"||O==="xml"||O==="text"||O==="table"?n=O:E=O;else if(typeof O=="number")E=O.toString();else if(f(O)==="object")if(O.hasOwnProperty("jsonpCallback")||O.hasOwnProperty("jsonpCallbackFunction"))for(var P in O)p[P]=O[P];else _=O instanceof i.default.XML?(E=O.serialize(),"application/xml"):(E=JSON.stringify(O),"application/json");else typeof O=="function"&&(u?h=O:u=O)}var x=C==="GET"?new Headers:new Headers({"Content-Type":_}),I=new Request(M,{method:C,mode:"cors",body:E,headers:x})}return(x=(x=(n=n||(M.includes("json")?"json":M.includes("xml")?"xml":"text"))==="jsonp"?(0,r.default)(M,p):fetch(I)).then(function(N){if(!N.ok)throw(U=new Error(N.body)).status=N.status,U.ok=!1,U;var U=0;switch((U=n!=="jsonp"?N.headers.get("content-length"):U)&&64e6<U&&i.default._friendlyFileLoadError(7,M),n){case"json":case"jsonp":return N.json();case"binary":return N.blob();case"arrayBuffer":return N.arrayBuffer();case"xml":return N.text().then(function(W){return W=new DOMParser().parseFromString(W,"text/xml"),new i.default.XML(W.documentElement)});default:return N.text()}})).then(u||function(){}),x.catch(h||console.error),x},window.URL=window.URL||window.webkitURL,i.default.prototype._pWriters=[],i.default.prototype.createWriter=function(n,u){var h,p;for(p in i.default.prototype._pWriters)if(i.default.prototype._pWriters[p].name===n)return h=new i.default.PrintWriter(n+this.millis(),u),i.default.prototype._pWriters.push(h),h;return h=new i.default.PrintWriter(n,u),i.default.prototype._pWriters.push(h),h},i.default.PrintWriter=function(n,u){var h=this;this.name=n,this.content="",this.write=function(p){this.content+=p},this.print=function(p){this.content+="".concat(p,`
`)},this.clear=function(){this.content=""},this.close=function(){var p,v=[];for(p in v.push(this.content),i.default.prototype.writeFile(v,n,u),i.default.prototype._pWriters)i.default.prototype._pWriters[p].name===this.name&&i.default.prototype._pWriters.splice(p,1);h.clear(),h={}}},i.default.prototype.save=function(n,u,h){var p=arguments,v=(this._curElement||this).elt;if(p.length===0)i.default.prototype.saveCanvas(v);else if(p[0]instanceof i.default.Renderer||p[0]instanceof i.default.Graphics)i.default.prototype.saveCanvas(p[0].elt,p[1],p[2]);else if(p.length===1&&typeof p[0]=="string")i.default.prototype.saveCanvas(v,p[0]);else switch(o(p[1],p[2])[1]){case"json":return void i.default.prototype.saveJSON(p[0],p[1],p[2]);case"txt":return void i.default.prototype.saveStrings(p[0],p[1],p[2]);default:p[0]instanceof Array?i.default.prototype.saveStrings(p[0],p[1],p[2]):p[0]instanceof i.default.Table?i.default.prototype.saveTable(p[0],p[1],p[2]):p[0]instanceof i.default.Image?i.default.prototype.saveCanvas(p[0].canvas,p[1]):p[0]instanceof i.default.SoundFile&&i.default.prototype.saveSound(p[0],p[1],p[2],p[3])}},i.default.prototype.saveJSON=function(n,u,h){i.default._validateParameters("saveJSON",arguments),h=h?JSON.stringify(n):JSON.stringify(n,void 0,2),this.saveStrings(h.split(`
`),u,"json")},i.default.prototype.saveJSONObject=i.default.prototype.saveJSON,i.default.prototype.saveJSONArray=i.default.prototype.saveJSON,i.default.prototype.saveStrings=function(n,u,h,p){i.default._validateParameters("saveStrings",arguments);for(var v=this.createWriter(u,h||"txt"),_=0;_<n.length;_++)p?v.write(n[_]+`\r
`):v.write(n[_]+`
`);v.close(),v.clear()},i.default.prototype.saveTable=function(n,u,h){i.default._validateParameters("saveTable",arguments),p=h===void 0?u.substring(u.lastIndexOf(".")+1,u.length):h;var p,v=this.createWriter(u,p),_=n.columns,j=p==="tsv"?"	":",";if(p!=="html"){if(_[0]!=="0"){for(var x=0;x<_.length;x++)x<_.length-1?v.write(_[x]+j):v.write(_[x]);v.write(`
`)}for(var M=0;M<n.rows.length;M++){for(var E=void 0,E=0;E<n.rows[M].arr.length;E++)E<n.rows[M].arr.length-1?p==="csv"&&String(n.rows[M].arr[E]).includes(",")?v.write('"'+n.rows[M].arr[E]+'"'+j):v.write(n.rows[M].arr[E]+j):p==="csv"&&String(n.rows[M].arr[E]).includes(",")?v.write('"'+n.rows[M].arr[E]+'"'):v.write(n.rows[M].arr[E]);v.write(`
`)}}else{if(v.print("<html>"),v.print("<head>"),v.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),v.print("</head>"),v.print("<body>"),v.print("  <table>"),_[0]!=="0"){v.print("    <tr>");for(var C=0;C<_.length;C++){var R=s(_[C]);v.print("      <td>".concat(R)),v.print("      </td>")}v.print("    </tr>")}for(var O=0;O<n.rows.length;O++){v.print("    <tr>");for(var P=0;P<n.columns.length;P++){var I=s(n.rows[O].getString(P));v.print("      <td>".concat(I)),v.print("      </td>")}v.print("    </tr>")}v.print("  </table>"),v.print("</body>"),v.print("</html>")}v.close(),v.clear()},i.default.prototype.writeFile=function(v,u,h){var p="application/octet-stream",v=(i.default.prototype._isSafari()&&(p="text/plain"),new Blob(v,{type:p}));i.default.prototype.downloadFile(v,u,h)},i.default.prototype.downloadFile=function(n,v,_){var p,v=o(v,_),_=v[0];n instanceof Blob?a.default.saveAs(n,_):((p=document.createElement("a")).href=n,p.download=_,p.onclick=function(j){document.body.removeChild(j.target),j.stopPropagation()},p.style.display="none",document.body.appendChild(p),i.default.prototype._isSafari()&&(n=(n=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+'3. Name it with this extension: ."'.concat(v[1],'"'),alert(n)),p.click())},i.default.prototype._checkFileExtension=o,i.default.prototype._isSafari=function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")},e=i.default,y.default=e},{"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":165,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":230,"core-js/modules/web.url":232,"es6-promise/auto":233,"fetch-jsonp":235,"file-saver":236,"whatwg-fetch":245}],294:[function(e,g,y){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.trim"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.trim"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(e=e("../core/main"))&&e.__esModule?e:{default:e};l.default.Table=function(i){this.columns=[],this.rows=[]},l.default.Table.prototype.addRow=function(i){if(i=i||new l.default.TableRow,i.arr===void 0||i.obj===void 0)throw new Error("invalid TableRow: ".concat(i));return(i.table=this).rows.push(i),i},l.default.Table.prototype.removeRow=function(i){this.rows[i].table=null,i=this.rows.splice(i+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(i)},l.default.Table.prototype.getRow=function(i){return this.rows[i]},l.default.Table.prototype.getRows=function(){return this.rows},l.default.Table.prototype.findRow=function(i,r){if(typeof r=="string"){for(var a=0;a<this.rows.length;a++)if(this.rows[a].obj[r]===i)return this.rows[a]}else for(var d=0;d<this.rows.length;d++)if(this.rows[d].arr[r]===i)return this.rows[d];return null},l.default.Table.prototype.findRows=function(i,r){var a=[];if(typeof r=="string")for(var d=0;d<this.rows.length;d++)this.rows[d].obj[r]===i&&a.push(this.rows[d]);else for(var f=0;f<this.rows.length;f++)this.rows[f].arr[r]===i&&a.push(this.rows[f]);return a},l.default.Table.prototype.matchRow=function(i,r){if(typeof r=="number"){for(var a=0;a<this.rows.length;a++)if(this.rows[a].arr[r].match(i))return this.rows[a]}else for(var d=0;d<this.rows.length;d++)if(this.rows[d].obj[r].match(i))return this.rows[d];return null},l.default.Table.prototype.matchRows=function(i,r){var a=[];if(typeof r=="number")for(var d=0;d<this.rows.length;d++)this.rows[d].arr[r].match(i)&&a.push(this.rows[d]);else for(var f=0;f<this.rows.length;f++)this.rows[f].obj[r].match(i)&&a.push(this.rows[f]);return a},l.default.Table.prototype.getColumn=function(i){var r=[];if(typeof i=="string")for(var a=0;a<this.rows.length;a++)r.push(this.rows[a].obj[i]);else for(var d=0;d<this.rows.length;d++)r.push(this.rows[d].arr[i]);return r},l.default.Table.prototype.clearRows=function(){delete this.rows,this.rows=[]},l.default.Table.prototype.addColumn=function(i){this.columns.push(i||null)},l.default.Table.prototype.getColumnCount=function(){return this.columns.length},l.default.Table.prototype.getRowCount=function(){return this.rows.length},l.default.Table.prototype.removeTokens=function(i,r){for(var a=[],d=0;d<i.length;d++)a.push(i.charAt(d).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var f=new RegExp(a.join("|"),"g");if(r===void 0)for(var s=0;s<this.columns.length;s++)for(var o=0;o<this.rows.length;o++){var n=(n=this.rows[o].arr[s]).replace(f,"");this.rows[o].arr[s]=n,this.rows[o].obj[this.columns[s]]=n}else if(typeof r=="string")for(var u=0;u<this.rows.length;u++){var h=(h=this.rows[u].obj[r]).replace(f,""),p=(this.rows[u].obj[r]=h,this.columns.indexOf(r));this.rows[u].arr[p]=h}else for(var v=0;v<this.rows.length;v++){var _=(_=this.rows[v].arr[r]).replace(f,"");this.rows[v].arr[r]=_,this.rows[v].obj[this.columns[r]]=_}},l.default.Table.prototype.trim=function(i){var r=new RegExp(" ","g");if(i===void 0)for(var a=0;a<this.columns.length;a++)for(var d=0;d<this.rows.length;d++){var f=(f=this.rows[d].arr[a]).replace(r,"");this.rows[d].arr[a]=f,this.rows[d].obj[this.columns[a]]=f}else if(typeof i=="string")for(var s=0;s<this.rows.length;s++){var o=(o=this.rows[s].obj[i]).replace(r,""),n=(this.rows[s].obj[i]=o,this.columns.indexOf(i));this.rows[s].arr[n]=o}else for(var u=0;u<this.rows.length;u++){var h=(h=this.rows[u].arr[i]).replace(r,"");this.rows[u].arr[i]=h,this.rows[u].obj[this.columns[i]]=h}},l.default.Table.prototype.removeColumn=function(d){typeof d=="string"?a=this.columns.indexOf(r=d):r=this.columns[a=d];var r,a,d=this.columns.splice(a+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(d);for(var f=0;f<this.rows.length;f++){var s=this.rows[f].arr,o=s.splice(a+1,s.length);s.pop(),this.rows[f].arr=s.concat(o),delete this.rows[f].obj[r]}},l.default.Table.prototype.set=function(i,r,a){this.rows[i].set(r,a)},l.default.Table.prototype.setNum=function(i,r,a){this.rows[i].setNum(r,a)},l.default.Table.prototype.setString=function(i,r,a){this.rows[i].setString(r,a)},l.default.Table.prototype.get=function(i,r){return this.rows[i].get(r)},l.default.Table.prototype.getNum=function(i,r){return this.rows[i].getNum(r)},l.default.Table.prototype.getString=function(i,r){return this.rows[i].getString(r)},l.default.Table.prototype.getObject=function(i){for(var r,a={},d=0;d<this.rows.length;d++)if(r=this.rows[d].obj,typeof i=="string"){if(!(0<=this.columns.indexOf(i)))throw new Error('This table has no column named "'.concat(i,'"'));a[r[i]]=r}else a[d]=this.rows[d].obj;return a},l.default.Table.prototype.getArray=function(){for(var i=[],r=0;r<this.rows.length;r++)i.push(this.rows[r].arr);return i},e=l.default,y.default=e},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.splice":164,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.trim":193}],295:[function(e,g,y){e("core-js/modules/es.array.index-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.split"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.split"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,e=(e=e("../core/main"))&&e.__esModule?e:{default:e},e.default.TableRow=function(l,i){var r=[],a={};l&&(r=l.split(i=i||","));for(var d=0;d<r.length;d++){var f=d,s=r[d];a[f]=s}this.arr=r,this.obj=a,this.table=null},e.default.TableRow.prototype.set=function(l,i){if(typeof l=="string"){var r=this.table.columns.indexOf(l);if(!(0<=r))throw new Error('This table has no column named "'.concat(l,'"'));this.obj[l]=i,this.arr[r]=i}else{if(!(l<this.table.columns.length))throw new Error("Column #".concat(l," is out of the range of this table"));this.arr[l]=i,r=this.table.columns[l],this.obj[r]=i}},e.default.TableRow.prototype.setNum=function(l,i){i=parseFloat(i),this.set(l,i)},e.default.TableRow.prototype.setString=function(l,i){i=i.toString(),this.set(l,i)},e.default.TableRow.prototype.get=function(l){return(typeof l=="string"?this.obj:this.arr)[l]},e.default.TableRow.prototype.getNum=function(l){var i=parseFloat(typeof l=="string"?this.obj[l]:this.arr[l]);if(i.toString()==="NaN")throw"Error: ".concat(this.obj[l]," is NaN (Not a Number)");return i},e.default.TableRow.prototype.getString=function(l){return(typeof l=="string"?this.obj:this.arr)[l].toString()},e=e.default,y.default=e},{"../core/main":267,"core-js/modules/es.array.index-of":157,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.split":191}],296:[function(e,g,y){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(e=e("../core/main"))&&e.__esModule?e:{default:e};function i(r){for(var a=[],d=0;d<r.length;d++)a.push(new l.default.XML(r[d]));return a}l.default.XML=function(r){r?this.DOM=r:(r=document.implementation.createDocument(null,"doc"),this.DOM=r.createElement("root"))},l.default.XML.prototype.getParent=function(){return new l.default.XML(this.DOM.parentElement)},l.default.XML.prototype.getName=function(){return this.DOM.tagName},l.default.XML.prototype.setName=function(r){var a=this.DOM.innerHTML,d=this.DOM.attributes,f=document.implementation.createDocument(null,"default").createElement(r);f.innerHTML=a;for(var s=0;s<d.length;s++)f.setAttribute(d[s].nodeName,d.nodeValue);this.DOM=f},l.default.XML.prototype.hasChildren=function(){return 0<this.DOM.children.length},l.default.XML.prototype.listChildren=function(){for(var r=[],a=0;a<this.DOM.childNodes.length;a++)r.push(this.DOM.childNodes[a].nodeName);return r},l.default.XML.prototype.getChildren=function(r){return i(r?this.DOM.getElementsByTagName(r):this.DOM.children)},l.default.XML.prototype.getChild=function(r){if(typeof r!="string")return new l.default.XML(this.DOM.children[r]);var a=!0,d=!1,f=void 0;try{for(var s,o=this.DOM.children[Symbol.iterator]();!(a=(s=o.next()).done);a=!0){var n=s.value;if(n.tagName===r)return new l.default.XML(n)}}catch(u){d=!0,f=u}finally{try{a||o.return==null||o.return()}finally{if(d)throw f}}},l.default.XML.prototype.addChild=function(r){r instanceof l.default.XML&&this.DOM.appendChild(r.DOM)},l.default.XML.prototype.removeChild=function(r){var a=-1;if(typeof r=="string"){for(var d=0;d<this.DOM.children.length;d++)if(this.DOM.children[d].tagName===r){a=d;break}}else a=r;a!==-1&&this.DOM.removeChild(this.DOM.children[a])},l.default.XML.prototype.getAttributeCount=function(){return this.DOM.attributes.length},l.default.XML.prototype.listAttributes=function(){var r=[],a=!0,d=!1,f=void 0;try{for(var s,o=this.DOM.attributes[Symbol.iterator]();!(a=(s=o.next()).done);a=!0){var n=s.value;r.push(n.nodeName)}}catch(u){d=!0,f=u}finally{try{a||o.return==null||o.return()}finally{if(d)throw f}}return r},l.default.XML.prototype.hasAttribute=function(r){var a={},d=!0,f=!1,s=void 0;try{for(var o,n=this.DOM.attributes[Symbol.iterator]();!(d=(o=n.next()).done);d=!0){var u=o.value;a[u.nodeName]=u.nodeValue}}catch(h){f=!0,s=h}finally{try{d||n.return==null||n.return()}finally{if(f)throw s}}return!!a[r]},l.default.XML.prototype.getNum=function(r,a){var d={},f=!0,s=!1,o=void 0;try{for(var n,u=this.DOM.attributes[Symbol.iterator]();!(f=(n=u.next()).done);f=!0){var h=n.value;d[h.nodeName]=h.nodeValue}}catch(p){s=!0,o=p}finally{try{f||u.return==null||u.return()}finally{if(s)throw o}}return Number(d[r])||a||0},l.default.XML.prototype.getString=function(r,a){var d={},f=!0,s=!1,o=void 0;try{for(var n,u=this.DOM.attributes[Symbol.iterator]();!(f=(n=u.next()).done);f=!0){var h=n.value;d[h.nodeName]=h.nodeValue}}catch(p){s=!0,o=p}finally{try{f||u.return==null||u.return()}finally{if(s)throw o}}return d[r]?String(d[r]):a||null},l.default.XML.prototype.setAttribute=function(r,a){this.DOM.setAttribute(r,a)},l.default.XML.prototype.getContent=function(r){var a=this.DOM.textContent;return(a=a.replace(/\s\s+/g,","))||r||null},l.default.XML.prototype.setContent=function(r){this.DOM.children.length||(this.DOM.textContent=r)},l.default.XML.prototype.serialize=function(){return new XMLSerializer().serializeToString(this.DOM)},e=l.default,y.default=e},{"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.number.constructor":169,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],297:[function(e,g,y){e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.math.hypot"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.math.hypot"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.string.includes"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(e=e("../core/main"))&&e.__esModule?e:{default:e};function i(){if(typeof Math.hypot=="function")return Math.hypot.apply(null,arguments);for(var r=arguments.length,a=[],d=0,f=0;f<r;f++){var s=arguments[f];if((s=+s)===1/0||s===-1/0)return 1/0;d<(s=Math.abs(s))&&(d=s),a[f]=s}d===0&&(d=1);for(var p=0,h=0,o=0;o<r;o++)var n=a[o]/d,n=n*n-h,u=p+n,h=u-p-n,p=u;return Math.sqrt(p)*d}l.default.prototype.abs=Math.abs,l.default.prototype.ceil=Math.ceil,l.default.prototype.constrain=function(r,a,d){return l.default._validateParameters("constrain",arguments),Math.max(Math.min(r,d),a)},l.default.prototype.dist=function(){for(var r=arguments.length,a=new Array(r),d=0;d<r;d++)a[d]=arguments[d];return l.default._validateParameters("dist",a),a.length===4?i(a[2]-a[0],a[3]-a[1]):a.length===6?i(a[3]-a[0],a[4]-a[1],a[5]-a[2]):void 0},l.default.prototype.exp=Math.exp,l.default.prototype.floor=Math.floor,l.default.prototype.lerp=function(r,a,d){return l.default._validateParameters("lerp",arguments),d*(a-r)+r},l.default.prototype.log=Math.log,l.default.prototype.mag=function(r,a){return l.default._validateParameters("mag",arguments),i(r,a)},l.default.prototype.map=function(r,a,d,f,s,o){return l.default._validateParameters("map",arguments),r=(r-a)/(d-a)*(s-f)+f,o?f<s?this.constrain(r,f,s):this.constrain(r,s,f):r},l.default.prototype.max=function(){for(var r=arguments.length,a=new Array(r),d=0;d<r;d++)a[d]=arguments[d];return a[0]instanceof Array?Math.max.apply(null,a[0]):Math.max.apply(null,a)},l.default.prototype.min=function(){for(var r=arguments.length,a=new Array(r),d=0;d<r;d++)a[d]=arguments[d];return a[0]instanceof Array?Math.min.apply(null,a[0]):Math.min.apply(null,a)},l.default.prototype.norm=function(r,a,d){return l.default._validateParameters("norm",arguments),this.map(r,a,d,0,1)},l.default.prototype.pow=Math.pow,l.default.prototype.round=function(r,a){return a?(a=Math.pow(10,a),Math.round(r*a)/a):Math.round(r)},l.default.prototype.sq=function(r){return r*r},l.default.prototype.sqrt=Math.sqrt,l.default.prototype.fract=function(f){l.default._validateParameters("fract",arguments);var a,d=0,f=Number(f);return isNaN(f)||Math.abs(f)===1/0?f:(f<0&&(f=-f,d=1),String(f).includes(".")&&!String(f).includes("e")?(a=String(f),a=Number("0"+a.slice(a.indexOf("."))),Math.abs(d-a)):f<1?Math.abs(d-f):0)},e=l.default,y.default=e},{"../core/main":267,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.math.hypot":167,"core-js/modules/es.number.constructor":169,"core-js/modules/es.string.includes":185}],298:[function(e,g,y){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(e=e("../core/main"))&&e.__esModule?e:{default:e};function i(a,d,f){return(i=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(s,o,n){var u=[null];return u.push.apply(u,o),o=new(Function.bind.apply(s,u)),n&&r(o,n.prototype),o}).apply(null,arguments)}function r(a,d){return(r=Object.setPrototypeOf||function(f,s){return f.__proto__=s,f})(a,d)}l.default.prototype.createVector=function(a,d,f){return this instanceof l.default?i(l.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new l.default.Vector(a,d,f)},e=l.default,y.default=e},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.reflect.construct":179,"core-js/modules/es.regexp.to-string":182}],299:[function(f,g,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,f=(f=f("../core/main"))&&f.__esModule?f:{default:f};function l(s){return .5*(1-Math.cos(s*Math.PI))}var i,r=4095,a=4,d=.5,f=(f.default.prototype.noise=function(s){var o=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(i==null){i=new Array(4096);for(var u=0;u<4096;u++)i[u]=Math.random()}s<0&&(s=-s),o<0&&(o=-o),n<0&&(n=-n);for(var h,p,v=Math.floor(s),_=Math.floor(o),j=Math.floor(n),x=s-v,M=o-_,E=n-j,C=0,R=.5,O=0;O<a;O++){var P=v+(_<<4)+(j<<8),I=l(x),N=l(M),U=i[P&r];U+=I*(i[P+1&r]-U),h=i[P+16&r],U+=N*((h+=I*(i[P+16+1&r]-h))-U),h=i[(P+=256)&r],h+=I*(i[P+1&r]-h),p=i[P+16&r],h+=N*((p+=I*(i[P+16+1&r]-p))-h),C+=(U+=l(E)*(h-U))*R,R*=d,v<<=1,_<<=1,j<<=1,1<=(x*=2)&&(v++,x--),1<=(M*=2)&&(_++,M--),1<=(E*=2)&&(j++,E--)}return C},f.default.prototype.noiseDetail=function(s,o){0<s&&(a=s),0<o&&(d=o)},f.default.prototype.noiseSeed=function(s){u=4294967296;var o,n,u,h={setSeed:function(v){n=o=(v??Math.random()*u)>>>0},getSeed:function(){return o},rand:function(){return(n=(1664525*n+1013904223)%u)/u}};h.setSeed(s),i=new Array(4096);for(var p=0;p<4096;p++)i[p]=h.rand()},f.default);y.default=f},{"../core/main":267}],300:[function(e,g,y){function l(n){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(n)}function i(n){return(i=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(u){return l(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":l(u)})(n)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.math.sign"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.number.is-finite"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.sub"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.math.sign"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.number.is-finite"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.sub"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var r=(o=e("../core/main"))&&o.__esModule?o:{default:o},a=function(n){if(n&&n.__esModule)return n;if(n===null||i(n)!=="object"&&typeof n!="function")return{default:n};var u=d();if(u&&u.has(n))return u.get(n);var h,p={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in n){var _;Object.prototype.hasOwnProperty.call(n,h)&&((_=v?Object.getOwnPropertyDescriptor(n,h):null)&&(_.get||_.set)?Object.defineProperty(p,h,_):p[h]=n[h])}return p.default=n,u&&u.set(n,p),p}(e("../core/constants"));function d(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,d=function(){return n},n)}r.default.Vector=function(){var n,u,h={}.toString.call(arguments[0])==="[object Function]"?(this.isPInst=!0,this._fromRadians=arguments[0],this._toRadians=arguments[1],n=arguments[2]||0,u=arguments[3]||0,arguments[4]||0):(n=arguments[0]||0,u=arguments[1]||0,arguments[2]||0);this.x=n,this.y=u,this.z=h},r.default.Vector.prototype.toString=function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")},r.default.Vector.prototype.set=function(n,u,h){return n instanceof r.default.Vector?(this.x=n.x||0,this.y=n.y||0,this.z=n.z||0):n instanceof Array?(this.x=n[0]||0,this.y=n[1]||0,this.z=n[2]||0):(this.x=n||0,this.y=u||0,this.z=h||0),this},r.default.Vector.prototype.copy=function(){return this.isPInst?new r.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new r.default.Vector(this.x,this.y,this.z)},r.default.Vector.prototype.add=function(n,u,h){return n instanceof r.default.Vector?(this.x+=n.x||0,this.y+=n.y||0,this.z+=n.z||0):n instanceof Array?(this.x+=n[0]||0,this.y+=n[1]||0,this.z+=n[2]||0):(this.x+=n||0,this.y+=u||0,this.z+=h||0),this};function f(n,u){return n!==0&&(this.x=this.x%n),u!==0&&(this.y=this.y%u),this}function s(n,u,h){return n!==0&&(this.x=this.x%n),u!==0&&(this.y=this.y%u),h!==0&&(this.z=this.z%h),this}r.default.Vector.prototype.rem=function(n,u,h){var p;if(n instanceof r.default.Vector){if(Number.isFinite(n.x)&&Number.isFinite(n.y)&&Number.isFinite(n.z))return v=parseFloat(n.x),_=parseFloat(n.y),p=parseFloat(n.z),s.call(this,v,_,p)}else if(n instanceof Array){if(n.every(function(j){return Number.isFinite(j)}))return n.length===2?f.call(this,n[0],n[1]):n.length===3?s.call(this,n[0],n[1],n[2]):void 0}else if(arguments.length===1){if(Number.isFinite(n)&&n!==0)return this.x=this.x%n,this.y=this.y%n,this.z=this.z%n,this}else if(arguments.length===2){var v=Array.prototype.slice.call(arguments);if(v.every(function(j){return Number.isFinite(j)})&&v.length===2)return f.call(this,v[0],v[1])}else if(arguments.length===3){var _=Array.prototype.slice.call(arguments);if(_.every(function(j){return Number.isFinite(j)})&&_.length===3)return s.call(this,_[0],_[1],_[2])}},r.default.Vector.prototype.sub=function(n,u,h){return n instanceof r.default.Vector?(this.x-=n.x||0,this.y-=n.y||0,this.z-=n.z||0):n instanceof Array?(this.x-=n[0]||0,this.y-=n[1]||0,this.z-=n[2]||0):(this.x-=n||0,this.y-=u||0,this.z-=h||0),this},r.default.Vector.prototype.mult=function(n,u,h){var p;return n instanceof r.default.Vector?Number.isFinite(n.x)&&Number.isFinite(n.y)&&Number.isFinite(n.z)&&typeof n.x=="number"&&typeof n.y=="number"&&typeof n.z=="number"?(this.x*=n.x,this.y*=n.y,this.z*=n.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):n instanceof Array?n.every(function(v){return Number.isFinite(v)})&&n.every(function(v){return typeof v=="number"})?n.length===1?(this.x*=n[0],this.y*=n[0],this.z*=n[0]):n.length===2?(this.x*=n[0],this.y*=n[1]):n.length===3&&(this.x*=n[0],this.y*=n[1],this.z*=n[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(p=Array.prototype.slice.call(arguments)).every(function(v){return Number.isFinite(v)})&&p.every(function(v){return typeof v=="number"})?(arguments.length===1&&(this.x*=n,this.y*=n,this.z*=n),arguments.length===2&&(this.x*=n,this.y*=u),arguments.length===3&&(this.x*=n,this.y*=u,this.z*=h)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this},r.default.Vector.prototype.div=function(n,u,h){if(n instanceof r.default.Vector)if(Number.isFinite(n.x)&&Number.isFinite(n.y)&&Number.isFinite(n.z)&&typeof n.x=="number"&&typeof n.y=="number"&&typeof n.z=="number"){if(n.x===0||n.y===0||n.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=n.x,this.y/=n.y,this.z/=n.z}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(n instanceof Array)if(n.every(function(v){return Number.isFinite(v)})&&n.every(function(v){return typeof v=="number"})){if(n.some(function(v){return v===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;n.length===1?(this.x/=n[0],this.y/=n[0],this.z/=n[0]):n.length===2?(this.x/=n[0],this.y/=n[1]):n.length===3&&(this.x/=n[0],this.y/=n[1],this.z/=n[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else{var p=Array.prototype.slice.call(arguments);if(p.every(function(v){return Number.isFinite(v)})&&p.every(function(v){return typeof v=="number"})){if(p.some(function(v){return v===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;arguments.length===1&&(this.x/=n,this.y/=n,this.z/=n),arguments.length===2&&(this.x/=n,this.y/=u),arguments.length===3&&(this.x/=n,this.y/=u,this.z/=h)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number")}return this},r.default.Vector.prototype.mag=function(){return Math.sqrt(this.magSq())},r.default.Vector.prototype.magSq=function(){var n=this.x,u=this.y,h=this.z;return n*n+u*u+h*h},r.default.Vector.prototype.dot=function(n,u,h){return n instanceof r.default.Vector?this.dot(n.x,n.y,n.z):this.x*(n||0)+this.y*(u||0)+this.z*(h||0)},r.default.Vector.prototype.cross=function(p){var u=this.y*p.z-this.z*p.y,h=this.z*p.x-this.x*p.z,p=this.x*p.y-this.y*p.x;return this.isPInst?new r.default.Vector(this._fromRadians,this._toRadians,u,h,p):new r.default.Vector(u,h,p)},r.default.Vector.prototype.dist=function(n){return n.copy().sub(this).mag()},r.default.Vector.prototype.normalize=function(){var n=this.mag();return n!==0&&this.mult(1/n),this},r.default.Vector.prototype.limit=function(n){var u=this.magSq();return n*n<u&&this.div(Math.sqrt(u)).mult(n),this},r.default.Vector.prototype.setMag=function(n){return this.normalize().mult(n)},r.default.Vector.prototype.heading=function(){var n=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(n):n},r.default.Vector.prototype.setHeading=function(n){this.isPInst&&(n=this._toRadians(n));var u=this.mag();return this.x=u*Math.cos(n),this.y=u*Math.sin(n),this},r.default.Vector.prototype.rotate=function(u){var u=this.heading()+u,h=(this.isPInst&&(u=this._toRadians(u)),this.mag());return this.x=Math.cos(u)*h,this.y=Math.sin(u)*h,this},r.default.Vector.prototype.angleBetween=function(n){var u=this.dot(n)/(this.mag()*n.mag()),u=Math.acos(Math.min(1,Math.max(-1,u)));return u*=Math.sign(this.cross(n).z||1),u=this.isPInst?this._fromRadians(u):u},r.default.Vector.prototype.lerp=function(n,u,h,p){return n instanceof r.default.Vector?this.lerp(n.x,n.y,n.z,u):(this.x+=(n-this.x)*p||0,this.y+=(u-this.y)*p||0,this.z+=(h-this.z)*p||0,this)},r.default.Vector.prototype.reflect=function(n){return n.normalize(),this.sub(n.mult(2*this.dot(n)))},r.default.Vector.prototype.array=function(){return[this.x||0,this.y||0,this.z||0]},r.default.Vector.prototype.equals=function(_,u,h){var p,v,_=_ instanceof r.default.Vector?(p=_.x||0,v=_.y||0,_.z||0):_ instanceof Array?(p=_[0]||0,v=_[1]||0,_[2]||0):(p=_||0,v=u||0,h||0);return this.x===p&&this.y===v&&this.z===_},r.default.Vector.fromAngle=function(n,u){return new r.default.Vector((u=u===void 0?1:u)*Math.cos(n),u*Math.sin(n),0)},r.default.Vector.fromAngles=function(j,v,h){h===void 0&&(h=1);var p=Math.cos(v),v=Math.sin(v),_=Math.cos(j),j=Math.sin(j);return new r.default.Vector(h*j*v,-h*_,h*j*p)},r.default.Vector.random2D=function(){return this.fromAngle(Math.random()*a.TWO_PI)},r.default.Vector.random3D=function(){var n=Math.random()*a.TWO_PI,u=2*Math.random()-1,p=Math.sqrt(1-u*u),h=p*Math.cos(n),p=p*Math.sin(n);return new r.default.Vector(h,p,u)},r.default.Vector.add=function(n,u,h){return h?h.set(n):(h=n.copy(),arguments.length===3&&r.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),h.add(u),h},r.default.Vector.rem=function(n,u){if(n instanceof r.default.Vector&&u instanceof r.default.Vector)return(n=n.copy()).rem(u),n},r.default.Vector.sub=function(n,u,h){return h?h.set(n):(h=n.copy(),arguments.length===3&&r.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),h.sub(u),h},r.default.Vector.mult=function(n,u,h){return h?h.set(n):(h=n.copy(),arguments.length===3&&r.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),h.mult(u),h},r.default.Vector.rotate=function(n,u,h){return arguments.length===2?h=n.copy():(h instanceof r.default.Vector||r.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),h.set(n)),h.rotate(u),h},r.default.Vector.div=function(n,u,h){return h?h.set(n):(h=n.copy(),arguments.length===3&&r.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),h.div(u),h},r.default.Vector.dot=function(n,u){return n.dot(u)},r.default.Vector.cross=function(n,u){return n.cross(u)},r.default.Vector.dist=function(n,u){return n.dist(u)},r.default.Vector.lerp=function(n,u,h,p){return p?p.set(n):(p=n.copy(),arguments.length===4&&r.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),p.lerp(u,h),p},r.default.Vector.mag=function(p){var u=p.x,h=p.y,p=p.z;return Math.sqrt(u*u+h*h+p*p)},r.default.Vector.normalize=function(n,u){return arguments.length<2?u=n.copy():(u instanceof r.default.Vector||r.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),u.set(n)),u.normalize()};var o=r.default.Vector;y.default=o},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.every":151,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.some":163,"core-js/modules/es.math.sign":168,"core-js/modules/es.number.constructor":169,"core-js/modules/es.number.is-finite":170,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.sub":192,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],301:[function(d,g,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(d=d("../core/main"))&&d.__esModule?d:{default:d},i="_lcg_random_state",r=4294967296,a=0,d=(l.default.prototype._lcg=function(f){return this[f]=(1664525*this[f]+1013904223)%r,this[f]/r},l.default.prototype._lcgSetSeed=function(f,s){this[f]=(s??Math.random()*r)>>>0},l.default.prototype.randomSeed=function(f){this._lcgSetSeed(i,f),this._gaussian_previous=!1},l.default.prototype.random=function(f,s){var o,n;return l.default._validateParameters("random",arguments),o=this[i]!=null?this._lcg(i):Math.random(),f===void 0?o:s===void 0?f instanceof Array?f[Math.floor(o*f.length)]:o*f:(s<f&&(n=f,f=s,s=n),o*(s-f)+f)},l.default.prototype.randomGaussian=function(f){var s,o,n,u,h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)s=a,this._gaussian_previous=!1;else{for(;1<=(u=(o=this.random(2)-1)*o+(n=this.random(2)-1)*n););s=o*(u=Math.sqrt(-2*Math.log(u)/u)),a=n*u,this._gaussian_previous=!0}return s*h+(f||0)},l.default);y.default=d},{"../core/main":267}],302:[function(e,g,y){function l(s){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(s)}function i(s){return(i=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(o){return l(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":l(o)})(s)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var r=(f=e("../core/main"))&&f.__esModule?f:{default:f},a=function(s){if(s&&s.__esModule)return s;if(s===null||i(s)!=="object"&&typeof s!="function")return{default:s};var o=d();if(o&&o.has(s))return o.get(s);var n,u={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in s){var p;Object.prototype.hasOwnProperty.call(s,n)&&((p=h?Object.getOwnPropertyDescriptor(s,n):null)&&(p.get||p.set)?Object.defineProperty(u,n,p):u[n]=s[n])}return u.default=s,o&&o.set(s,u),u}(e("../core/constants"));function d(){var s;return typeof WeakMap!="function"?null:(s=new WeakMap,d=function(){return s},s)}r.default.prototype._angleMode=a.RADIANS,r.default.prototype.acos=function(s){return this._fromRadians(Math.acos(s))},r.default.prototype.asin=function(s){return this._fromRadians(Math.asin(s))},r.default.prototype.atan=function(s){return this._fromRadians(Math.atan(s))},r.default.prototype.atan2=function(s,o){return this._fromRadians(Math.atan2(s,o))},r.default.prototype.cos=function(s){return Math.cos(this._toRadians(s))},r.default.prototype.sin=function(s){return Math.sin(this._toRadians(s))},r.default.prototype.tan=function(s){return Math.tan(this._toRadians(s))},r.default.prototype.degrees=function(s){return s*a.RAD_TO_DEG},r.default.prototype.radians=function(s){return s*a.DEG_TO_RAD},r.default.prototype.angleMode=function(s){if(r.default._validateParameters("angleMode",arguments),s===void 0)return this._angleMode;s!==a.DEGREES&&s!==a.RADIANS||(this._angleMode=s)},r.default.prototype._toRadians=function(s){return this._angleMode===a.DEGREES?s*a.DEG_TO_RAD:s},r.default.prototype._toDegrees=function(s){return this._angleMode===a.RADIANS?s*a.RAD_TO_DEG:s},r.default.prototype._fromRadians=function(s){return this._angleMode===a.DEGREES?s*a.RAD_TO_DEG:s};var f=r.default;y.default=f},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],303:[function(e,g,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(e=e("../core/main"))&&e.__esModule?e:{default:e};l.default.prototype.textAlign=function(i,r){var a;return l.default._validateParameters("textAlign",arguments),(a=this._renderer).textAlign.apply(a,arguments)},l.default.prototype.textLeading=function(i){var r;return l.default._validateParameters("textLeading",arguments),(r=this._renderer).textLeading.apply(r,arguments)},l.default.prototype.textSize=function(i){var r;return l.default._validateParameters("textSize",arguments),(r=this._renderer).textSize.apply(r,arguments)},l.default.prototype.textStyle=function(i){var r;return l.default._validateParameters("textStyle",arguments),(r=this._renderer).textStyle.apply(r,arguments)},l.default.prototype.textWidth=function(){for(var i,r=arguments.length,a=new Array(r),d=0;d<r;d++)a[d]=arguments[d];return a[0]+="",l.default._validateParameters("textWidth",a),a[0].length===0?0:(i=this._renderer).textWidth.apply(i,a)},l.default.prototype.textAscent=function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return l.default._validateParameters("textAscent",r),this._renderer.textAscent()},l.default.prototype.textDescent=function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return l.default._validateParameters("textDescent",r),this._renderer.textDescent()},l.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},l.default.prototype.textWrap=function(i){if(i!=="WORD"&&i!=="CHAR")throw"Error: textWrap accepts only WORD or CHAR";return this._renderer.textWrap(i)},e=l.default,y.default=e},{"../core/main":267}],304:[function(e,g,y){function l(n){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(n)}function i(n){return(i=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(u){return l(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":l(u)})(n)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.split"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var r=(o=e("../core/main"))&&o.__esModule?o:{default:o},a=s(e("../core/constants")),d=s(e("opentype.js"));function f(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,f=function(){return n},n)}function s(n){if(n&&n.__esModule)return n;if(n===null||i(n)!=="object"&&typeof n!="function")return{default:n};var u=f();if(u&&u.has(n))return u.get(n);var h,p,v={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in n)Object.prototype.hasOwnProperty.call(n,h)&&((p=_?Object.getOwnPropertyDescriptor(n,h):null)&&(p.get||p.set)?Object.defineProperty(v,h,p):v[h]=n[h]);return v.default=n,u&&u.set(n,v),v}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),r.default.prototype.loadFont=function(n,u,h){r.default._validateParameters("loadFont",arguments);var p=new r.default.Font(this),v=this;return d.load(n,function(x,M){if(x)return r.default._friendlyFileLoadError(4,n),h!==void 0?h(x):void console.error(x,n);p.font=M,u!==void 0&&u(p),v._decrementPreload();var x=n.split("\\").pop().split("/").pop(),M=x.lastIndexOf("."),E=M<1?null:x.slice(M+1);["ttf","otf","woff","woff2"].includes(E)&&(E=x.slice(0,M!==-1?M:0),(x=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(E,`;
src: url(`).concat(n,`);
}
`))),document.head.appendChild(x))}),p},r.default.prototype.text=function(n,u,h,p,v){var _;return r.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(_=this._renderer).text.apply(_,arguments):this},r.default.prototype.textFont=function(n,u){if(r.default._validateParameters("textFont",arguments),arguments.length){if(n)return this._renderer._setProperty("_textFont",n),u&&(this._renderer._setProperty("_textSize",u),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",u*a._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var o=r.default;y.default=o},{"../core/constants":256,"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230,"opentype.js":241}],305:[function(e,g,y){function l(E){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(E)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var i=(i=e("../core/main"))&&i.__esModule?i:{default:i},r=function(E){if(E&&E.__esModule)return E;if(E===null||d(E)!=="object"&&typeof E!="function")return{default:E};var C=a();if(C&&C.has(E))return C.get(E);var R,O={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(R in E){var I;Object.prototype.hasOwnProperty.call(E,R)&&((I=P?Object.getOwnPropertyDescriptor(E,R):null)&&(I.get||I.set)?Object.defineProperty(O,R,I):O[R]=E[R])}return O.default=E,C&&C.set(E,O),O}(e("../core/constants"));function a(){var E;return typeof WeakMap!="function"?null:(E=new WeakMap,a=function(){return E},E)}function d(E){return(d=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(C){return l(C)}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":l(C)})(E)}function f(E,C){var R=E.length;return E[C<0?C%R+R:C%R]}function s(E,C,R,O){var P,I,N;return O?(s.tmpPoint1===void 0&&(s.tmpPoint1=[],s.tmpPoint2=[]),I=s.tmpPoint1,N=s.tmpPoint2,I.x=C.x-E.x,I.y=C.y-E.y,N.x=R.x-C.x,N.y=R.y-C.y,P=I.x*N.x+I.y*N.y,I=Math.sqrt(I.x*I.x+I.y*I.y),N=Math.sqrt(N.x*N.x+N.y*N.y),Math.acos(P/(I*N))<O):(C[0]-E[0])*(R[1]-E[1])-(R[0]-E[0])*(C[1]-E[1])==0}function o(k,F,L,H,ee,I,N,U,W){var z=1-W,Y=Math.pow(z,3),G=Math.pow(z,2),ne=W*W,X=ne*W,q=Y*k+3*G*W*L+3*z*W*W*ee+X*N,Y=Y*F+3*G*W*H+3*z*W*W*I+X*U,G=k+2*W*(L-k)+ne*(ee-2*L+k),X=F+2*W*(H-F)+ne*(I-2*H+F),$=L+2*W*(ee-L)+ne*(N-2*ee+L),ne=H+2*W*(I-H)+ne*(U-2*I+H),k=z*k+W*L,L=z*F+W*H,F=z*ee+W*N,H=z*I+W*U,ee=90-180*Math.atan2(G-$,X-ne)/Math.PI;return($<G||X<ne)&&(ee+=180),{x:q,y:Y,m:{x:G,y:X},n:{x:$,y:ne},start:{x:k,y:L},end:{x:F,y:H},alpha:ee}}function n(E,C,R,O,P,I,N,U,W){return W==null?x(E,C,R,O,P,I,N,U):o(E,C,R,O,P,I,N,U,function(z,q,Y,G,X,$,ne,k,L){if(!(L<0||x(z,q,Y,G,X,$,ne,k)<L)){var F,H=.5,ee=1-H;for(F=x(z,q,Y,G,X,$,ne,k,ee);.01<Math.abs(F-L);)F=x(z,q,Y,G,X,$,ne,k,ee+=(F<L?1:-1)*(H/=2));return ee}}(E,C,R,O,P,I,N,U,W))}function u(E,C,R){for(var O,P,I,N,U,W=0,z=0,q=(E=function(Y,G){function X(me,pe,Te){var we,Re;if(!me)return["C",pe.x,pe.y,pe.x,pe.y,pe.x,pe.y];switch(me[0]in{T:1,Q:1}||(pe.qx=pe.qy=null),me[0]){case"M":pe.X=me[1],pe.Y=me[2];break;case"A":me=["C"].concat(p.apply(0,[pe.x,pe.y].concat(me.slice(1))));break;case"S":Re=Te==="C"||Te==="S"?(we=2*pe.x-pe.bx,2*pe.y-pe.by):(we=pe.x,pe.y),me=["C",we,Re].concat(me.slice(1));break;case"T":Te==="Q"||Te==="T"?(pe.qx=2*pe.x-pe.qx,pe.qy=2*pe.y-pe.qy):(pe.qx=pe.x,pe.qy=pe.y),me=["C"].concat(j(pe.x,pe.y,pe.qx,pe.qy,me[1],me[2]));break;case"Q":pe.qx=me[1],pe.qy=me[2],me=["C"].concat(j(pe.x,pe.y,me[1],me[2],me[3],me[4]));break;case"L":me=["C"].concat(_(pe.x,pe.y,me[1],me[2]));break;case"H":me=["C"].concat(_(pe.x,pe.y,me[1],pe.y));break;case"V":me=["C"].concat(_(pe.x,pe.y,pe.x,me[1]));break;case"Z":me=["C"].concat(_(pe.x,pe.y,pe.X,pe.Y))}return me}function $(me,pe){if(7<me[pe].length){me[pe].shift();for(var Te=me[pe];Te.length;)re[pe]="A",F&&(le[pe]="A"),me.splice(pe++,0,["C"].concat(Te.splice(0,6)));me.splice(pe,1),k=Math.max(L.length,F&&F.length||0)}}function ne(me,pe,Te,we,Re){me&&pe&&me[Re][0]==="M"&&pe[Re][0]!=="M"&&(pe.splice(Re,0,["M",we.x,we.y]),Te.bx=0,Te.by=0,Te.x=me[Re][1],Te.y=me[Re][2],k=Math.max(L.length,F&&F.length||0))}var k,L=h(Y),F=G&&h(G),H={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ee={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},re=[],le=[],fe="",ae="";k=Math.max(L.length,F&&F.length||0);for(var ce=0;ce<k;ce++){(fe=L[ce]?L[ce][0]:fe)!=="C"&&(re[ce]=fe,ce&&(ae=re[ce-1])),L[ce]=X(L[ce],H,ae),re[ce]!=="A"&&fe==="C"&&(re[ce]="C"),$(L,ce),F&&((fe=F[ce]?F[ce][0]:fe)!=="C"&&(le[ce]=fe,ce&&(ae=le[ce-1])),F[ce]=X(F[ce],ee,ae),le[ce]!=="A"&&fe==="C"&&(le[ce]="C"),$(F,ce)),ne(L,F,H,ee,ce),ne(F,L,ee,H,ce);var ge=L[ce],J=F&&F[ce],ie=ge.length,ue=F&&J.length;H.x=ge[ie-2],H.y=ge[ie-1],H.bx=parseFloat(ge[ie-4])||H.x,H.by=parseFloat(ge[ie-3])||H.y,ee.bx=F&&(parseFloat(J[ue-4])||ee.x),ee.by=F&&(parseFloat(J[ue-3])||ee.y),ee.x=F&&J[ue-2],ee.y=F&&J[ue-1]}return F?[L,F]:L}(E)).length;z<q;z++){if((I=E[z])[0]==="M")O=+I[1],P=+I[2];else{if(C<W+(N=n(O,P,I[1],I[2],I[3],I[4],I[5],I[6]))&&!R)return{x:(U=n(O,P,I[1],I[2],I[3],I[4],I[5],I[6],C-W)).x,y:U.y,alpha:U.alpha};W+=N,O=+I[5],P=+I[6]}I.shift()}return U=(U=R?W:o(O,P,I[0],I[1],I[2],I[3],I[4],I[5],1)).alpha?{x:U.x,y:U.y,alpha:U.alpha}:U}function h(E){var C=[],R=0,O=0,P=0,I=0,N=0;if(E){E[0][0]==="M"&&(P=R=+E[0][1],I=O=+E[0][2],N++,C[0]=["M",R,O]);for(var U,W,z=E.length===3&&E[0][0]==="M"&&E[1][0].toUpperCase()==="R"&&E[2][0].toUpperCase()==="Z",q=N,Y=E.length;q<Y;q++){if(C.push(U=[]),(W=E[q])[0]!==String.prototype.toUpperCase.call(W[0]))switch(U[0]=String.prototype.toUpperCase.call(W[0]),U[0]){case"A":U[1]=W[1],U[2]=W[2],U[3]=W[3],U[4]=W[4],U[5]=W[5],U[6]=+(W[6]+R),U[7]=+(W[7]+O);break;case"V":U[1]=+W[1]+O;break;case"H":U[1]=+W[1]+R;break;case"R":for(var G,X=2,$=(G=[R,O].concat(W.slice(1))).length;X<$;X++)G[X]=+G[X]+R,G[++X]=+G[X]+O;C.pop(),C=C.concat(v(G,z));break;case"M":P=+W[1]+R,I=+W[2]+O;break;default:for(var ne=1,k=W.length;ne<k;ne++)U[ne]=+W[ne]+(ne%2?R:O)}else if(W[0]==="R")G=[R,O].concat(W.slice(1)),C.pop(),C=C.concat(v(G,z)),U=["R"].concat(W.slice(-2));else for(var L=0,F=W.length;L<F;L++)U[L]=W[L];switch(U[0]){case"Z":R=P,O=I;break;case"H":R=U[1];break;case"V":O=U[1];break;case"M":P=U[U.length-2],I=U[U.length-1];break;default:R=U[U.length-2],O=U[U.length-1]}}}return C}function p(E,C,R,O,F,re,H,U,W,z){function q(ue,me,pe){return{x:ue*Math.cos(pe)-me*Math.sin(pe),y:ue*Math.sin(pe)+me*Math.cos(pe)}}var Y,k=Math.PI,L=120*k/180,G=k/180*(+F||0),X=[],$=(z?(ce=z[0],Y=z[1],fe=z[2],ae=z[3]):(E=(ee=q(E,C,-G)).x,C=ee.y,1<($=(ne=(E-(U=(ee=q(U,W,-G)).x))/2)*ne/(R*R)+(ee=(C-(W=ee.y))/2)*ee/(O*O))&&(R*=$=Math.sqrt($),O*=$),$=R*R,le=O*O,fe=(re=(re===H?-1:1)*Math.sqrt(Math.abs(($*le-$*ee*ee-le*ne*ne)/($*ee*ee+le*ne*ne))))*R*ee/O+(E+U)/2,ae=re*-O*ne/R+(C+W)/2,ce=Math.asin(((C-ae)/O).toFixed(9)),Y=Math.asin(((W-ae)/O).toFixed(9)),(ce=E<fe?k-ce:ce)<0&&(ce=2*k+ce),(Y=U<fe?k-Y:Y)<0&&(Y=2*k+Y),H&&Y<ce&&(ce-=2*k),!H&&ce<Y&&(Y-=2*k)),Y-ce),ne=(Math.abs($)>L&&(le=Y,ee=U,re=W,Y=ce+L*(H&&ce<Y?1:-1),X=p(U=fe+R*Math.cos(Y),W=ae+O*Math.sin(Y),R,O,F,0,H,ee,re,[Y,le,fe,ae])),$=Y-ce,Math.cos(ce)),k=Math.sin(ce),L=Math.cos(Y),F=Math.sin(Y),H=Math.tan($/4),ee=4/3*R*H,re=4/3*O*H,le=[E,C],fe=[E+ee*k,C-re*ne],ae=[U+ee*F,W-re*L],ce=[U,W];if(fe[0]=2*le[0]-fe[0],fe[1]=2*le[1]-fe[1],z)return[fe,ae,ce].concat(X);for(var ge=[],J=0,ie=(X=[fe,ae,ce].concat(X).join().split(",")).length;J<ie;J++)ge[J]=J%2?q(X[J-1],X[J],G).y:q(X[J],X[J+1],G).x;return ge}function v(E,C){for(var R=[],O=0,P=E.length;O<P-2*!C;O+=2){var I=[{x:+E[O-2],y:+E[O-1]},{x:+E[O],y:+E[O+1]},{x:+E[O+2],y:+E[O+3]},{x:+E[O+4],y:+E[O+5]}];C?O?P-4===O?I[3]={x:+E[0],y:+E[1]}:P-2===O&&(I[2]={x:+E[0],y:+E[1]},I[3]={x:+E[2],y:+E[3]}):I[0]={x:+E[P-2],y:+E[P-1]}:P-4===O?I[3]=I[2]:O||(I[0]={x:+E[O],y:+E[O+1]}),R.push(["C",(-I[0].x+6*I[1].x+I[2].x)/6,(-I[0].y+6*I[1].y+I[2].y)/6,(I[1].x+6*I[2].x-I[3].x)/6,(I[1].y+6*I[2].y-I[3].y)/6,I[2].x,I[2].y])}return R}function _(E,C,R,O){return[E,C,R,O,R,O]}function j(E,C,R,O,P,I){return[1/3*E+2/3*R,1/3*C+2/3*O,1/3*P+2/3*R,1/3*I+2/3*O,P,I]}function x(E,C,R,O,P,I,N,U,W){for(var z=(W=1<(W=W??1)?1:W<0?0:W)/2,q=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Y=0,G=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],X=0;X<12;X++){var ne=z*q[X]+z,$=M(ne,E,R,P,N),ne=M(ne,C,O,I,U);Y+=G[X]*Math.sqrt($*$+ne*ne)}return z*Y}function M(E,C,R,O,P){return E*(E*(-3*C+9*R-9*O+3*P)+6*C-12*R+6*O)-3*C+3*R}i.default.Font=function(E){this.parent=E,this.cache={},this.font=void 0},i.default.Font.prototype.textBounds=function(E){var C=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,N=3<arguments.length?arguments[3]:void 0,O=4<arguments.length?arguments[4]:void 0,P=O&&O.renderer&&O.renderer._pInst||this.parent,I=P._renderer.drawingContext,N=(I.textAlign||r.LEFT,I.textBaseline||r.BASELINE,N||P._renderer._textSize);if(!L){for(var U=[],W=[],z=[],q=(z[0]=[],[]),Y=this._scale(N),G=P._renderer.textLeading(),X=0,$=(this.font.forEachGlyph(E,C,R,N,O,function(ee,re,le,fe){var ae=ee.getMetrics();ee.index===0||ee.index===10?z[X+=1]=[]:(z[X].push(re+ae.xMin*Y),z[X].push(re+ae.xMax*Y),q.push(le+X*G+-ae.yMin*Y),q.push(le+X*G+-ae.yMax*Y))}),0<z[X].length&&(U[X]=Math.min.apply(null,z[X]),W[X]=Math.max.apply(null,z[X])),0),ne=0;ne<=X;ne++){U[ne]=Math.min.apply(null,z[ne]),W[ne]=Math.max.apply(null,z[ne]);var k=W[ne]-U[ne];$<k&&($=k)}var I=Math.min.apply(null,U),L={x:I,y:R=Math.min.apply(null,q),h:Math.max.apply(null,q)-R,w:$,advance:I-C},N=this._handleAlignment(P._renderer,E,L.x,L.y,L.w+L.advance);L.x=N.x,L.y=N.y}return L},i.default.Font.prototype.textToPoints=function(E,C,R,O,P){var I=0,N=[],U=this._getGlyphs(E);O=O||this.parent._renderer._textSize;for(var W,z=0;z<U.length;z++){if(!(U[W=z].name&&U[W].name==="space"||E.length===U.length&&E[W]===" "))for(var q=function($){for(var ne,k=[],L=0;L<$.length;L++)$[L].type==="M"&&(ne&&k.push(ne),ne=[]),ne.push(function(F){var H=[F.type];return F.type==="M"||F.type==="L"?H.push(F.x,F.y):F.type==="C"?H.push(F.x1,F.y1,F.x2,F.y2,F.x,F.y):F.type==="Q"&&H.push(F.x1,F.y1,F.x,F.y),H}($[L]));return k.push(ne),k}(U[z].getPath(C,R,O).commands),Y=0;Y<q.length;Y++)for(var G=function($,ne){for(var ne=function(re,le){if(d(re)!=="object")re=le;else for(var fe in le)re[fe]===void 0&&(re[fe]=le[fe]);return re}(ne,{sampleFactor:.1,simplifyThreshold:0}),k=u($,0,1),L=k/(k*ne.sampleFactor),F=[],H=0;H<k;H+=L)F.push(u($,H));return ne.simplifyThreshold&&function(ee){for(var re=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,le=0,fe=ee.length-1;3<ee.length&&0<=fe;--fe)s(f(ee,fe-1),f(ee,fe),f(ee,fe+1),re)&&(ee.splice(fe%ee.length,1),le++)}(F,ne.simplifyThreshold),F}(q[Y],P),X=0;X<G.length;X++)G[X].x+=I,N.push(G[X]);I+=U[z].advanceWidth*this._scale(O)}return N},i.default.Font.prototype._getGlyphs=function(E){return this.font.stringToGlyphs(E)},i.default.Font.prototype._getPath=function(E,I,R,O){var P=(O&&O.renderer&&O.renderer._pInst||this.parent)._renderer,I=this._handleAlignment(P,E,I,R);return this.font.getPath(E,I.x,I.y,P._textSize,O)},i.default.Font.prototype._getPathData=function(E,C,R,O){var P=3;return typeof E=="string"&&2<arguments.length?E=this._getPath(E,C,R,O):d(C)==="object"&&(O=C),O&&typeof O.decimals=="number"&&(P=O.decimals),E.toPathData(P)},i.default.Font.prototype._getSVG=function(E,C,R,O){var P=3;return typeof E=="string"&&2<arguments.length?E=this._getPath(E,C,R,O):d(C)==="object"&&(O=C),O&&(typeof O.decimals=="number"&&(P=O.decimals),typeof O.strokeWidth=="number"&&(E.strokeWidth=O.strokeWidth),O.fill!==void 0&&(E.fill=O.fill),O.stroke!==void 0&&(E.stroke=O.stroke)),E.toSVG(P)},i.default.Font.prototype._renderPath=function(N,W,z,O){var P=O&&O.renderer||this.parent._renderer,I=P.drawingContext,N=(d(N)==="object"&&N.commands?N:this._getPath(N,W,z,O)).commands,U=(I.beginPath(),!0),W=!1,z=void 0;try{for(var q,Y=N[Symbol.iterator]();!(U=(q=Y.next()).done);U=!0){var G=q.value;G.type==="M"?I.moveTo(G.x,G.y):G.type==="L"?I.lineTo(G.x,G.y):G.type==="C"?I.bezierCurveTo(G.x1,G.y1,G.x2,G.y2,G.x,G.y):G.type==="Q"?I.quadraticCurveTo(G.x1,G.y1,G.x,G.y):G.type==="Z"&&I.closePath()}}catch(X){W=!0,z=X}finally{try{U||Y.return==null||Y.return()}finally{if(W)throw z}}return P._doStroke&&P._strokeSet&&I.stroke(),P._doFill&&(P._fillSet||P._setFill(r._DEFAULT_TEXT_FILL),I.fill()),this},i.default.Font.prototype._textWidth=function(E,C){return this.font.getAdvanceWidth(E,C)},i.default.Font.prototype._textAscent=function(E){return this.font.ascender*this._scale(E)},i.default.Font.prototype._textDescent=function(E){return-this.font.descender*this._scale(E)},i.default.Font.prototype._scale=function(E){return 1/this.font.unitsPerEm*(E||this.parent._renderer._textSize)},i.default.Font.prototype._handleAlignment=function(E,C,R,O,P){var I=E._textSize;switch(P===void 0&&(P=this._textWidth(C,I)),E._textAlign){case r.CENTER:R-=P/2;break;case r.RIGHT:R-=P}switch(E._textBaseline){case r.TOP:O+=this._textAscent(I);break;case r.CENTER:O+=this._textAscent(I)/2;break;case r.BOTTOM:O-=this._textDescent(I)}return{x:R,y:O}},e=i.default,y.default=e},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":165,"core-js/modules/es.number.to-fixed":171,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],306:[function(e,g,y){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.array-buffer.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.array-buffer.constructor"),e("core-js/modules/es.object.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,e=(e=e("../core/main"))&&e.__esModule?e:{default:e},e.default.prototype.append=function(l,i){return l.push(i),l},e.default.prototype.arrayCopy=function(l,i,r,a,d){var f,s;l=d!==void 0?(s=Math.min(d,l.length),f=a,l.slice(i,s+i)):(s=r!==void 0?(s=r,Math.min(s,l.length)):l.length,r=i,l.slice(f=0,s)),Array.prototype.splice.apply(r,[f,s].concat(l))},e.default.prototype.concat=function(l,i){return l.concat(i)},e.default.prototype.reverse=function(l){return l.reverse()},e.default.prototype.shorten=function(l){return l.pop(),l},e.default.prototype.shuffle=function(l,i){for(var r,a,d=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(l),f=(l=i||d?l:l.slice()).length;1<f;)r=this.random(0,1)*f|0,a=l[--f],l[f]=l[r],l[r]=a;return l},e.default.prototype.sort=function(l,a){var r=a?l.slice(0,Math.min(a,l.length)):l,a=a?l.slice(Math.min(a,l.length)):[];return(r=typeof r[0]=="string"?r.sort():r.sort(function(d,f){return d-f})).concat(a)},e.default.prototype.splice=function(l,i,r){return Array.prototype.splice.apply(l,[r,0].concat(i)),l},e.default.prototype.subset=function(l,i,r){return r!==void 0?l.slice(i,i+r):l.slice(i,l.length)},e=e.default,y.default=e},{"../core/main":267,"core-js/modules/es.array-buffer.constructor":148,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.to-string":177}],307:[function(e,g,y){e("core-js/modules/es.array.map"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.repeat"),e("core-js/modules/es.array.map"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.repeat"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(e=e("../core/main"))&&e.__esModule?e:{default:e};l.default.prototype.float=function(i){return i instanceof Array?i.map(parseFloat):parseFloat(i)},l.default.prototype.int=function(i){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return i===1/0||i==="Infinity"?1/0:i===-1/0||i==="-Infinity"?-1/0:typeof i=="string"?parseInt(i,r):typeof i=="number"?0|i:typeof i=="boolean"?i?1:0:i instanceof Array?i.map(function(a){return l.default.prototype.int(a,r)}):void 0},l.default.prototype.str=function(i){return i instanceof Array?i.map(l.default.prototype.str):String(i)},l.default.prototype.boolean=function(i){return typeof i=="number"?i!==0:typeof i=="string"?i.toLowerCase()==="true":typeof i=="boolean"?i:i instanceof Array?i.map(l.default.prototype.boolean):void 0},l.default.prototype.byte=function(i){return i=l.default.prototype.int(i,10),typeof i=="number"?(i+128)%256-128:i instanceof Array?i.map(l.default.prototype.byte):void 0},l.default.prototype.char=function(i){return typeof i!="number"||isNaN(i)?i instanceof Array?i.map(l.default.prototype.char):typeof i=="string"?l.default.prototype.char(parseInt(i,10)):void 0:String.fromCharCode(i)},l.default.prototype.unchar=function(i){return typeof i=="string"&&i.length===1?i.charCodeAt(0):i instanceof Array?i.map(l.default.prototype.unchar):void 0},l.default.prototype.hex=function(i,r){if(r=r??8,i instanceof Array)return i.map(function(d){return l.default.prototype.hex(d,r)});if(i===1/0||i===-1/0)return(i===1/0?"F":"0").repeat(r);if(typeof i=="number"){i<0&&(i=4294967295+i+1);for(var a=Number(i).toString(16).toUpperCase();a.length<r;)a="0".concat(a);return a=a.length>=r?a.substring(a.length-r,a.length):a}},l.default.prototype.unhex=function(i){return i instanceof Array?i.map(l.default.prototype.unhex):parseInt("0x".concat(i),16)},e=l.default,y.default=e},{"../core/main":267,"core-js/modules/es.array.map":161,"core-js/modules/es.number.constructor":169,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.repeat":188}],308:[function(e,g,y){e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(f=e("../core/main"))&&f.__esModule?f:{default:f};function i(h,o,n){var u=h<0,h=u?h.toString().substring(1):h.toString(),p=h.indexOf("."),v=p!==-1?h.substring(0,p):h,_=p!==-1?h.substring(p+1):"",j=u?"-":"";if(n!==void 0){u="",(p!==-1||0<n-_.length)&&(u="."),_.length>n&&(_=_.substring(0,n));for(var x=0;x<o-v.length;x++)j+="0";for(var j=(j+=v)+u+_,M=0;M<n-_.length;M++)j+="0";return j}for(var E=0;E<Math.max(o-v.length,0);E++)j+="0";return j+=h}function r(h,o){var n=(h=h.toString()).indexOf("."),u=n!==-1?h.substring(n):"",h=(h=n!==-1?h.substring(0,n):h).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(o===0)u="";else if(o!==void 0)if(o>u.length)for(var p=o-(u+=n===-1?".":"").length+1,v=0;v<p;v++)u+="0";else u=u.substring(0,o+1);return h+u}function a(s){return 0<parseFloat(s)?"+".concat(s.toString()):s.toString()}function d(s){return 0<=parseFloat(s)?" ".concat(s.toString()):s.toString()}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),l.default.prototype.join=function(s,o){return l.default._validateParameters("join",arguments),s.join(o)},l.default.prototype.match=function(s,o){return l.default._validateParameters("match",arguments),s.match(o)},l.default.prototype.matchAll=function(s,o){l.default._validateParameters("matchAll",arguments);for(var n=new RegExp(o,"g"),u=n.exec(s),h=[];u!==null;)h.push(u),u=n.exec(s);return h},l.default.prototype.nf=function(s,o,n){return l.default._validateParameters("nf",arguments),s instanceof Array?s.map(function(u){return i(u,o,n)}):Object.prototype.toString.call(s)==="[object Arguments]"?s.length===3?this.nf(s[0],s[1],s[2]):s.length===2?this.nf(s[0],s[1]):this.nf(s[0]):i(s,o,n)},l.default.prototype.nfc=function(s,o){return l.default._validateParameters("nfc",arguments),s instanceof Array?s.map(function(n){return r(n,o)}):r(s,o)},l.default.prototype.nfp=function(){for(var s=arguments.length,o=new Array(s),n=0;n<s;n++)o[n]=arguments[n];l.default._validateParameters("nfp",o);var u=l.default.prototype.nf.apply(this,o);return u instanceof Array?u.map(a):a(u)},l.default.prototype.nfs=function(){for(var s=arguments.length,o=new Array(s),n=0;n<s;n++)o[n]=arguments[n];l.default._validateParameters("nfs",o);var u=l.default.prototype.nf.apply(this,o);return u instanceof Array?u.map(d):d(u)},l.default.prototype.split=function(s,o){return l.default._validateParameters("split",arguments),s.split(o)},l.default.prototype.splitTokens=function(s,o){var n,u;return l.default._validateParameters("splitTokens",arguments),u=o!==void 0?(u=/\]/g.exec(o=o),(n=/\[/g.exec(o))&&u?(o=o.slice(0,u.index)+o.slice(u.index+1),n=/\[/g.exec(o),o=o.slice(0,n.index)+o.slice(n.index+1),new RegExp("[\\[".concat(o,"\\]]"),"g")):u?(o=o.slice(0,u.index)+o.slice(u.index+1),new RegExp("[".concat(o,"\\]]"),"g")):n?(o=o.slice(0,n.index)+o.slice(n.index+1),new RegExp("[".concat(o,"\\[]"),"g")):new RegExp("[".concat(o,"]"),"g")):/\s/g,s.split(u).filter(function(h){return h})},l.default.prototype.trim=function(s){return l.default._validateParameters("trim",arguments),s instanceof Array?s.map(this.trim):s.trim()};var f=l.default;y.default=f},{"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/main":267,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193}],309:[function(e,g,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,e=(e=e("../core/main"))&&e.__esModule?e:{default:e},e.default.prototype.day=function(){return new Date().getDate()},e.default.prototype.hour=function(){return new Date().getHours()},e.default.prototype.minute=function(){return new Date().getMinutes()},e.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},e.default.prototype.month=function(){return new Date().getMonth()+1},e.default.prototype.second=function(){return new Date().getSeconds()},e.default.prototype.year=function(){return new Date().getFullYear()},e=e.default,y.default=e},{"../core/main":267}],310:[function(e,g,y){function l(o){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}function i(o){return(i=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(n){return l(n)}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":l(n)})(o)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var r=(s=e("../core/main"))&&s.__esModule?s:{default:s},a=(e("./p5.Geometry"),function(o){if(o&&o.__esModule)return o;if(o===null||i(o)!=="object"&&typeof o!="function")return{default:o};var n=d();if(n&&n.has(o))return n.get(o);var u,h={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in o){var v;Object.prototype.hasOwnProperty.call(o,u)&&((v=p?Object.getOwnPropertyDescriptor(o,u):null)&&(v.get||v.set)?Object.defineProperty(h,u,v):h[u]=o[u])}return h.default=o,n&&n.set(o,h),h}(e("../core/constants")));function d(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,d=function(){return o},o)}r.default.prototype.plane=function(o,n,u,h){this._assert3d("plane"),r.default._validateParameters("plane",arguments),o===void 0&&(o=50),n===void 0&&(n=o),h===void 0&&(h=1);var p,v="plane|".concat(u=u===void 0?1:u,"|").concat(h);return this._renderer.geometryInHash(v)||((p=new r.default.Geometry(u,h,function(){for(var _,j,x=0;x<=this.detailY;x++)for(var M=x/this.detailY,E=0;E<=this.detailX;E++)_=E/this.detailX,j=new r.default.Vector(_-.5,M-.5,0),this.vertices.push(j),this.uvs.push(_,M)})).computeFaces().computeNormals(),u<=1&&h<=1?p._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(v,p)),this._renderer.drawBuffersScaled(v,o,n,1),this},r.default.prototype.box=function(o,n,u,h,p){this._assert3d("box"),r.default._validateParameters("box",arguments),o===void 0&&(o=50),n===void 0&&(n=o),u===void 0&&(u=n);var v,_=this._renderer.attributes&&this._renderer.attributes.perPixelLighting,_=(p===void 0&&(p=_?1:4),"box|".concat(h=h===void 0?_?1:4:h,"|").concat(p));return this._renderer.geometryInHash(_)||((v=new r.default.Geometry(h,p,function(){var j=[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]];this.strokeIndices=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]];for(var x=0;x<j.length;x++){for(var M=j[x],E=4*x,C=0;C<4;C++){var R=M[C],R=new r.default.Vector((2*(1&R)-1)/2,((2&R)-1)/2,((4&R)/2-1)/2);this.vertices.push(R),this.uvs.push(1&C,(2&C)/2)}this.faces.push([E,1+E,2+E]),this.faces.push([2+E,1+E,3+E])}})).computeNormals(),h<=4&&p<=4?v._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(_,v)),this._renderer.drawBuffersScaled(_,o,n,u),this},r.default.prototype.sphere=function(o,n,u){return this._assert3d("sphere"),r.default._validateParameters("sphere",arguments),this.ellipsoid(o=o===void 0?50:o,o,o,n=n===void 0?24:n,u=u===void 0?16:u),this};function f(o,n,u,h,p,v,_){o=o<=0?1:o,n=n<0?0:n,u=u<=0?o:u,h=h<3?3:h;for(var j,x,M=(v=v===void 0||v)?-2:0,E=(p=p<1?1:p)+((_=_===void 0?n!==0:_)?2:0),C=Math.atan2(o-n,u),R=Math.sin(C),O=Math.cos(C),P=M;P<=E;++P){var I=P/p,N=u*I,U=void 0,U=P<0?(I=N=0,o):p<P?(N=u,I=1,n):o+(n-o)*I;for(P!==-2&&P!==p+2||(U=0),N-=u/2,j=0;j<h;++j){var W=j/(h-1),q=2*Math.PI*W,z=Math.sin(q),q=Math.cos(q),Y=(this.vertices.push(new r.default.Vector(z*U,N,q*U)),void 0),Y=P<0?new r.default.Vector(0,-1,0):p<P&&n?new r.default.Vector(0,1,0):new r.default.Vector(z*O,R,q*O);this.vertexNormals.push(Y),this.uvs.push(W,I)}}var G=0;if(v){for(x=0;x<h;++x)this.faces.push([G+x,G+h+(x+1)%h,G+h+x]);G+=2*h}for(P=0;P<p;++P){for(j=0;j<h;++j){var X=(j+1)%h;this.faces.push([G+j,G+X,G+h+X]),this.faces.push([G+j,G+h+X,G+h+j])}G+=h}if(_)for(G+=h,j=0;j<h;++j)this.faces.push([G+j,G+(j+1)%h,G+h])}r.default.prototype.cylinder=function(o,n,u,h,p,v){this._assert3d("cylinder"),r.default._validateParameters("cylinder",arguments),o===void 0&&(o=50),n===void 0&&(n=o),h===void 0&&(h=1),v===void 0&&(v=!0),p===void 0&&(p=!0);var _,j="cylinder|".concat(u=u===void 0?24:u,"|").concat(h,"|").concat(p,"|").concat(v);return this._renderer.geometryInHash(j)||(_=new r.default.Geometry(u,h),f.call(_,1,1,1,u,h,p,v),u<=24&&h<=16?_._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(j,_)),this._renderer.drawBuffersScaled(j,o,n,o),this},r.default.prototype.cone=function(o,n,u,h,p){this._assert3d("cone"),r.default._validateParameters("cone",arguments),o===void 0&&(o=50),n===void 0&&(n=o),h===void 0&&(h=1),p===void 0&&(p=!0);var v,_="cone|".concat(u=u===void 0?24:u,"|").concat(h,"|").concat(p);return this._renderer.geometryInHash(_)||(v=new r.default.Geometry(u,h),f.call(v,1,0,1,u,h,p,!1),u<=24&&h<=16?v._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(_,v)),this._renderer.drawBuffersScaled(_,o,n,o),this},r.default.prototype.ellipsoid=function(o,n,u,h,p){this._assert3d("ellipsoid"),r.default._validateParameters("ellipsoid",arguments),o===void 0&&(o=50),n===void 0&&(n=o),u===void 0&&(u=o),p===void 0&&(p=16);var v,_="ellipsoid|".concat(h=h===void 0?24:h,"|").concat(p);return this._renderer.geometryInHash(_)||((v=new r.default.Geometry(h,p,function(){for(var j=0;j<=this.detailY;j++)for(var x=j/this.detailY,M=Math.PI*x-Math.PI/2,E=Math.cos(M),C=Math.sin(M),R=0;R<=this.detailX;R++){var O=R/this.detailX,I=2*Math.PI*O,P=Math.cos(I),I=Math.sin(I),I=new r.default.Vector(E*I,C,E*P);this.vertices.push(I),this.vertexNormals.push(I),this.uvs.push(O,x)}})).computeFaces(),h<=24&&p<=24?v._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(_,v)),this._renderer.drawBuffersScaled(_,o,n,u),this},r.default.prototype.torus=function(o,_,u,h){if(this._assert3d("torus"),r.default._validateParameters("torus",arguments),o===void 0)o=50;else if(!o)return;if(_===void 0)_=10;else if(!_)return;u===void 0&&(u=24),h===void 0&&(h=16);var p,v=(_/o).toPrecision(4),_="torus|".concat(v,"|").concat(u,"|").concat(h);return this._renderer.geometryInHash(_)||((p=new r.default.Geometry(u,h,function(){for(var j=0;j<=this.detailY;j++)for(var x=j/this.detailY,M=2*Math.PI*x,E=Math.cos(M),C=Math.sin(M),R=1+v*E,O=0;O<=this.detailX;O++){var P=O/this.detailX,I=2*Math.PI*P,U=Math.cos(I),I=Math.sin(I),N=new r.default.Vector(R*U,R*I,v*C),U=new r.default.Vector(E*U,E*I,C);this.vertices.push(N),this.vertexNormals.push(U),this.uvs.push(P,x)}})).computeFaces(),u<=24&&h<=16?p._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(_,p)),this._renderer.drawBuffersScaled(_,o,o,o),this},r.default.RendererGL.prototype.point=function(o,n,u){var h=[];return h.push(new r.default.Vector(o,n,u=u===void 0?0:u)),this._drawPoints(h,this.immediateMode.buffers.point),this},r.default.RendererGL.prototype.triangle=function(_){var n=_[0],u=_[1],h=_[2],p=_[3],v=_[4],_=_[5],j=(this.geometryInHash("tri")||((j=new r.default.Geometry(1,1,function(){var M=[];M.push(new r.default.Vector(0,0,0)),M.push(new r.default.Vector(0,1,0)),M.push(new r.default.Vector(1,0,0)),this.strokeIndices=[[0,1],[1,2],[2,0]],this.vertices=M,this.faces=[[0,1,2]],this.uvs=[0,0,0,1,1,1]}))._makeTriangleEdges()._edgesToVertices(),j.computeNormals(),this.createBuffers("tri",j)),this.uMVMatrix.copy());try{var x=new r.default.Matrix([h-n,p-u,0,0,v-n,_-u,0,0,0,0,1,0,n,u,0,1]).mult(this.uMVMatrix);this.uMVMatrix=x,this.drawBuffers("tri")}finally{this.uMVMatrix=j}return this},r.default.RendererGL.prototype.ellipse=function(o){this.arc(o[0],o[1],o[2],o[3],0,a.TWO_PI,a.OPEN,o[4])},r.default.RendererGL.prototype.arc=function(o){var n,u=arguments[1],h=arguments[2],p=arguments[3],v=arguments[4],_=arguments[5],j=arguments[6],x=arguments[7]||25,M=(Math.abs(_-v)>=a.TWO_PI?"".concat(E="ellipse","|"):"".concat(E="arc","|").concat(v,"|").concat(_,"|").concat(j,"|")).concat(x,"|"),E=(this.geometryInHash(M)||((n=new r.default.Geometry(x,1,function(){if(this.strokeIndices=[],v.toFixed(10)!==_.toFixed(10)){j!==a.PIE&&j!==void 0||(this.vertices.push(new r.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var C=0;C<=x;C++){var O=(_-v)*(C/x)+v,R=.5+Math.cos(O)/2,O=.5+Math.sin(O)/2;this.vertices.push(new r.default.Vector(R,O,0)),this.uvs.push([R,O]),C<x-1&&(this.faces.push([0,C+1,C+2]),this.strokeIndices.push([C+1,C+2]))}switch(j){case a.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case a.CHORD:this.strokeIndices.push([0,1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case a.OPEN:this.strokeIndices.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),x<=50?n._makeTriangleEdges()._edgesToVertices(n):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(E," with more than 50 detail")),this.createBuffers(M,n)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([o,u,0]),this.uMVMatrix.scale(h,p,1),this.drawBuffers(M)}finally{this.uMVMatrix=E}return this},r.default.RendererGL.prototype.rect=function(o){var n=o[0],u=o[1],h=o[2],p=o[3];if(o[4]===void 0){var j=this._pInst._glAttributes.perPixelLighting,v=o[4]||(j?1:24),_=o[5]||(j?1:16),j="rect|".concat(v,"|").concat(_),x=(this.geometryInHash(j)||((x=new r.default.Geometry(v,_,function(){for(var Y=0;Y<=this.detailY;Y++)for(var G=Y/this.detailY,X=0;X<=this.detailX;X++){var $=X/this.detailX,ne=new r.default.Vector($,G,0);this.vertices.push(ne),this.uvs.push($,G)}0<v&&0<_&&(this.strokeIndices=[[0,v],[v,(v+1)*(_+1)-1],[(v+1)*(_+1)-1,(v+1)*_],[(v+1)*_,0]])})).computeFaces().computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(j,x)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([n,u,0]),this.uMVMatrix.scale(h,p,1),this.drawBuffers(j)}finally{this.uMVMatrix=x}}else{var j=o[4],x=o[5]===void 0?j:o[5],M=o[6]===void 0?x:o[6],o=o[7]===void 0?M:o[7],I=h,E=p,O=((I+=n)<n&&(O=n,n=I,I=O),(E+=u)<u&&(O=u,u=E,E=O),Math.min((I-n)/2,(E-u)/2)),C=(O<j&&(j=O),O<x&&(x=O),O<M&&(M=O),O<o&&(o=O),n),R=u,O=I,n=E,P=(this.beginShape(),x!==0?(this.vertex(O-x,R),this.quadraticVertex(O,R,O,R+x)):this.vertex(O,R),M!==0?(this.vertex(O,n-M),this.quadraticVertex(O,n,O-M,n)):this.vertex(O,n),o!==0?(this.vertex(C+o,n),this.quadraticVertex(C,n,C,n-o)):this.vertex(C,n),j!==0?(this.vertex(C,R+j),this.quadraticVertex(C,R,C+j,R)):this.vertex(C,R),!(this.immediateMode.geometry.uvs.length=0)),u=!1,I=void 0;try{for(var N,U=this.immediateMode.geometry.vertices[Symbol.iterator]();!(P=(N=U.next()).done);P=!0){var W=N.value,z=(W.x-C)/h,q=(W.y-R)/p;this.immediateMode.geometry.uvs.push(z,q)}}catch(k){u=!0,I=k}finally{try{P||U.return==null||U.return()}finally{if(u)throw I}}this.endShape(a.CLOSE)}return this},r.default.RendererGL.prototype.quad=function(o,n,u,h,p,v,_,j,x,M,E,C,R,O){R===void 0&&(R=2),O===void 0&&(O=2);var P="quad|".concat(o,"|").concat(n,"|").concat(u,"|").concat(h,"|").concat(p,"|").concat(v,"|").concat(_,"|").concat(j,"|").concat(x,"|").concat(M,"|").concat(E,"|").concat(C,"|").concat(R,"|").concat(O);if(!this.geometryInHash(P)){var I=new r.default.Geometry(R,O,function(){for(var Y=1/(this.detailX-1),G=1/(this.detailY-1),X=0;X<this.detailY;X++)for(var $=0;$<this.detailX;$++){var ne=$*Y,k=X*G;this.vertices.push(new r.default.Vector((1-ne)*((1-k)*o+k*M)+ne*((1-k)*h+k*_),(1-ne)*((1-k)*n+k*E)+ne*((1-k)*p+k*j),(1-ne)*((1-k)*u+k*C)+ne*((1-k)*v+k*x))),this.uvs.push([ne,k])}});I.faces=[];for(var N=0;N<O-1;N++)for(var U=0;U<R-1;U++){var W=U+N*R,z=U+1+(N+1)*R,q=U+(N+1)*R;I.faces.push([W,U+1+N*R,z]),I.faces.push([W,z,q])}I.computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(P,I)}return this.drawBuffers(P),this},r.default.RendererGL.prototype.bezier=function(o,n,u,h,p,v,_,j,x,M,E,C){arguments.length===8&&(E=j,M=_,j=v,_=p,p=h,h=u,u=v=x=C=0);var R=this._pInst._bezierDetail||20;this.beginShape();for(var O=0;O<=R;O++){var P=Math.pow(1-O/R,3),I=O/R*3*Math.pow(1-O/R,2),N=3*Math.pow(O/R,2)*(1-O/R),U=Math.pow(O/R,3);this.vertex(o*P+h*I+_*N+M*U,n*P+p*I+j*N+E*U,u*P+v*I+x*N+C*U)}return this.endShape(),this},r.default.RendererGL.prototype.curve=function(o,n,u,h,p,v,_,j,x,M,E,C){arguments.length===8&&(M=_,E=j,_=p,j=h,p=h=u,u=v=x=C=0);var R=this._pInst._curveDetail;this.beginShape();for(var O=0;O<=R;O++){var P=.5*Math.pow(O/R,3),I=.5*Math.pow(O/R,2),N=O/R*.5;this.vertex(P*(3*h-o-3*_+M)+I*(2*o-5*h+4*_-M)+N*(-o+_)+2*h*.5,P*(3*p-n-3*j+E)+I*(2*n-5*p+4*j-E)+N*(-n+j)+2*p*.5,P*(3*v-u-3*x+C)+I*(2*u-5*v+4*x-C)+N*(-u+x)+2*v*.5)}return this.endShape(),this},r.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(a.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(a.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},r.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var o,n,u,h,p,v,_=[],j=[],x=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var M=1/this._lutBezierDetail,E=0,C=1,R=0;E<1;){if(v=parseFloat(E.toFixed(6)),this._lookUpTableBezier[R]=this._bezierCoefficients(v),C.toFixed(6)===M.toFixed(6)){v=parseFloat(C.toFixed(6))+parseFloat(E.toFixed(6)),++R,this._lookUpTableBezier[R]=this._bezierCoefficients(v);break}E+=M,C-=M,++R}}var O=this._lookUpTableBezier.length;if(x===6){for(this.isBezier=!0,_=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],j=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],p=0;p<O;p++)n=_[0]*this._lookUpTableBezier[p][0]+_[1]*this._lookUpTableBezier[p][1]+_[2]*this._lookUpTableBezier[p][2]+_[3]*this._lookUpTableBezier[p][3],u=j[0]*this._lookUpTableBezier[p][0]+j[1]*this._lookUpTableBezier[p][1]+j[2]*this._lookUpTableBezier[p][2]+j[3]*this._lookUpTableBezier[p][3],this.vertex(n,u);this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(x===9){for(this.isBezier=!0,_=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],j=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]],o=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],p=0;p<O;p++)n=_[0]*this._lookUpTableBezier[p][0]+_[1]*this._lookUpTableBezier[p][1]+_[2]*this._lookUpTableBezier[p][2]+_[3]*this._lookUpTableBezier[p][3],u=j[0]*this._lookUpTableBezier[p][0]+j[1]*this._lookUpTableBezier[p][1]+j[2]*this._lookUpTableBezier[p][2]+j[3]*this._lookUpTableBezier[p][3],h=o[0]*this._lookUpTableBezier[p][0]+o[1]*this._lookUpTableBezier[p][1]+o[2]*this._lookUpTableBezier[p][2]+o[3]*this._lookUpTableBezier[p][3],this.vertex(n,u,h);this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},r.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var o,n,u,h,p,v,_=[],j=[],x=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var M=1/this._lutQuadraticDetail,E=0,C=1,R=0;E<1;){if(v=parseFloat(E.toFixed(6)),this._lookUpTableQuadratic[R]=this._quadraticCoefficients(v),C.toFixed(6)===M.toFixed(6)){v=parseFloat(C.toFixed(6))+parseFloat(E.toFixed(6)),++R,this._lookUpTableQuadratic[R]=this._quadraticCoefficients(v);break}E+=M,C-=M,++R}}var O=this._lookUpTableQuadratic.length;if(x===4){for(this.isQuadratic=!0,_=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],j=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],p=0;p<O;p++)n=_[0]*this._lookUpTableQuadratic[p][0]+_[1]*this._lookUpTableQuadratic[p][1]+_[2]*this._lookUpTableQuadratic[p][2],u=j[0]*this._lookUpTableQuadratic[p][0]+j[1]*this._lookUpTableQuadratic[p][1]+j[2]*this._lookUpTableQuadratic[p][2],this.vertex(n,u);this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(x===6){for(this.isQuadratic=!0,_=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],j=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]],o=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],p=0;p<O;p++)n=_[0]*this._lookUpTableQuadratic[p][0]+_[1]*this._lookUpTableQuadratic[p][1]+_[2]*this._lookUpTableQuadratic[p][2],u=j[0]*this._lookUpTableQuadratic[p][0]+j[1]*this._lookUpTableQuadratic[p][1]+j[2]*this._lookUpTableQuadratic[p][2],h=o[0]*this._lookUpTableQuadratic[p][0]+o[1]*this._lookUpTableQuadratic[p][1]+o[2]*this._lookUpTableQuadratic[p][2],this.vertex(n,u,h);this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},r.default.RendererGL.prototype.curveVertex=function(){var o,n,u,h,p,v,_=[],j=[],x=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var M=1/this._lutBezierDetail,E=0,C=1,R=0;E<1;){if(v=parseFloat(E.toFixed(6)),this._lookUpTableBezier[R]=this._bezierCoefficients(v),C.toFixed(6)===M.toFixed(6)){v=parseFloat(C.toFixed(6))+parseFloat(E.toFixed(6)),++R,this._lookUpTableBezier[R]=this._bezierCoefficients(v);break}E+=M,C-=M,++R}}var O=this._lookUpTableBezier.length;if(x===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,_=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),j=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),p=0;p<O;p++)n=_[0]*this._lookUpTableBezier[p][0]+_[1]*this._lookUpTableBezier[p][1]+_[2]*this._lookUpTableBezier[p][2]+_[3]*this._lookUpTableBezier[p][3],u=j[0]*this._lookUpTableBezier[p][0]+j[1]*this._lookUpTableBezier[p][1]+j[2]*this._lookUpTableBezier[p][2]+j[3]*this._lookUpTableBezier[p][3],this.vertex(n,u);for(p=0;p<x;p++)this.immediateMode._curveVertex.shift()}}else if(x===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,_=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),j=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),o=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),p=0;p<O;p++)n=_[0]*this._lookUpTableBezier[p][0]+_[1]*this._lookUpTableBezier[p][1]+_[2]*this._lookUpTableBezier[p][2]+_[3]*this._lookUpTableBezier[p][3],u=j[0]*this._lookUpTableBezier[p][0]+j[1]*this._lookUpTableBezier[p][1]+j[2]*this._lookUpTableBezier[p][2]+j[3]*this._lookUpTableBezier[p][3],h=o[0]*this._lookUpTableBezier[p][0]+o[1]*this._lookUpTableBezier[p][1]+o[2]*this._lookUpTableBezier[p][2]+o[3]*this._lookUpTableBezier[p][3],this.vertex(n,u,h);for(p=0;p<x;p++)this.immediateMode._curveVertex.shift()}},r.default.RendererGL.prototype.image=function(o,C,u,R,p,v,_,j,x){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.texture(o),this._pInst.textureMode(a.NORMAL);var M=0,E=(C<=o.width&&(M=C/o.width),1),C=(C+R<=o.width&&(E=(C+R)/o.width),0),R=(u<=o.height&&(C=u/o.height),1);u+p<=o.height&&(R=(u+p)/o.height),this.beginShape(),this.vertex(v,_,0,M,C),this.vertex(v+j,_,0,E,C),this.vertex(v+j,_+x,0,E,R),this.vertex(v,_+x,0,M,R),this.endShape(a.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(a.REMOVE)};var s=r.default;y.default=s},{"../core/constants":256,"../core/main":267,"./p5.Geometry":316,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.iterator":158,"core-js/modules/es.number.to-fixed":171,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],311:[function(e,g,y){function l(s){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(s)}function i(s){return(i=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(o){return l(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":l(o)})(s)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var r=(f=e("../core/main"))&&f.__esModule?f:{default:f},a=function(s){if(s&&s.__esModule)return s;if(s===null||i(s)!=="object"&&typeof s!="function")return{default:s};var o=d();if(o&&o.has(s))return o.get(s);var n,u={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in s){var p;Object.prototype.hasOwnProperty.call(s,n)&&((p=h?Object.getOwnPropertyDescriptor(s,n):null)&&(p.get||p.set)?Object.defineProperty(u,n,p):u[n]=s[n])}return u.default=s,o&&o.set(s,u),u}(e("../core/constants"));function d(){var s;return typeof WeakMap!="function"?null:(s=new WeakMap,d=function(){return s},s)}r.default.prototype.orbitControl=function(s,o,n){var u,h;if(this._assert3d("orbitControl"),r.default._validateParameters("orbitControl",arguments),this.mouseX<this.width&&0<this.mouseX&&this.mouseY<this.height&&0<this.mouseY)return u=this._renderer._curCamera,s===void 0&&(s=1),o===void 0&&(o=s),n===void 0&&(n=.5),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0)),h=this.height<this.width?this.height:this.width,this._mouseWheelDeltaY!==this._pmouseWheelDeltaY&&(0<this._mouseWheelDeltaY?this._renderer._curCamera._orbit(0,0,n*h):this._renderer._curCamera._orbit(0,0,-n*h)),this.mouseIsPressed&&(this.mouseButton===this.LEFT?(n=-s*(this.mouseX-this.pmouseX)/h,h=o*(this.mouseY-this.pmouseY)/h,this._renderer._curCamera._orbit(n,h,0)):this.mouseButton===this.RIGHT&&(n=u._getLocalAxes(),(h=Math.sqrt(n.x[0]*n.x[0]+n.x[2]*n.x[2]))!==0&&(n.x[0]/=h,n.x[2]/=h),(h=Math.sqrt(n.y[0]*n.y[0]+n.y[2]*n.y[2]))!==0&&(n.y[0]/=h,n.y[2]/=h),h=-1*s*(this.mouseX-this.pmouseX),s=-1*o*(this.mouseY-this.pmouseY),u.setPosition(u.eyeX+h*n.x[0]+s*n.z[0],u.eyeY,u.eyeZ+h*n.x[2]+s*n.z[2]))),this},r.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var s=arguments.length,o=new Array(s),n=0;n<s;n++)o[n]=arguments[n];r.default._validateParameters("debugMode",o);for(var u=this._registeredMethods.post.length-1;0<=u;u--)this._registeredMethods.post[u].toString()!==this._grid().toString()&&this._registeredMethods.post[u].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(u,1);o[0]===a.GRID?this.registerMethod("post",this._grid.call(this,o[1],o[2],o[3],o[4],o[5])):o[0]===a.AXES?this.registerMethod("post",this._axesIcon.call(this,o[1],o[2],o[3],o[4])):(this.registerMethod("post",this._grid.call(this,o[0],o[1],o[2],o[3],o[4])),this.registerMethod("post",this._axesIcon.call(this,o[5],o[6],o[7],o[8])))},r.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var s=this._registeredMethods.post.length-1;0<=s;s--)this._registeredMethods.post[s].toString()!==this._grid().toString()&&this._registeredMethods.post[s].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(s,1)},r.default.prototype._grid=function(s,o,n,u,h){s===void 0&&(s=this.width/2),o===void 0&&(o=Math.round(s/30)<4?4:Math.round(s/30)),n===void 0&&(n=0),u===void 0&&(u=0),h===void 0&&(h=0);var p=s/o,v=s/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]);for(var _=0;_<=o;_++)this.beginShape(this.LINES),this.vertex(-v+n,u,_*p-v+h),this.vertex(v+n,u,_*p-v+h),this.endShape();for(var j=0;j<=o;j++)this.beginShape(this.LINES),this.vertex(j*p-v+n,u,-v+h),this.vertex(j*p-v+n,u,v+h),this.endShape();this.pop()}},r.default.prototype._axesIcon=function(s,o,n,u){return s===void 0&&(s=40<this.width/20?this.width/20:40),o===void 0&&(o=-this.width/4),n===void 0&&(n=o),u===void 0&&(u=o),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(o,n,u),this.vertex(o+s,n,u),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(o,n,u),this.vertex(o,n+s,u),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(o,n,u),this.vertex(o,n,u+s),this.endShape(),this.pop()}};var f=r.default;y.default=f},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],312:[function(e,g,y){function l(s){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(s)}function i(s){return(i=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(o){return l(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":l(o)})(s)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var r=(f=e("../core/main"))&&f.__esModule?f:{default:f},a=function(s){if(s&&s.__esModule)return s;if(s===null||i(s)!=="object"&&typeof s!="function")return{default:s};var o=d();if(o&&o.has(s))return o.get(s);var n,u={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in s){var p;Object.prototype.hasOwnProperty.call(s,n)&&((p=h?Object.getOwnPropertyDescriptor(s,n):null)&&(p.get||p.set)?Object.defineProperty(u,n,p):u[n]=s[n])}return u.default=s,o&&o.set(s,u),u}(e("../core/constants"));function d(){var s;return typeof WeakMap!="function"?null:(s=new WeakMap,d=function(){return s},s)}r.default.prototype.ambientLight=function(s,o,n,u){this._assert3d("ambientLight"),r.default._validateParameters("ambientLight",arguments);var h=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(h._array[0],h._array[1],h._array[2]),this._renderer._enableLighting=!0,this},r.default.prototype.specularColor=function(s,o,n){this._assert3d("specularColor"),r.default._validateParameters("specularColor",arguments);var u=this.color.apply(this,arguments);return this._renderer.specularColors=[u._array[0],u._array[1],u._array[2]],this},r.default.prototype.directionalLight=function(s,x,j,u,h,p){this._assert3d("directionalLight"),r.default._validateParameters("directionalLight",arguments),s=s instanceof r.default.Color?s:this.color(s,x,j);var v,_,x=arguments[arguments.length-1],j=typeof x=="number"?(v=arguments[arguments.length-3],_=arguments[arguments.length-2],arguments[arguments.length-1]):(v=x.x,_=x.y,x.z),x=Math.sqrt(v*v+_*_+j*j);return this._renderer.directionalLightDirections.push(v/x,_/x,j/x),this._renderer.directionalLightDiffuseColors.push(s._array[0],s._array[1],s._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},r.default.prototype.pointLight=function(s,j,x,u,h,p){this._assert3d("pointLight"),r.default._validateParameters("pointLight",arguments),s=s instanceof r.default.Color?s:this.color(s,j,x);var v,_,j=arguments[arguments.length-1],x=typeof j=="number"?(v=arguments[arguments.length-3],_=arguments[arguments.length-2],arguments[arguments.length-1]):(v=j.x,_=j.y,j.z);return this._renderer.pointLightPositions.push(v,_,x),this._renderer.pointLightDiffuseColors.push(s._array[0],s._array[1],s._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},r.default.prototype.lights=function(){var s;return this._assert3d("lights"),this._colorMode===a.RGB?(this.ambientLight(128,128,128),this.directionalLight(128,128,128,0,0,-1)):(s=this._colorMaxes[this._colorMode][2],this.ambientLight(0,0,s),this.directionalLight(0,0,s,0,0,-1)),this},r.default.prototype.lightFalloff=function(s,o,n){return this._assert3d("lightFalloff"),r.default._validateParameters("lightFalloff",arguments),s<0&&(s=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),o<0&&(o=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),n<0&&(n=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),s===0&&o===0&&n===0&&(s=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=s,this._renderer.linearAttenuation=o,this._renderer.quadraticAttenuation=n,this},r.default.prototype.spotLight=function(s,o,n,u,h,p,v,_,j,x,M){this._assert3d("spotLight"),r.default._validateParameters("spotLight",arguments);var E,C,R,O=arguments.length;switch(O){case 11:case 10:E=this.color(s,o,n),C=new r.default.Vector(u,h,p),R=new r.default.Vector(v,_,j);break;case 9:s instanceof r.default.Color?(E=s,C=new r.default.Vector(o,n,u),R=new r.default.Vector(h,p,v),x=_,M=j):u instanceof r.default.Vector?(E=this.color(s,o,n),C=u,R=new r.default.Vector(h,p,v),x=_,M=j):v instanceof r.default.Vector?(E=this.color(s,o,n),C=new r.default.Vector(u,h,p),R=v,x=_,M=j):(E=this.color(s,o,n),C=new r.default.Vector(u,h,p),R=new r.default.Vector(v,_,j));break;case 8:x=(R=s instanceof r.default.Color?(E=s,C=new r.default.Vector(o,n,u),new r.default.Vector(h,p,v)):u instanceof r.default.Vector?(E=this.color(s,o,n),C=u,new r.default.Vector(h,p,v)):(E=this.color(s,o,n),C=new r.default.Vector(u,h,p),v),_);break;case 7:s instanceof r.default.Color&&o instanceof r.default.Vector?(E=s,C=o,R=new r.default.Vector(n,u,h),x=p,M=v):s instanceof r.default.Color&&h instanceof r.default.Vector?(E=s,C=new r.default.Vector(o,n,u),R=h,x=p,M=v):u instanceof r.default.Vector&&h instanceof r.default.Vector?(E=this.color(s,o,n),C=u,R=h,x=p,M=v):R=s instanceof r.default.Color?(E=s,C=new r.default.Vector(o,n,u),new r.default.Vector(h,p,v)):u instanceof r.default.Vector?(E=this.color(s,o,n),C=u,new r.default.Vector(h,p,v)):(E=this.color(s,o,n),C=new r.default.Vector(u,h,p),v);break;case 6:u instanceof r.default.Vector&&h instanceof r.default.Vector?(E=this.color(s,o,n),C=u,R=h,x=p):s instanceof r.default.Color&&h instanceof r.default.Vector?(E=s,C=new r.default.Vector(o,n,u),R=h,x=p):s instanceof r.default.Color&&o instanceof r.default.Vector&&(E=s,C=o,R=new r.default.Vector(n,u,h),x=p);break;case 5:s instanceof r.default.Color&&o instanceof r.default.Vector&&n instanceof r.default.Vector?(E=s,C=o,R=n,x=u,M=h):u instanceof r.default.Vector&&h instanceof r.default.Vector?(E=this.color(s,o,n),C=u,R=h):s instanceof r.default.Color&&h instanceof r.default.Vector?(E=s,C=new r.default.Vector(o,n,u),R=h):s instanceof r.default.Color&&o instanceof r.default.Vector&&(E=s,C=o,R=new r.default.Vector(n,u,h));break;case 4:E=s,C=o,R=n,x=u;break;case 3:E=s,C=o,R=n;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(O<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(E._array[0],E._array[1],E._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(C.x,C.y,C.z),R.normalize(),this._renderer.spotLightDirections.push(R.x,R.y,R.z),x===void 0&&(x=Math.PI/3),M!==void 0&&M<1?(M=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):M===void 0&&(M=100),x=this._renderer._pInst._toRadians(x),this._renderer.spotLightAngle.push(Math.cos(x)),this._renderer.spotLightConc.push(M),this._renderer._enableLighting=!0,this},r.default.prototype.noLights=function(){return this._assert3d("noLights"),r.default._validateParameters("noLights",arguments),this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this};var f=r.default;y.default=f},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],313:[function(e,g,y){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(i=e("../core/main"))&&i.__esModule?i:{default:i};e("./p5.Geometry"),l.default.prototype.loadModel=function(r){l.default._validateParameters("loadModel",arguments);var a,d,f,s=r.slice(-4),o=(typeof arguments[1]=="boolean"?(a=arguments[1],d=arguments[2],f=arguments[3],arguments[4]!==void 0&&(s=arguments[4])):(a=!1,d=arguments[1],f=arguments[2],arguments[3]!==void 0&&(s=arguments[3])),new l.default.Geometry),n=(o.gid="".concat(r,"|").concat(a),this);return s.match(/\.stl$/i)?this.httpDo(r,"GET","arrayBuffer",function(u){(function(h,p){if(function(v){for(var _=new DataView(v),j=[115,111,108,105,100],x=0;x<5;x++)if(function(M,E,C){for(var R=0,O=M.length;R<O;R++)if(M[R]!==E.getUint8(C+R,!1))return;return 1}(j,_,x))return;return 1}(p))(function(v,_){for(var j,x,M,E,C,R,O,P=new DataView(_),I=P.getUint32(80,!0),N=!1,U=0;U<70;U++)P.getUint32(U,!1)===1129270351&&P.getUint8(U+4)===82&&P.getUint8(U+5)===61&&(N=!0,E=[],C=P.getUint8(U+6)/255,R=P.getUint8(U+7)/255,O=P.getUint8(U+8)/255);for(var W=0;W<I;W++){for(var z,q=84+50*W,Y=P.getFloat32(q,!0),G=P.getFloat32(4+q,!0),X=P.getFloat32(8+q,!0),$=(N&&(z=P.getUint16(48+q,!0),M=32768&z?(j=C,x=R,O):(j=(31&z)/31,x=(z>>5&31)/31,(z>>10&31)/31)),new l.default.Vector(Y,G,X)),ne=1;ne<=3;ne++){var k=q+12*ne,k=new l.default.Vector(P.getFloat32(k,!0),P.getFloat32(4+k,!0),P.getFloat32(8+k,!0));v.vertices.push(k),v.vertexNormals.push($),N&&E.push(j,x,M)}v.faces.push([3*W,3*W+1,3*W+2]),v.uvs.push([0,0],[0,0],[0,0])}})(h,p);else{if(p=new DataView(p),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");p=new TextDecoder("utf-8").decode(p).split(`
`),function(v,_){for(var j,x,M="",E=[],C=0;C<_.length;++C){for(var R=_[C].trim(),O=R.split(" "),P=0;P<O.length;++P)O[P]===""&&O.splice(P,1);if(O.length!==0)switch(M){case"":if(O[0]!=="solid")return console.error(R),console.error('Invalid state "'.concat(O[0],'", should be "solid"'));M="solid";break;case"solid":if(O[0]!=="facet"||O[1]!=="normal")return console.error(R),console.error('Invalid state "'.concat(O[0],'", should be "facet normal"'));j=new l.default.Vector(parseFloat(O[2]),parseFloat(O[3]),parseFloat(O[4])),v.vertexNormals.push(j,j,j),M="facet normal";break;case"facet normal":if(O[0]!=="outer"||O[1]!=="loop")return console.error(R),console.error('Invalid state "'.concat(O[0],'", should be "outer loop"'));M="vertex";break;case"vertex":if(O[0]==="vertex")x=new l.default.Vector(parseFloat(O[1]),parseFloat(O[2]),parseFloat(O[3])),v.vertices.push(x),v.uvs.push([0,0]),E.push(v.vertices.indexOf(x));else{if(O[0]!=="endloop")return console.error(R),console.error('Invalid state "'.concat(O[0],'", should be "vertex" or "endloop"'));v.faces.push(E),E=[],M="endloop"}break;case"endloop":if(O[0]!=="endfacet")return console.error(R),console.error('Invalid state "'.concat(O[0],'", should be "endfacet"'));M="endfacet";break;case"endfacet":if(O[0]!=="endsolid"){if(O[0]!=="facet"||O[1]!=="normal")return console.error(R),console.error('Invalid state "'.concat(O[0],'", should be "endsolid" or "facet normal"'));j=new l.default.Vector(parseFloat(O[2]),parseFloat(O[3]),parseFloat(O[4])),v.vertexNormals.push(j,j,j),M="facet normal"}break;default:console.error('Invalid state "'.concat(M,'"'))}}}(h,p)}})(o,u),a&&o.normalize(),n._decrementPreload(),typeof d=="function"&&d(o)},f):s.match(/\.obj$/i)?this.loadStrings(r,function(u){for(var h=o,p=u,v={v:[],vt:[],vn:[]},_={},j=0;j<p.length;++j){var x=p[j].trim().split(/\b\s+/);if(0<x.length){if(x[0]==="v"||x[0]==="vn"){var M=new l.default.Vector(parseFloat(x[1]),parseFloat(x[2]),parseFloat(x[3]));v[x[0]].push(M)}else if(x[0]==="vt")M=[parseFloat(x[1]),1-parseFloat(x[2])],v[x[0]].push(M);else if(x[0]==="f")for(var E=3;E<x.length;++E){for(var C=[],R=[1,E-1,E],O=0;O<R.length;++O){var P=x[R[O]],I=0;if(_[P]!==void 0)I=_[P];else{for(var N=P.split("/"),U=0;U<N.length;U++)N[U]=parseInt(N[U])-1;I=_[P]=h.vertices.length,h.vertices.push(v.v[N[0]].copy()),v.vt[N[1]]?h.uvs.push(v.vt[N[1]].slice()):h.uvs.push([0,0]),v.vn[N[2]]&&h.vertexNormals.push(v.vn[N[2]].copy())}C.push(I)}C[0]!==C[1]&&C[0]!==C[2]&&C[1]!==C[2]&&h.faces.push(C)}}}h.vertexNormals.length===0&&h.computeNormals(),a&&o.normalize(),n._decrementPreload(),typeof d=="function"&&d(o)},f):(l.default._friendlyFileLoadError(3,r),f?f():console.error("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),o},l.default.prototype.model=function(r){this._assert3d("model"),l.default._validateParameters("model",arguments),0<r.vertices.length&&(this._renderer.geometryInHash(r.gid)||(r._makeTriangleEdges()._edgesToVertices(),this._renderer.createBuffers(r.gid,r)),this._renderer.drawBuffers(r.gid))};var i=l.default;y.default=i},{"../core/main":267,"./p5.Geometry":316,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.match":187,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193}],314:[function(e,g,y){function l(s){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(s)}function i(s){return(i=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(o){return l(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":l(o)})(s)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.join"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var r=(f=e("../core/main"))&&f.__esModule?f:{default:f},a=function(s){if(s&&s.__esModule)return s;if(s===null||i(s)!=="object"&&typeof s!="function")return{default:s};var o=d();if(o&&o.has(s))return o.get(s);var n,u={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in s){var p;Object.prototype.hasOwnProperty.call(s,n)&&((p=h?Object.getOwnPropertyDescriptor(s,n):null)&&(p.get||p.set)?Object.defineProperty(u,n,p):u[n]=s[n])}return u.default=s,o&&o.set(s,u),u}(e("../core/constants"));function d(){var s;return typeof WeakMap!="function"?null:(s=new WeakMap,d=function(){return s},s)}e("./p5.Texture"),r.default.prototype.loadShader=function(s,o,n,u){r.default._validateParameters("loadShader",arguments),u=u||console.error;function h(){v._decrementPreload(),n&&n(p)}var p=new r.default.Shader,v=this,_=!1,j=!1;return this.loadStrings(s,function(x){p._vertSrc=x.join(`
`),j=!0,_&&h()},u),this.loadStrings(o,function(x){p._fragSrc=x.join(`
`),_=!0,j&&h()},u),p},r.default.prototype.createShader=function(s,o){return this._assert3d("createShader"),r.default._validateParameters("createShader",arguments),new r.default.Shader(this._renderer,s,o)},r.default.prototype.shader=function(s){return this._assert3d("shader"),r.default._validateParameters("shader",arguments),s._renderer===void 0&&(s._renderer=this._renderer),s.init(),s.isStrokeShader()?this._renderer.userStrokeShader=s:(this._renderer.userFillShader=s,this._renderer._useNormalMaterial=!1),this},r.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},r.default.prototype.texture=function(s){return this._assert3d("texture"),r.default._validateParameters("texture",arguments),s.gifProperties&&s._animateGif(this),this._renderer.drawMode=a.TEXTURE,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._tex=s,this._renderer._setProperty("_doFill",!0),this},r.default.prototype.textureMode=function(s){s!==a.IMAGE&&s!==a.NORMAL?console.warn("You tried to set ".concat(s," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=s},r.default.prototype.textureWrap=function(s){for(var o=1<arguments.length&&arguments[1]!==void 0?arguments[1]:s,n=(this._renderer.textureWrapX=s,this._renderer.textureWrapY=o,this._renderer.textures),u=0;u<n.length;u++)n[u].setWrapMode(s,o)},r.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var s=arguments.length,o=new Array(s),n=0;n<s;n++)o[n]=arguments[n];return r.default._validateParameters("normalMaterial",o),this._renderer.drawMode=a.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},r.default.prototype.ambientMaterial=function(s,o,n){this._assert3d("ambientMaterial"),r.default._validateParameters("ambientMaterial",arguments);var u=r.default.prototype.color.apply(this,arguments);return this._renderer.curAmbientColor=u._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this._renderer._setProperty("_doFill",!0),this},r.default.prototype.emissiveMaterial=function(s,o,n,u){this._assert3d("emissiveMaterial"),r.default._validateParameters("emissiveMaterial",arguments);var h=r.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=h._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},r.default.prototype.specularMaterial=function(s,o,n,u){this._assert3d("specularMaterial"),r.default._validateParameters("specularMaterial",arguments);var h=r.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=h._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},r.default.prototype.shininess=function(s){return this._assert3d("shininess"),r.default._validateParameters("shininess",arguments),this._renderer._useShininess=s=s<1?1:s,this},r.default.RendererGL.prototype._applyColorBlend=function(s){var o=this.GL,n=this.drawMode===a.TEXTURE||this.curBlendMode!==a.BLEND||s[s.length-1]<1||this._isErasing;return n!==this._isBlending&&(n||this.curBlendMode!==a.BLEND&&this.curBlendMode!==a.ADD?o.enable(o.BLEND):o.disable(o.BLEND),o.depthMask(!0),this._isBlending=n),this._applyBlendMode(),s},r.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var s=this.GL;switch(this.curBlendMode){case a.BLEND:s.blendEquation(s.FUNC_ADD),s.blendFunc(s.SRC_ALPHA,s.ONE_MINUS_SRC_ALPHA);break;case a.ADD:s.blendEquation(s.FUNC_ADD),s.blendFunc(s.SRC_ALPHA,s.ONE);break;case a.REMOVE:s.blendEquation(s.FUNC_REVERSE_SUBTRACT),s.blendFunc(s.SRC_ALPHA,s.DST_ALPHA);break;case a.MULTIPLY:s.blendEquationSeparate(s.FUNC_ADD,s.FUNC_ADD),s.blendFuncSeparate(s.ZERO,s.SRC_COLOR,s.ONE,s.ONE);break;case a.SCREEN:s.blendEquationSeparate(s.FUNC_ADD,s.FUNC_ADD),s.blendFuncSeparate(s.ONE_MINUS_DST_COLOR,s.ONE,s.ONE,s.ONE);break;case a.EXCLUSION:s.blendEquationSeparate(s.FUNC_ADD,s.FUNC_ADD),s.blendFuncSeparate(s.ONE_MINUS_DST_COLOR,s.ONE_MINUS_SRC_COLOR,s.ONE,s.ONE);break;case a.REPLACE:s.blendEquation(s.FUNC_ADD),s.blendFunc(s.ONE,s.ZERO);break;case a.SUBTRACT:s.blendEquationSeparate(s.FUNC_REVERSE_SUBTRACT,s.FUNC_ADD),s.blendFuncSeparate(s.SRC_ALPHA,s.ONE,s.ONE,s.ONE);break;case a.DARKEST:this.blendExt?(s.blendEquationSeparate(this.blendExt.MIN_EXT,s.FUNC_ADD),s.blendFuncSeparate(s.ONE,s.ONE,s.ONE,s.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case a.LIGHTEST:this.blendExt?(s.blendEquationSeparate(this.blendExt.MAX_EXT,s.FUNC_ADD),s.blendFuncSeparate(s.ONE,s.ONE,s.ONE,s.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var f=r.default;y.default=f},{"../core/constants":256,"../core/main":267,"./p5.Texture":323,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],315:[function(e,g,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(e=e("../core/main"))&&e.__esModule?e:{default:e};l.default.prototype.camera=function(){var i;this._assert3d("camera");for(var r=arguments.length,a=new Array(r),d=0;d<r;d++)a[d]=arguments[d];return l.default._validateParameters("camera",a),(i=this._renderer._curCamera).camera.apply(i,a),this},l.default.prototype.perspective=function(){var i;this._assert3d("perspective");for(var r=arguments.length,a=new Array(r),d=0;d<r;d++)a[d]=arguments[d];return l.default._validateParameters("perspective",a),(i=this._renderer._curCamera).perspective.apply(i,a),this},l.default.prototype.ortho=function(){var i;this._assert3d("ortho");for(var r=arguments.length,a=new Array(r),d=0;d<r;d++)a[d]=arguments[d];return l.default._validateParameters("ortho",a),(i=this._renderer._curCamera).ortho.apply(i,a),this},l.default.prototype.frustum=function(){var i;this._assert3d("frustum");for(var r=arguments.length,a=new Array(r),d=0;d<r;d++)a[d]=arguments[d];return l.default._validateParameters("frustum",a),(i=this._renderer._curCamera).frustum.apply(i,a),this},l.default.prototype.createCamera=function(){this._assert3d("createCamera");var i=new l.default.Camera(this._renderer);return i._computeCameraDefaultSettings(),i._setDefaultCamera(),this._renderer._curCamera=i},l.default.Camera=function(i){this._renderer=i,this.cameraType="default",this.cameraMatrix=new l.default.Matrix,this.projMatrix=new l.default.Matrix},l.default.Camera.prototype.perspective=function(f,r,a,d){this.cameraType=0<arguments.length?"custom":"default",f===void 0?(f=this.defaultCameraFOV,this.cameraFOV=f):this.cameraFOV=this._renderer._pInst._toRadians(f),r===void 0&&(r=this.defaultAspectRatio),a===void 0&&(a=this.defaultCameraNear),d===void 0&&(d=this.defaultCameraFar),a<=1e-4&&(a=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),d<a&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=r,this.cameraNear=a,this.cameraFar=d,this.projMatrix=l.default.Matrix.identity();var f=1/Math.tan(this.cameraFOV/2),s=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(f/r,0,0,0,0,-f,0,0,0,0,(d+a)*s,-1,0,0,2*d*a*s,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15])},l.default.Camera.prototype.ortho=function(_,v,a,d,f,s){_===void 0&&(_=-this._renderer.width/2),v===void 0&&(v=+this._renderer.width/2),a===void 0&&(a=-this._renderer.height/2),f===void 0&&(f=0);var j=v-_,o=(d=d===void 0?+this._renderer.height/2:d)-a,n=(s=s===void 0?Math.max(this._renderer.width,this._renderer.height):s)-f,u=2/j,h=2/o,p=-2/n,v=-(v+_)/j,_=-(d+a)/o,j=-(s+f)/n;this.projMatrix=l.default.Matrix.identity(),this.projMatrix.set(u,0,0,0,0,-h,0,0,0,0,p,0,v,_,j,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},l.default.Camera.prototype.frustum=function(_,v,a,d,f,s){_===void 0&&(_=-this._renderer.width/2),v===void 0&&(v=+this._renderer.width/2),a===void 0&&(a=-this._renderer.height/2),f===void 0&&(f=0);var j=v-_,o=(d=d===void 0?+this._renderer.height/2:d)-a,n=(s=s===void 0?Math.max(this._renderer.width,this._renderer.height):s)-f,u=2*f/j,h=2*f/o,p=-2*s*f/n,v=(v+_)/j,_=(d+a)/o,j=-(s+f)/n;this.projMatrix=l.default.Matrix.identity(),this.projMatrix.set(u,0,0,0,0,h,0,0,v,_,j,-1,0,0,p,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},l.default.Camera.prototype._rotateView=function(u,r,a,d){var f=this.centerX,s=this.centerY,o=this.centerZ,n=(f-=this.eyeX,s-=this.eyeY,o-=this.eyeZ,l.default.Matrix.identity(this._renderer._pInst)),u=(n.rotate(this._renderer._pInst._toRadians(u),r,a,d),[f*n.mat4[0]+s*n.mat4[4]+o*n.mat4[8],f*n.mat4[1]+s*n.mat4[5]+o*n.mat4[9],f*n.mat4[2]+s*n.mat4[6]+o*n.mat4[10]]);u[0]+=this.eyeX,u[1]+=this.eyeY,u[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,u[0],u[1],u[2],this.upX,this.upY,this.upZ)},l.default.Camera.prototype.pan=function(i){var r=this._getLocalAxes();this._rotateView(i,r.y[0],r.y[1],r.y[2])},l.default.Camera.prototype.tilt=function(i){var r=this._getLocalAxes();this._rotateView(i,r.x[0],r.x[1],r.x[2])},l.default.Camera.prototype.lookAt=function(i,r,a){this.camera(this.eyeX,this.eyeY,this.eyeZ,i,r,a,this.upX,this.upY,this.upZ)},l.default.Camera.prototype.camera=function(i,r,a,d,f,s,o,n,u){return i===void 0&&(i=this.defaultEyeX,r=this.defaultEyeY,a=this.defaultEyeZ,d=i,f=r,n=1,u=o=s=0),this.eyeX=i,this.eyeY=r,this.eyeZ=a,d!==void 0&&(this.centerX=d,this.centerY=f,this.centerZ=s),o!==void 0&&(this.upX=o,this.upY=n,this.upZ=u),d=this._getLocalAxes(),this.cameraMatrix.set(d.x[0],d.y[0],d.z[0],0,d.x[1],d.y[1],d.z[1],0,d.x[2],d.y[2],d.z[2],0,0,0,0,1),f=-i,this.cameraMatrix.translate([f,-r,-a]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15]),this},l.default.Camera.prototype.move=function(d,f,a){var s=this._getLocalAxes(),d=[s.x[0]*d,s.x[1]*d,s.x[2]*d],f=[s.y[0]*f,s.y[1]*f,s.y[2]*f],s=[s.z[0]*a,s.z[1]*a,s.z[2]*a];this.camera(this.eyeX+d[0]+f[0]+s[0],this.eyeY+d[1]+f[1]+s[1],this.eyeZ+d[2]+f[2]+s[2],this.centerX+d[0]+f[0]+s[0],this.centerY+d[1]+f[1]+s[1],this.centerZ+d[2]+f[2]+s[2],0,1,0)},l.default.Camera.prototype.setPosition=function(i,r,a){var d=i-this.eyeX,f=r-this.eyeY,s=a-this.eyeZ;this.camera(i,r,a,this.centerX+d,this.centerY+f,this.centerZ+s,0,1,0)},l.default.Camera.prototype._computeCameraDefaultSettings=function(){this.defaultCameraFOV=60/180*Math.PI,this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=this._renderer.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ},l.default.Camera.prototype._setDefaultCamera=function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"},l.default.Camera.prototype._resize=function(){this.cameraType==="default"?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this._renderer.width/this._renderer.height)},l.default.Camera.prototype.copy=function(){var i=new l.default.Camera(this._renderer);return i.cameraFOV=this.cameraFOV,i.aspectRatio=this.aspectRatio,i.eyeX=this.eyeX,i.eyeY=this.eyeY,i.eyeZ=this.eyeZ,i.centerX=this.centerX,i.centerY=this.centerY,i.centerZ=this.centerZ,i.cameraNear=this.cameraNear,i.cameraFar=this.cameraFar,i.cameraType=this.cameraType,i.cameraMatrix=this.cameraMatrix.copy(),i.projMatrix=this.projMatrix.copy(),i},l.default.Camera.prototype._getLocalAxes=function(){var i=this.eyeX-this.centerX,r=this.eyeY-this.centerY,a=this.eyeZ-this.centerZ,o=Math.sqrt(i*i+r*r+a*a),o=(o!==0&&(i/=o,r/=o,a/=o),this.upX),d=(n=this.upY)*a-(u=this.upZ)*r,f=-o*a+u*i,s=o*r-n*i,o=r*s-a*f,n=-i*s+a*d,u=i*f-r*d,h=Math.sqrt(d*d+f*f+s*s),h=(h!==0&&(d/=h,f/=h,s/=h),Math.sqrt(o*o+n*n+u*u));return h!==0&&(o/=h,n/=h,u/=h),{x:[d,f,s],y:[o,n,u],z:[i,r,a]}},l.default.Camera.prototype._orbit=function(n,r,u){var f=this.eyeX-this.centerX,o=this.eyeY-this.centerY,s=this.eyeZ-this.centerZ,d=Math.sqrt(f*f+o*o+s*s),f=Math.atan2(f,s),s=Math.acos(Math.max(-1,Math.min(1,o/d))),o=(f+=n,(d+=u)<0&&(d=.1),(s+=r)>Math.PI?s=Math.PI:s<=0&&(s=.001),Math.sin(s)*d*Math.sin(f)),n=Math.cos(s)*d,u=Math.sin(s)*d*Math.cos(f);this.camera(o+this.centerX,n+this.centerY,u+this.centerZ,this.centerX,this.centerY,this.centerZ,0,1,0)},l.default.Camera.prototype._isActive=function(){return this===this._renderer._curCamera},l.default.prototype.setCamera=function(i){this._renderer._curCamera=i,this._renderer.uPMatrix.set(i.projMatrix.mat4[0],i.projMatrix.mat4[1],i.projMatrix.mat4[2],i.projMatrix.mat4[3],i.projMatrix.mat4[4],i.projMatrix.mat4[5],i.projMatrix.mat4[6],i.projMatrix.mat4[7],i.projMatrix.mat4[8],i.projMatrix.mat4[9],i.projMatrix.mat4[10],i.projMatrix.mat4[11],i.projMatrix.mat4[12],i.projMatrix.mat4[13],i.projMatrix.mat4[14],i.projMatrix.mat4[15])},e=l.default.Camera,y.default=e},{"../core/main":267}],316:[function(e,g,y){e("core-js/modules/es.string.sub"),e("core-js/modules/es.string.sub"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(e=e("../core/main"))&&e.__esModule?e:{default:e};l.default.Geometry=function(i,r,a){return this.vertices=[],this.lineVertices=[],this.lineNormals=[],this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.detailX=i!==void 0?i:1,this.detailY=r!==void 0?r:1,this.dirtyFlags={},a instanceof Function&&a.call(this),this},l.default.Geometry.prototype.reset=function(){this.lineVertices.length=0,this.lineNormals.length=0,this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}},l.default.Geometry.prototype.computeFaces=function(){this.faces.length=0;for(var i,r,a,d=this.detailX+1,f=0;f<this.detailY;f++)for(var s=0;s<this.detailX;s++)r=(f+1)*d+s+1,this.faces.push([f*d+s,i=f*d+s+1,a=(f+1)*d+s]),this.faces.push([a,i,r]);return this},l.default.Geometry.prototype._getFaceNormal=function(r){var r=this.faces[r],a=this.vertices[r[0]],f=this.vertices[r[1]],r=this.vertices[r[2]],f=l.default.Vector.sub(f,a),r=l.default.Vector.sub(r,a),a=l.default.Vector.cross(f,r),d=l.default.Vector.mag(a),f=d/(l.default.Vector.mag(f)*l.default.Vector.mag(r));return f===0||isNaN(f)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),a):(1<f&&(f=1),a.mult(Math.asin(f)/d))},l.default.Geometry.prototype.computeNormals=function(){for(var i=this.vertexNormals,r=this.vertices,a=this.faces,d=i.length=0;d<r.length;++d)i.push(new l.default.Vector);for(var f=0;f<a.length;++f)for(var s=a[f],o=this._getFaceNormal(f),n=0;n<3;++n)i[s[n]].add(o);for(d=0;d<r.length;++d)i[d].normalize();return this},l.default.Geometry.prototype.averageNormals=function(){for(var i=0;i<=this.detailY;i++){var r=this.detailX+1,a=l.default.Vector.add(this.vertexNormals[i*r],this.vertexNormals[i*r+this.detailX]),a=l.default.Vector.div(a,2);this.vertexNormals[i*r]=a,this.vertexNormals[i*r+this.detailX]=a}return this},l.default.Geometry.prototype.averagePoleNormals=function(){for(var i=new l.default.Vector(0,0,0),r=0;r<this.detailX;r++)i.add(this.vertexNormals[r]);for(var i=l.default.Vector.div(i,this.detailX),a=0;a<this.detailX;a++)this.vertexNormals[a]=i;i=new l.default.Vector(0,0,0);for(var d=this.vertices.length-1;d>this.vertices.length-1-this.detailX;d--)i.add(this.vertexNormals[d]);i=l.default.Vector.div(i,this.detailX);for(var f=this.vertices.length-1;f>this.vertices.length-1-this.detailX;f--)this.vertexNormals[f]=i;return this},l.default.Geometry.prototype._makeTriangleEdges=function(){if(this.edges.length=0,Array.isArray(this.strokeIndices))for(var i=0,r=this.strokeIndices.length;i<r;i++)this.edges.push(this.strokeIndices[i]);else for(var a=0;a<this.faces.length;a++)this.edges.push([this.faces[a][0],this.faces[a][1]]),this.edges.push([this.faces[a][1],this.faces[a][2]]),this.edges.push([this.faces[a][2],this.faces[a][0]]);return this},l.default.Geometry.prototype._edgesToVertices=function(){this.lineVertices.length=0;for(var i=this.lineNormals.length=0;i<this.edges.length;i++){var a=this.vertices[this.edges[i][0]],f=this.vertices[this.edges[i][1]],o=f.copy().sub(a).normalize(),r=a.array(),a=a.array(),d=f.array(),f=f.array(),s=o.array(),o=o.array();s.push(1),o.push(-1),this.lineNormals.push(s,o,s,s,o,o),this.lineVertices.push(r,a,d,d,a,f)}return this},l.default.Geometry.prototype.normalize=function(){if(0<this.vertices.length){for(var i=this.vertices[0].copy(),r=this.vertices[0].copy(),a=0;a<this.vertices.length;a++)i.x=Math.max(i.x,this.vertices[a].x),r.x=Math.min(r.x,this.vertices[a].x),i.y=Math.max(i.y,this.vertices[a].y),r.y=Math.min(r.y,this.vertices[a].y),i.z=Math.max(i.z,this.vertices[a].z),r.z=Math.min(r.z,this.vertices[a].z);for(var d=l.default.Vector.lerp(i,r,.5),f=l.default.Vector.sub(i,r),s=200/Math.max(Math.max(f.x,f.y),f.z),o=0;o<this.vertices.length;o++)this.vertices[o].sub(d),this.vertices[o].mult(s)}return this},e=l.default.Geometry,y.default=e},{"../core/main":267,"core-js/modules/es.string.sub":192}],317:[function(a,g,y){a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.typed-array.float32-array"),a("core-js/modules/es.typed-array.copy-within"),a("core-js/modules/es.typed-array.every"),a("core-js/modules/es.typed-array.fill"),a("core-js/modules/es.typed-array.filter"),a("core-js/modules/es.typed-array.find"),a("core-js/modules/es.typed-array.find-index"),a("core-js/modules/es.typed-array.for-each"),a("core-js/modules/es.typed-array.includes"),a("core-js/modules/es.typed-array.index-of"),a("core-js/modules/es.typed-array.iterator"),a("core-js/modules/es.typed-array.join"),a("core-js/modules/es.typed-array.last-index-of"),a("core-js/modules/es.typed-array.map"),a("core-js/modules/es.typed-array.reduce"),a("core-js/modules/es.typed-array.reduce-right"),a("core-js/modules/es.typed-array.reverse"),a("core-js/modules/es.typed-array.set"),a("core-js/modules/es.typed-array.slice"),a("core-js/modules/es.typed-array.some"),a("core-js/modules/es.typed-array.sort"),a("core-js/modules/es.typed-array.subarray"),a("core-js/modules/es.typed-array.to-locale-string"),a("core-js/modules/es.typed-array.to-string"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.typed-array.float32-array"),a("core-js/modules/es.typed-array.copy-within"),a("core-js/modules/es.typed-array.every"),a("core-js/modules/es.typed-array.fill"),a("core-js/modules/es.typed-array.filter"),a("core-js/modules/es.typed-array.find"),a("core-js/modules/es.typed-array.find-index"),a("core-js/modules/es.typed-array.for-each"),a("core-js/modules/es.typed-array.includes"),a("core-js/modules/es.typed-array.index-of"),a("core-js/modules/es.typed-array.iterator"),a("core-js/modules/es.typed-array.join"),a("core-js/modules/es.typed-array.last-index-of"),a("core-js/modules/es.typed-array.map"),a("core-js/modules/es.typed-array.reduce"),a("core-js/modules/es.typed-array.reduce-right"),a("core-js/modules/es.typed-array.reverse"),a("core-js/modules/es.typed-array.set"),a("core-js/modules/es.typed-array.slice"),a("core-js/modules/es.typed-array.some"),a("core-js/modules/es.typed-array.sort"),a("core-js/modules/es.typed-array.subarray"),a("core-js/modules/es.typed-array.to-locale-string"),a("core-js/modules/es.typed-array.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(a=a("../core/main"))&&a.__esModule?a:{default:a},i=Array,r=function(d){return d instanceof Array},a=(typeof Float32Array<"u"&&(i=Float32Array,r=function(d){return d instanceof Array||d instanceof Float32Array}),l.default.Matrix=function(){for(var d=new Array(arguments.length),f=0;f<d.length;++f)d[f]=arguments[f];return d.length&&d[d.length-1]instanceof l.default&&(this.p5=d[d.length-1]),d[0]==="mat3"?this.mat3=Array.isArray(d[1])?d[1]:new i([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(d[0])?d[0]:new i([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this},l.default.Matrix.prototype.set=function(d){return d instanceof l.default.Matrix?this.mat4=d.mat4:r(d)?this.mat4=d:arguments.length===16&&(this.mat4[0]=d,this.mat4[1]=arguments[1],this.mat4[2]=arguments[2],this.mat4[3]=arguments[3],this.mat4[4]=arguments[4],this.mat4[5]=arguments[5],this.mat4[6]=arguments[6],this.mat4[7]=arguments[7],this.mat4[8]=arguments[8],this.mat4[9]=arguments[9],this.mat4[10]=arguments[10],this.mat4[11]=arguments[11],this.mat4[12]=arguments[12],this.mat4[13]=arguments[13],this.mat4[14]=arguments[14],this.mat4[15]=arguments[15]),this},l.default.Matrix.prototype.get=function(){return new l.default.Matrix(this.mat4,this.p5)},l.default.Matrix.prototype.copy=function(){var d=new l.default.Matrix(this.p5);return d.mat4[0]=this.mat4[0],d.mat4[1]=this.mat4[1],d.mat4[2]=this.mat4[2],d.mat4[3]=this.mat4[3],d.mat4[4]=this.mat4[4],d.mat4[5]=this.mat4[5],d.mat4[6]=this.mat4[6],d.mat4[7]=this.mat4[7],d.mat4[8]=this.mat4[8],d.mat4[9]=this.mat4[9],d.mat4[10]=this.mat4[10],d.mat4[11]=this.mat4[11],d.mat4[12]=this.mat4[12],d.mat4[13]=this.mat4[13],d.mat4[14]=this.mat4[14],d.mat4[15]=this.mat4[15],d},l.default.Matrix.identity=function(d){return new l.default.Matrix(d)},l.default.Matrix.prototype.transpose=function(d){var f,s,o,n,u,h;return d instanceof l.default.Matrix?(f=d.mat4[1],s=d.mat4[2],o=d.mat4[3],n=d.mat4[6],u=d.mat4[7],h=d.mat4[11],this.mat4[0]=d.mat4[0],this.mat4[1]=d.mat4[4],this.mat4[2]=d.mat4[8],this.mat4[3]=d.mat4[12],this.mat4[4]=f,this.mat4[5]=d.mat4[5],this.mat4[6]=d.mat4[9],this.mat4[7]=d.mat4[13],this.mat4[8]=s,this.mat4[9]=n,this.mat4[10]=d.mat4[10],this.mat4[11]=d.mat4[14],this.mat4[12]=o,this.mat4[13]=u,this.mat4[14]=h,this.mat4[15]=d.mat4[15]):r(d)&&(f=d[1],s=d[2],o=d[3],n=d[6],u=d[7],h=d[11],this.mat4[0]=d[0],this.mat4[1]=d[4],this.mat4[2]=d[8],this.mat4[3]=d[12],this.mat4[4]=f,this.mat4[5]=d[5],this.mat4[6]=d[9],this.mat4[7]=d[13],this.mat4[8]=s,this.mat4[9]=n,this.mat4[10]=d[10],this.mat4[11]=d[14],this.mat4[12]=o,this.mat4[13]=u,this.mat4[14]=h,this.mat4[15]=d[15]),this},l.default.Matrix.prototype.invert=function(P){P instanceof l.default.Matrix?(f=P.mat4[0],s=P.mat4[1],o=P.mat4[2],n=P.mat4[3],u=P.mat4[4],h=P.mat4[5],p=P.mat4[6],v=P.mat4[7],_=P.mat4[8],j=P.mat4[9],x=P.mat4[10],M=P.mat4[11],E=P.mat4[12],C=P.mat4[13],R=P.mat4[14],O=P.mat4[15]):r(P)&&(f=P[0],s=P[1],o=P[2],n=P[3],u=P[4],h=P[5],p=P[6],v=P[7],_=P[8],j=P[9],x=P[10],M=P[11],E=P[12],C=P[13],R=P[14],O=P[15]);var f,s,o,n,u,h,p,v,_,j,x,M,E,C,R,O,P=f*h-s*u,I=f*p-o*u,N=f*v-n*u,U=s*p-o*h,W=s*v-n*h,z=o*v-n*p,q=_*C-j*E,Y=_*R-x*E,G=_*O-M*E,X=j*R-x*C,$=j*O-M*C,ne=x*O-M*R,k=P*ne-I*$+N*X+U*G-W*Y+z*q;return k?(this.mat4[0]=(h*ne-p*$+v*X)*(k=1/k),this.mat4[1]=(o*$-s*ne-n*X)*k,this.mat4[2]=(C*z-R*W+O*U)*k,this.mat4[3]=(x*W-j*z-M*U)*k,this.mat4[4]=(p*G-u*ne-v*Y)*k,this.mat4[5]=(f*ne-o*G+n*Y)*k,this.mat4[6]=(R*N-E*z-O*I)*k,this.mat4[7]=(_*z-x*N+M*I)*k,this.mat4[8]=(u*$-h*G+v*q)*k,this.mat4[9]=(s*G-f*$-n*q)*k,this.mat4[10]=(E*W-C*N+O*P)*k,this.mat4[11]=(j*N-_*W-M*P)*k,this.mat4[12]=(h*Y-u*X-p*q)*k,this.mat4[13]=(f*X-s*Y+o*q)*k,this.mat4[14]=(C*I-E*U-R*P)*k,this.mat4[15]=(_*U-j*I+x*P)*k,this):null},l.default.Matrix.prototype.invert3x3=function(){var d=this.mat3[0],f=this.mat3[1],s=this.mat3[2],o=this.mat3[3],n=this.mat3[4],u=this.mat3[5],h=this.mat3[6],p=this.mat3[7],v=this.mat3[8],_=v*n-u*p,j=-v*o+u*h,x=p*o-n*h,M=d*_+f*j+s*x;return M?(this.mat3[0]=_*(M=1/M),this.mat3[1]=(-v*f+s*p)*M,this.mat3[2]=(u*f-s*n)*M,this.mat3[3]=j*M,this.mat3[4]=(v*d-s*h)*M,this.mat3[5]=(-u*d+s*o)*M,this.mat3[6]=x*M,this.mat3[7]=(-p*d+f*h)*M,this.mat3[8]=(n*d-f*o)*M,this):null},l.default.Matrix.prototype.transpose3x3=function(d){var f=d[1],s=d[2],o=d[5];return this.mat3[1]=d[3],this.mat3[2]=d[6],this.mat3[3]=f,this.mat3[5]=d[7],this.mat3[6]=s,this.mat3[7]=o,this},l.default.Matrix.prototype.inverseTranspose=function(d){if(this.mat3===void 0?console.error("sorry, this function only works with mat3"):(this.mat3[0]=d.mat4[0],this.mat3[1]=d.mat4[1],this.mat3[2]=d.mat4[2],this.mat3[3]=d.mat4[4],this.mat3[4]=d.mat4[5],this.mat3[5]=d.mat4[6],this.mat3[6]=d.mat4[8],this.mat3[7]=d.mat4[9],this.mat3[8]=d.mat4[10]),d=this.invert3x3(),d)d.transpose3x3(this.mat3);else for(var f=0;f<9;f++)this.mat3[f]=0;return this},l.default.Matrix.prototype.determinant=function(){var d=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],f=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],s=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],o=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],n=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],u=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],h=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],p=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],v=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],_=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],j=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return d*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-f*j+s*_+o*v-n*p+u*h},l.default.Matrix.prototype.mult=function(s){var f;if(s===this||s===this.mat4)f=this.copy().mat4;else if(s instanceof l.default.Matrix)f=s.mat4;else if(r(s))f=s;else{if(arguments.length!==16)return;f=arguments}var s=this.mat4[0],o=this.mat4[1],n=this.mat4[2],u=this.mat4[3];return this.mat4[0]=s*f[0]+o*f[4]+n*f[8]+u*f[12],this.mat4[1]=s*f[1]+o*f[5]+n*f[9]+u*f[13],this.mat4[2]=s*f[2]+o*f[6]+n*f[10]+u*f[14],this.mat4[3]=s*f[3]+o*f[7]+n*f[11]+u*f[15],s=this.mat4[4],o=this.mat4[5],n=this.mat4[6],u=this.mat4[7],this.mat4[4]=s*f[0]+o*f[4]+n*f[8]+u*f[12],this.mat4[5]=s*f[1]+o*f[5]+n*f[9]+u*f[13],this.mat4[6]=s*f[2]+o*f[6]+n*f[10]+u*f[14],this.mat4[7]=s*f[3]+o*f[7]+n*f[11]+u*f[15],s=this.mat4[8],o=this.mat4[9],n=this.mat4[10],u=this.mat4[11],this.mat4[8]=s*f[0]+o*f[4]+n*f[8]+u*f[12],this.mat4[9]=s*f[1]+o*f[5]+n*f[9]+u*f[13],this.mat4[10]=s*f[2]+o*f[6]+n*f[10]+u*f[14],this.mat4[11]=s*f[3]+o*f[7]+n*f[11]+u*f[15],s=this.mat4[12],o=this.mat4[13],n=this.mat4[14],u=this.mat4[15],this.mat4[12]=s*f[0]+o*f[4]+n*f[8]+u*f[12],this.mat4[13]=s*f[1]+o*f[5]+n*f[9]+u*f[13],this.mat4[14]=s*f[2]+o*f[6]+n*f[10]+u*f[14],this.mat4[15]=s*f[3]+o*f[7]+n*f[11]+u*f[15],this},l.default.Matrix.prototype.apply=function(s){var f;if(s===this||s===this.mat4)f=this.copy().mat4;else if(s instanceof l.default.Matrix)f=s.mat4;else if(r(s))f=s;else{if(arguments.length!==16)return;f=arguments}var s=this.mat4,o=s[0],n=s[4],u=s[8],h=s[12],o=(s[0]=f[0]*o+f[1]*n+f[2]*u+f[3]*h,s[4]=f[4]*o+f[5]*n+f[6]*u+f[7]*h,s[8]=f[8]*o+f[9]*n+f[10]*u+f[11]*h,s[12]=f[12]*o+f[13]*n+f[14]*u+f[15]*h,s[1]),n=s[5],u=s[9],h=s[13],o=(s[1]=f[0]*o+f[1]*n+f[2]*u+f[3]*h,s[5]=f[4]*o+f[5]*n+f[6]*u+f[7]*h,s[9]=f[8]*o+f[9]*n+f[10]*u+f[11]*h,s[13]=f[12]*o+f[13]*n+f[14]*u+f[15]*h,s[2]),n=s[6],u=s[10],h=s[14],o=(s[2]=f[0]*o+f[1]*n+f[2]*u+f[3]*h,s[6]=f[4]*o+f[5]*n+f[6]*u+f[7]*h,s[10]=f[8]*o+f[9]*n+f[10]*u+f[11]*h,s[14]=f[12]*o+f[13]*n+f[14]*u+f[15]*h,s[3]),n=s[7],u=s[11],h=s[15];return s[3]=f[0]*o+f[1]*n+f[2]*u+f[3]*h,s[7]=f[4]*o+f[5]*n+f[6]*u+f[7]*h,s[11]=f[8]*o+f[9]*n+f[10]*u+f[11]*h,s[15]=f[12]*o+f[13]*n+f[14]*u+f[15]*h,this},l.default.Matrix.prototype.scale=function(d,f,s){return d instanceof l.default.Vector?(f=d.y,s=d.z,d=d.x):d instanceof Array&&(f=d[1],s=d[2],d=d[0]),this.mat4[0]*=d,this.mat4[1]*=d,this.mat4[2]*=d,this.mat4[3]*=d,this.mat4[4]*=f,this.mat4[5]*=f,this.mat4[6]*=f,this.mat4[7]*=f,this.mat4[8]*=s,this.mat4[9]*=s,this.mat4[10]*=s,this.mat4[11]*=s,this},l.default.Matrix.prototype.rotate=function(P,$,X,o){$ instanceof l.default.Vector?(X=$.y,o=$.z,$=$.x):$ instanceof Array&&(X=$[1],o=$[2],$=$[0]);var n=Math.sqrt($*$+X*X+o*o),n=($*=1/n,X*=1/n,o*=1/n,this.mat4[0]),u=this.mat4[1],h=this.mat4[2],p=this.mat4[3],v=this.mat4[4],_=this.mat4[5],j=this.mat4[6],x=this.mat4[7],M=this.mat4[8],E=this.mat4[9],C=this.mat4[10],R=this.mat4[11],O=Math.sin(P),P=Math.cos(P),I=1-P,N=$*$*I+P,U=X*$*I+o*O,W=o*$*I-X*O,z=$*X*I-o*O,q=X*X*I+P,Y=o*X*I+$*O,G=$*o*I+X*O,X=X*o*I-$*O,$=o*o*I+P;return this.mat4[0]=n*N+v*U+M*W,this.mat4[1]=u*N+_*U+E*W,this.mat4[2]=h*N+j*U+C*W,this.mat4[3]=p*N+x*U+R*W,this.mat4[4]=n*z+v*q+M*Y,this.mat4[5]=u*z+_*q+E*Y,this.mat4[6]=h*z+j*q+C*Y,this.mat4[7]=p*z+x*q+R*Y,this.mat4[8]=n*G+v*X+M*$,this.mat4[9]=u*G+_*X+E*$,this.mat4[10]=h*G+j*X+C*$,this.mat4[11]=p*G+x*X+R*$,this},l.default.Matrix.prototype.translate=function(o){var f=o[0],s=o[1],o=o[2]||0;this.mat4[12]+=this.mat4[0]*f+this.mat4[4]*s+this.mat4[8]*o,this.mat4[13]+=this.mat4[1]*f+this.mat4[5]*s+this.mat4[9]*o,this.mat4[14]+=this.mat4[2]*f+this.mat4[6]*s+this.mat4[10]*o,this.mat4[15]+=this.mat4[3]*f+this.mat4[7]*s+this.mat4[11]*o},l.default.Matrix.prototype.rotateX=function(d){this.rotate(d,1,0,0)},l.default.Matrix.prototype.rotateY=function(d){this.rotate(d,0,1,0)},l.default.Matrix.prototype.rotateZ=function(d){this.rotate(d,0,0,1)},l.default.Matrix.prototype.perspective=function(n,f,s,o){var n=1/Math.tan(n/2),u=1/(s-o);return this.mat4[0]=n/f,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=n,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(o+s)*u,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*o*s*u,this.mat4[15]=0,this},l.default.Matrix.prototype.ortho=function(d,f,s,o,n,u){var h=1/(d-f),p=1/(s-o),v=1/(n-u);return this.mat4[0]=-2*h,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*p,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*v,this.mat4[11]=0,this.mat4[12]=(d+f)*h,this.mat4[13]=(o+s)*p,this.mat4[14]=(u+n)*v,this.mat4[15]=1,this},l.default.Matrix);y.default=a},{"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223}],318:[function(e,g,y){e("core-js/modules/es.array.map"),e("core-js/modules/es.array.map"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,e=(e=e("../core/main"))&&e.__esModule?e:{default:e},e.default.RenderBuffer=function(l,i,r,a,d,f){this.size=l,this.src=i,this.dst=r,this.attr=a,this._renderer=d,this.map=f},e.default.RenderBuffer.prototype._prepareBuffer=function(l,i){var r,a,d,o=i.attributes,f=this._renderer.GL,s=l.model||l,o=o[this.attr];o&&(r=l[this.dst],0<(a=s[this.src]).length&&((d=!r)&&(l[this.dst]=r=f.createBuffer()),f.bindBuffer(f.ARRAY_BUFFER,r),!d&&s.dirtyFlags[this.src]===!1||(d=(l=this.map)?l(a):a,this._renderer._bindBuffer(r,f.ARRAY_BUFFER,d),s.dirtyFlags[this.src]=!1),i.enableAttrib(o,this.size)))},e=e.default.RenderBuffer,y.default=e},{"../core/main":267,"core-js/modules/es.array.map":161}],319:[function(e,g,y){function l(n){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(n)}function i(n){return(i=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(u){return l(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":l(u)})(n)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var r=(o=e("../core/main"))&&o.__esModule?o:{default:o},a=function(n){if(n&&n.__esModule)return n;if(n===null||i(n)!=="object"&&typeof n!="function")return{default:n};var u=d();if(u&&u.has(n))return u.get(n);var h,p={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in n){var _;Object.prototype.hasOwnProperty.call(n,h)&&((_=v?Object.getOwnPropertyDescriptor(n,h):null)&&(_.get||_.set)?Object.defineProperty(p,h,_):p[h]=n[h])}return p.default=n,u&&u.set(n,p),p}(e("../core/constants"));function d(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,d=function(){return n},n)}function f(n){return function(u){if(Array.isArray(u)){for(var h=0,p=new Array(u.length);h<u.length;h++)p[h]=u[h];return p}}(n)||function(u){if(Symbol.iterator in Object(u)||Object.prototype.toString.call(u)==="[object Arguments]")return Array.from(u)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}e("./p5.RenderBuffer"),r.default.RendererGL.prototype.beginShape=function(n){return this.immediateMode.shapeMode=n!==void 0?n:a.TRIANGLE_FAN,this.immediateMode.geometry.reset(),this};var s={vertices:1,vertexNormals:1,vertexColors:4,uvs:2},o=(r.default.RendererGL.prototype.vertex=function(n,u){if(this.immediateMode.shapeMode===a.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var h in s){var p=s[h],h=this.immediateMode.geometry[h];h.push.apply(h,f(h.slice(h.length-3*p,h.length-2*p)).concat(f(h.slice(h.length-p,h.length))))}var v,_,j=v=_=0,x=(arguments.length===3?j=arguments[2]:arguments.length===4?(v=arguments[2],_=arguments[3]):arguments.length===5&&(j=arguments[2],v=arguments[3],_=arguments[4]),new r.default.Vector(n,u,j)),x=(this.immediateMode.geometry.vertices.push(x),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.curFillColor||[.5,.5,.5,1]);return this.immediateMode.geometry.vertexColors.push(x[0],x[1],x[2],x[3]),this.textureMode===a.IMAGE&&(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(v/=this._tex.width,_/=this._tex.height):this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(v,_),this.immediateMode._bezierVertex[0]=n,this.immediateMode._bezierVertex[1]=u,this.immediateMode._bezierVertex[2]=j,this.immediateMode._quadraticVertex[0]=n,this.immediateMode._quadraticVertex[1]=u,this.immediateMode._quadraticVertex[2]=j,this},r.default.RendererGL.prototype.normal=function(n,u,h){return n instanceof r.default.Vector?this._currentNormal=n:this._currentNormal=new r.default.Vector(n,u,h),this},r.default.RendererGL.prototype.endShape=function(n,u,h,p,v,_){return this.immediateMode.shapeMode===a.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this._processVertices.apply(this,arguments),this._doFill&&1<this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(),this._doStroke&&1<this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},r.default.RendererGL.prototype._processVertices=function(n){var u;this.immediateMode.geometry.vertices.length!==0&&(u=this._doStroke&&this.drawMode!==a.TEXTURE,n=n===a.CLOSE,u&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,n),this.immediateMode.geometry._edgesToVertices()),u=this.immediateMode.shapeMode===a.TESS,(this.isBezier||this.isQuadratic||this.isCurve||u)&&this.immediateMode.shapeMode!==a.LINES&&this._tesselateShape())},r.default.RendererGL.prototype._calculateEdges=function(n,u,h){var p=[],v=0;switch(n){case a.TRIANGLE_STRIP:for(v=0;v<u.length-2;v++)p.push([v,v+1]),p.push([v,v+2]);p.push([v,v+1]);break;case a.TRIANGLES:for(v=0;v<u.length-2;v+=3)p.push([v,v+1]),p.push([v+1,v+2]),p.push([v+2,v]);break;case a.LINES:for(v=0;v<u.length-1;v+=2)p.push([v,v+1]);break;case a.QUADS:for(v=0;v<u.length-5;v+=6)p.push([v,v+1]),p.push([v+1,v+2]),p.push([v+3,v+5]),p.push([v+4,v+5]);break;case a.QUAD_STRIP:for(v=0;v<u.length-2;v+=2)p.push([v,v+1]),p.push([v,v+2]),p.push([v+1,v+3]);p.push([v,v+1]);break;default:for(v=0;v<u.length-1;v++)p.push([v,v+1])}return h&&p.push([u.length-1,0]),p},r.default.RendererGL.prototype._tesselateShape=function(){for(var n=this,u=(this.immediateMode.shapeMode=a.TRIANGLES,[this._flatten(this.immediateMode.geometry.vertices.map(function(j,x){return[j.x,j.y,j.z,n.immediateMode.geometry.uvs[2*x],n.immediateMode.geometry.uvs[2*x+1],n.immediateMode.geometry.vertexColors[4*x],n.immediateMode.geometry.vertexColors[4*x+1],n.immediateMode.geometry.vertexColors[4*x+2],n.immediateMode.geometry.vertexColors[4*x+3],n.immediateMode.geometry.vertexNormals[x].x,n.immediateMode.geometry.vertexNormals[x].y,n.immediateMode.geometry.vertexNormals[x].z]}))]),h=this._triangulate(u),p=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),v=0,_=h.length;v<_;v+=12)p.push.apply(p,f(h.slice(v+5,v+9))),this.normal.apply(this,f(h.slice(v+9,v+12))),this.vertex.apply(this,f(h.slice(v,v+5)));this.immediateMode.geometry.vertexColors=p},r.default.RendererGL.prototype._drawImmediateFill=function(){var n=this.GL,u=this._getImmediateFillShader(),h=(this._setFillUniforms(u),!0),p=!1,v=void 0;try{for(var _,j=this.immediateMode.buffers.fill[Symbol.iterator]();!(h=(_=j.next()).done);h=!0)_.value._prepareBuffer(this.immediateMode.geometry,u)}catch(x){p=!0,v=x}finally{try{h||j.return==null||j.return()}finally{if(p)throw v}}this.immediateMode.shapeMode!==a.LINE_STRIP&&this.immediateMode.shapeMode!==a.LINES||(this.immediateMode.shapeMode=a.TRIANGLE_FAN),this.immediateMode.shapeMode===a.QUADS?this.immediateMode.shapeMode=a.TRIANGLES:this.immediateMode.shapeMode===a.QUAD_STRIP&&(this.immediateMode.shapeMode=a.TRIANGLE_STRIP),this._applyColorBlend(this.curFillColor),n.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length),u.unbindShader()},r.default.RendererGL.prototype._drawImmediateStroke=function(){var n=this.GL,u=this._getImmediateStrokeShader(),h=(this._setStrokeUniforms(u),!0),p=!1,v=void 0;try{for(var _,j=this.immediateMode.buffers.stroke[Symbol.iterator]();!(h=(_=j.next()).done);h=!0)_.value._prepareBuffer(this.immediateMode.geometry,u)}catch(x){p=!0,v=x}finally{try{h||j.return==null||j.return()}finally{if(p)throw v}}this._applyColorBlend(this.curStrokeColor),n.drawArrays(n.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length),u.unbindShader()},r.default.RendererGL);y.default=o},{"../core/constants":256,"../core/main":267,"./p5.RenderBuffer":318,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],320:[function(e,g,y){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.some"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.uint16-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.some"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.uint16-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(r=e("../core/main"))&&r.__esModule?r:{default:r};e("./p5.RendererGL"),e("./p5.RenderBuffer");var i=0,r=(l.default.RendererGL.prototype._initBufferDefaults=function(a){var d;return this._freeBuffers(a),1e3<++i&&(d=Object.keys(this.retainedMode.geometry)[0],delete this.retainedMode.geometry[d],i--),this.retainedMode.geometry[a]={}},l.default.RendererGL.prototype._freeBuffers=function(a){var d,f=this.retainedMode.geometry[a];function s(o){var n=!0,u=!1,h=void 0;try{for(var p,v=o[Symbol.iterator]();!(n=(p=v.next()).done);n=!0){var _=p.value;f[_.dst]&&(d.deleteBuffer(f[_.dst]),f[_.dst]=null)}}catch(j){u=!0,h=j}finally{try{n||v.return==null||v.return()}finally{if(u)throw h}}}f&&(delete this.retainedMode.geometry[a],i--,d=this.GL,f.indexBuffer&&d.deleteBuffer(f.indexBuffer),s(this.retainedMode.buffers.stroke),s(this.retainedMode.buffers.fill))},l.default.RendererGL.prototype.createBuffers=function(u,d){var f,s,o,n=this.GL,u=this._initBufferDefaults(u),h=(u.model=d,u.indexBuffer);return d.faces.length?(h=h||(u.indexBuffer=n.createBuffer()),o=(s=(f=l.default.RendererGL.prototype._flatten(d.faces)).some(function(p){return 65535<p}))?Uint32Array:Uint16Array,this._bindBuffer(h,n.ELEMENT_ARRAY_BUFFER,f,o),u.indexBufferType=s?n.UNSIGNED_INT:n.UNSIGNED_SHORT,u.vertexCount=3*d.faces.length):(h&&(n.deleteBuffer(h),u.indexBuffer=null),u.vertexCount=d.vertices?d.vertices.length:0),u.lineVertexCount=d.lineVertices?d.lineVertices.length:0,u},l.default.RendererGL.prototype.drawBuffers=function(a){var d=this.GL,f=this.retainedMode.geometry[a];if(this._doStroke&&0<f.lineVertexCount){var s=this._getRetainedStrokeShader(),o=(this._setStrokeUniforms(s),!0),n=!1,u=void 0;try{for(var h,p=this.retainedMode.buffers.stroke[Symbol.iterator]();!(o=(h=p.next()).done);o=!0)h.value._prepareBuffer(f,s)}catch(M){n=!0,u=M}finally{try{o||p.return==null||p.return()}finally{if(n)throw u}}this._applyColorBlend(this.curStrokeColor),this._drawArrays(d.TRIANGLES,a),s.unbindShader()}if(this._doFill){var v=this._getRetainedFillShader(),_=(this._setFillUniforms(v),!0),n=!1,u=void 0;try{for(var j,x=this.retainedMode.buffers.fill[Symbol.iterator]();!(_=(j=x.next()).done);_=!0)j.value._prepareBuffer(f,v)}catch(C){n=!0,u=C}finally{try{_||x.return==null||x.return()}finally{if(n)throw u}}f.indexBuffer&&this._bindBuffer(f.indexBuffer,d.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor),this._drawElements(d.TRIANGLES,a),v.unbindShader()}return this},l.default.RendererGL.prototype.drawBuffersScaled=function(a,d,f,s){var o=this.uMVMatrix.copy();try{this.uMVMatrix.scale(d,f,s),this.drawBuffers(a)}finally{this.uMVMatrix=o}},l.default.RendererGL.prototype._drawArrays=function(a,d){return this.GL.drawArrays(a,0,this.retainedMode.geometry[d].lineVertexCount),this},l.default.RendererGL.prototype._drawElements=function(a,f){var f=this.retainedMode.geometry[f],s=this.GL;if(f.indexBuffer){if(f.indexBufferType===s.UNSIGNED_INT&&!s.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");s.drawElements(s.TRIANGLES,f.vertexCount,f.indexBufferType,0)}else s.drawArrays(a||s.TRIANGLES,0,f.vertexCount)},l.default.RendererGL.prototype._drawPoints=function(a,d){var f=this.GL,s=this._getImmediatePointShader();this._setPointUniforms(s),this._bindBuffer(d,f.ARRAY_BUFFER,this._vToNArray(a),Float32Array,f.STATIC_DRAW),s.enableAttrib(s.attributes.aPosition,3),f.drawArrays(f.Points,0,a.length),s.unbindShader()},l.default.RendererGL);y.default=r},{"../core/main":267,"./p5.RenderBuffer":318,"./p5.RendererGL":321,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.some":163,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint16-array":224,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/web.dom-collections.iterator":230}],321:[function(u,g,y){function l(h){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function i(h){return(i=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(p){return l(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":l(p)})(h)}u("core-js/modules/es.symbol"),u("core-js/modules/es.symbol.description"),u("core-js/modules/es.symbol.iterator"),u("core-js/modules/es.array.concat"),u("core-js/modules/es.array.fill"),u("core-js/modules/es.array.filter"),u("core-js/modules/es.array.from"),u("core-js/modules/es.array.includes"),u("core-js/modules/es.array.iterator"),u("core-js/modules/es.array.slice"),u("core-js/modules/es.object.assign"),u("core-js/modules/es.object.get-own-property-descriptor"),u("core-js/modules/es.object.to-string"),u("core-js/modules/es.regexp.to-string"),u("core-js/modules/es.string.includes"),u("core-js/modules/es.string.iterator"),u("core-js/modules/es.typed-array.float32-array"),u("core-js/modules/es.typed-array.float64-array"),u("core-js/modules/es.typed-array.int16-array"),u("core-js/modules/es.typed-array.uint8-array"),u("core-js/modules/es.typed-array.uint16-array"),u("core-js/modules/es.typed-array.uint32-array"),u("core-js/modules/es.typed-array.copy-within"),u("core-js/modules/es.typed-array.every"),u("core-js/modules/es.typed-array.fill"),u("core-js/modules/es.typed-array.filter"),u("core-js/modules/es.typed-array.find"),u("core-js/modules/es.typed-array.find-index"),u("core-js/modules/es.typed-array.for-each"),u("core-js/modules/es.typed-array.includes"),u("core-js/modules/es.typed-array.index-of"),u("core-js/modules/es.typed-array.iterator"),u("core-js/modules/es.typed-array.join"),u("core-js/modules/es.typed-array.last-index-of"),u("core-js/modules/es.typed-array.map"),u("core-js/modules/es.typed-array.reduce"),u("core-js/modules/es.typed-array.reduce-right"),u("core-js/modules/es.typed-array.reverse"),u("core-js/modules/es.typed-array.set"),u("core-js/modules/es.typed-array.slice"),u("core-js/modules/es.typed-array.some"),u("core-js/modules/es.typed-array.sort"),u("core-js/modules/es.typed-array.subarray"),u("core-js/modules/es.typed-array.to-locale-string"),u("core-js/modules/es.typed-array.to-string"),u("core-js/modules/es.weak-map"),u("core-js/modules/web.dom-collections.iterator"),u("core-js/modules/es.symbol"),u("core-js/modules/es.symbol.description"),u("core-js/modules/es.symbol.iterator"),u("core-js/modules/es.array.concat"),u("core-js/modules/es.array.fill"),u("core-js/modules/es.array.filter"),u("core-js/modules/es.array.from"),u("core-js/modules/es.array.includes"),u("core-js/modules/es.array.iterator"),u("core-js/modules/es.array.slice"),u("core-js/modules/es.object.assign"),u("core-js/modules/es.object.to-string"),u("core-js/modules/es.regexp.to-string"),u("core-js/modules/es.string.includes"),u("core-js/modules/es.string.iterator"),u("core-js/modules/es.typed-array.float32-array"),u("core-js/modules/es.typed-array.float64-array"),u("core-js/modules/es.typed-array.int16-array"),u("core-js/modules/es.typed-array.uint8-array"),u("core-js/modules/es.typed-array.uint16-array"),u("core-js/modules/es.typed-array.uint32-array"),u("core-js/modules/es.typed-array.copy-within"),u("core-js/modules/es.typed-array.every"),u("core-js/modules/es.typed-array.fill"),u("core-js/modules/es.typed-array.filter"),u("core-js/modules/es.typed-array.find"),u("core-js/modules/es.typed-array.find-index"),u("core-js/modules/es.typed-array.for-each"),u("core-js/modules/es.typed-array.includes"),u("core-js/modules/es.typed-array.index-of"),u("core-js/modules/es.typed-array.iterator"),u("core-js/modules/es.typed-array.join"),u("core-js/modules/es.typed-array.last-index-of"),u("core-js/modules/es.typed-array.map"),u("core-js/modules/es.typed-array.reduce"),u("core-js/modules/es.typed-array.reduce-right"),u("core-js/modules/es.typed-array.reverse"),u("core-js/modules/es.typed-array.set"),u("core-js/modules/es.typed-array.slice"),u("core-js/modules/es.typed-array.some"),u("core-js/modules/es.typed-array.sort"),u("core-js/modules/es.typed-array.subarray"),u("core-js/modules/es.typed-array.to-locale-string"),u("core-js/modules/es.typed-array.to-string"),u("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var r=s(u("../core/main")),a=function(h){if(h&&h.__esModule)return h;if(h===null||i(h)!=="object"&&typeof h!="function")return{default:h};var p=f();if(p&&p.has(h))return p.get(h);var v,_={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in h){var x;Object.prototype.hasOwnProperty.call(h,v)&&((x=j?Object.getOwnPropertyDescriptor(h,v):null)&&(x.get||x.set)?Object.defineProperty(_,v,x):_[v]=h[v])}return _.default=h,p&&p.set(h,_),_}(u("../core/constants")),d=s(u("libtess"));u("./p5.Shader"),u("./p5.Camera"),u("../core/p5.Renderer"),u("./p5.Matrix"),u("path");function f(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,f=function(){return h},h)}function s(h){return h&&h.__esModule?h:{default:h}}function o(h){return function(p){if(Array.isArray(p)){for(var v=0,_=new Array(p.length);v<p.length;v++)_[v]=p[v];return _}}(h)||function(p){if(Symbol.iterator in Object(p)||Object.prototype.toString.call(p)==="[object Arguments]")return Array.from(p)}(h)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var u=`precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];

uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  if (uSpecular)
    lr.specular = _phongSpecular(lightDir, viewDirection, normal, uShininess);
  lr.diffuse = _lambertDiffuse(lightDir, normal);
  return lr;
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`,n={immediateVert:`attribute vec3 aPosition;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

varying vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`attribute vec3 aPosition;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

varying vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`precision mediump float;
varying vec4 vColor;
void main(void) {
  gl_FragColor = vColor;
}`,normalVert:`attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

varying vec3 vVertexNormal;
varying highp vec2 vVertTexCoord;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));
  vVertTexCoord = aTexCoord;
}
`,normalFrag:`precision mediump float;
varying vec3 vVertexNormal;
void main(void) {
  gl_FragColor = vec4(vVertexNormal, 1.0);
}`,basicFrag:`precision mediump float;
uniform vec4 uMaterialColor;
void main(void) {
  gl_FragColor = uMaterialColor;
}`,lightVert:u+`// include lighting.glgl

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
}
`,lightTextureFrag:`precision highp float;

uniform vec4 uMaterialColor;
uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;

void main(void) {
  if(uEmissive && !isTexture) {
    gl_FragColor = uMaterialColor;
  }
  else {
    gl_FragColor = isTexture ? texture2D(uSampler, vVertTexCoord) * (uTint / vec4(255, 255, 255, 255)) : uMaterialColor;
    gl_FragColor.rgb = gl_FragColor.rgb * vDiffuseColor + vSpecularColor;
  }
}`,phongVert:`precision highp float;
precision highp int;

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = uNormalMatrix * aNormal;
  vTexCoord = aTexCoord;

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
}
`,phongFrag:u+`// include lighting.glsl
precision highp float;
precision highp int;

uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uMaterialColor;
uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;

void main(void) {

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  gl_FragColor = isTexture ? texture2D(uSampler, vTexCoord) * (uTint / vec4(255, 255, 255, 255)) : uMaterialColor;
  gl_FragColor.rgb = diffuse * gl_FragColor.rgb + 
                    vAmbientColor * uAmbientMatColor.rgb + 
                    specular * uSpecularMatColor.rgb + 
                    uEmissiveMatColor.rgb;
}`,fontVert:`precision mediump float;

attribute vec3 aPosition;
attribute vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

varying vec2 vTexCoord;
varying float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord;
  w = gl_Position.w;
}
`,fontFrag:`#extension GL_OES_standard_derivatives : enable
precision mediump float;

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

varying vec2 vTexCoord;

// some helper functions
int round(float v) { return ifloor(v + 0.5); }
ivec2 round(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = round(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return texture2D(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  gl_FragColor = uMaterialColor;
  gl_FragColor.a *= saturate(max(antialias, cover));
}`,lineVert:`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform vec4 uViewport;
uniform int uPerspective;

attribute vec4 aPosition;
attribute vec4 aDirection;
  
void main() {
  // using a scale <1 moves the lines towards the camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  vec3 scale = vec3(0.9995);

  vec4 posp = uModelViewMatrix * aPosition;
  vec4 posq = uModelViewMatrix * (aPosition + vec4(aDirection.xyz, 0));

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  posp.xyz = posp.xyz * scale;
  posq.xyz = posq.xyz * scale;

  vec4 p = uProjectionMatrix * posp;
  vec4 q = uProjectionMatrix * posq;

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangent = normalize((q.xy*p.w - p.xy*q.w) * uViewport.zw);

  // flip tangent to normal (it's already normalized)
  vec2 normal = vec2(-tangent.y, tangent.x);

  float thickness = aDirection.w * uStrokeWeight;
  vec2 offset = normal * thickness / 2.0;

  vec2 curPerspScale;

  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)
    // invert Y, projections in Processing invert Y
    curPerspScale = (uProjectionMatrix * vec4(1, -1, 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
}
`,lineFrag:`precision mediump float;
precision mediump int;

uniform vec4 uMaterialColor;

void main() {
  gl_FragColor = uMaterialColor;
}`,pointVert:`attribute vec3 aPosition;
uniform float uPointSize;
varying float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
void main() {
	vec4 positionVec4 =  vec4(aPosition, 1.0);
	gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
	gl_PointSize = uPointSize;
	vStrokeWeight = uPointSize;
}`,pointFrag:`precision mediump float;
precision mediump int;
uniform vec4 uMaterialColor;
varying float vStrokeWeight;

void main(){
	float mask = 0.0;

	// make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
    // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

	mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

	// if strokeWeight is 1 or less lets just draw a square
	// this prevents weird artifacting from carving circles when our points are really small
	// if strokeWeight is larger than 1, we just use it as is

	mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

	// throw away the borders of the mask
    // otherwise we get weird alpha blending issues

	if(mask > 0.98){
      discard;
  	}

  	gl_FragColor = vec4(uMaterialColor.rgb * (1.0 - mask), uMaterialColor.a) ;
}`},u=(r.default.RendererGL=function(h,p,v,_){return r.default.Renderer.call(this,h,p,v),this._setAttributeDefaults(p),this._initContext(),this.isP3D=!0,this.GL=this.drawingContext,this._pInst._setProperty("drawingContext",this.drawingContext),this._isErasing=!1,this._enableLighting=!1,this.ambientLightColors=[],this.specularColors=[1,1,1],this.directionalLightDirections=[],this.directionalLightDiffuseColors=[],this.directionalLightSpecularColors=[],this.pointLightPositions=[],this.pointLightDiffuseColors=[],this.pointLightSpecularColors=[],this.spotLightPositions=[],this.spotLightDirections=[],this.spotLightDiffuseColors=[],this.spotLightSpecularColors=[],this.spotLightAngle=[],this.spotLightConc=[],this.drawMode=a.FILL,this.curFillColor=this._cachedFillStyle=[1,1,1,1],this.curAmbientColor=this._cachedFillStyle=[0,0,0,0],this.curSpecularColor=this._cachedFillStyle=[0,0,0,0],this.curEmissiveColor=this._cachedFillStyle=[0,0,0,0],this.curStrokeColor=this._cachedStrokeStyle=[0,0,0,1],this.curBlendMode=a.BLEND,this._cachedBlendMode=void 0,this.blendExt=this.GL.getExtension("EXT_blend_minmax"),this._isBlending=!1,this._useSpecularMaterial=!1,this._useEmissiveMaterial=!1,this._useNormalMaterial=!1,this._useShininess=1,this._tint=[255,255,255,255],this.constantAttenuation=1,this.linearAttenuation=0,this.quadraticAttenuation=0,this.uMVMatrix=new r.default.Matrix,this.uPMatrix=new r.default.Matrix,this.uNMatrix=new r.default.Matrix("mat3"),this._currentNormal=new r.default.Vector(0,0,1),this._curCamera=new r.default.Camera(this),this._curCamera._computeCameraDefaultSettings(),this._curCamera._setDefaultCamera(),this._defaultLightShader=void 0,this._defaultImmediateModeShader=void 0,this._defaultNormalShader=void 0,this._defaultColorShader=void 0,this._defaultPointShader=void 0,this.userFillShader=void 0,this.userStrokeShader=void 0,this.userPointShader=void 0,this.retainedMode={geometry:{},buffers:{stroke:[new r.default.RenderBuffer(3,"lineVertices","lineVertexBuffer","aPosition",this,this._flatten),new r.default.RenderBuffer(4,"lineNormals","lineNormalBuffer","aDirection",this,this._flatten)],fill:[new r.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new r.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new r.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",this),new r.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new r.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],text:[new r.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new r.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)]}},this.immediateMode={geometry:new r.default.Geometry,shapeMode:a.TRIANGLE_FAN,_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new r.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new r.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new r.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",this),new r.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new r.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],stroke:[new r.default.RenderBuffer(3,"lineVertices","lineVertexBuffer","aPosition",this,this._flatten),new r.default.RenderBuffer(4,"lineNormals","lineNormalBuffer","aDirection",this,this._flatten)],point:this.GL.createBuffer()}},this.pointSize=5,this.curStrokeWeight=1,this.textures=[],this.textureMode=a.IMAGE,this.textureWrapX=a.CLAMP,this.textureWrapY=a.CLAMP,this._tex=null,this._curveTightness=6,this._lookUpTableBezier=[],this._lookUpTableQuadratic=[],this._lutBezierDetail=0,this._lutQuadraticDetail=0,this._tessy=this._initTessy(),this.fontInfos={},this._curShader=void 0,this},r.default.RendererGL.prototype=Object.create(r.default.Renderer.prototype),r.default.RendererGL.prototype._setAttributeDefaults=function(h){var p={alpha:!1,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!1,preserveDrawingBuffer:!0,perPixelLighting:!0};h._glAttributes===null?h._glAttributes=p:h._glAttributes=Object.assign(p,h._glAttributes)},r.default.RendererGL.prototype._initContext=function(){if(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes),this.drawingContext===null)throw new Error("Error creating webgl context");var h=this.drawingContext;h.enable(h.DEPTH_TEST),h.depthFunc(h.LEQUAL),h.viewport(0,0,h.drawingBufferWidth,h.drawingBufferHeight),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)},r.default.RendererGL.prototype._resetContext=function(h,p){var v,_=this.width,j=this.height,M=this.canvas.id,x=this._pInst instanceof r.default.Graphics,M=(x?((v=this._pInst).canvas.parentNode.removeChild(v.canvas),v.canvas=document.createElement("canvas"),(v._pInst._userNode||document.body).appendChild(v.canvas),r.default.Element.call(v,v.canvas,v._pInst),v.width=_,v.height=j):((v=this.canvas)&&v.parentNode.removeChild(v),(v=document.createElement("canvas")).id=M,(this._pInst._userNode||document.body).appendChild(v),this._pInst.canvas=v,this.canvas=v),new r.default.RendererGL(this._pInst.canvas,this._pInst,!x));this._pInst._setProperty("_renderer",M),M.resize(_,j),M._applyDefaults(),x||this._pInst._elements.push(M),typeof p=="function"&&setTimeout(function(){p.apply(window._renderer,h)},0)},r.default.prototype.setAttributes=function(h,p){if(this._glAttributes===void 0)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var v=!0;if(p!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[h]!==p&&(this._glAttributes[h]=p,v=!1)):h instanceof Object&&this._glAttributes!==h&&(this._glAttributes=h,v=!1),this._renderer.isP3D&&!v){if(!this._setupDone){for(var _ in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(_))return void console.error("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},r.default.RendererGL.prototype._update=function(){this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clear(this.GL.DEPTH_BUFFER_BIT)},r.default.RendererGL.prototype.background=function(){var _=(_=this._pInst).color.apply(_,arguments),h=_.levels[0]/255,p=_.levels[1]/255,v=_.levels[2]/255,_=_.levels[3]/255;this.GL.clearColor(h,p,v,_),this.GL.clear(this.GL.COLOR_BUFFER_BIT)},r.default.RendererGL.prototype.fill=function(h,p,v,_){var j=r.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=j._array,this.drawMode=a.FILL,this._useNormalMaterial=!1,this._tex=null},r.default.RendererGL.prototype.stroke=function(h,p,v,_){arguments[3]=255;var j=r.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=j._array},r.default.RendererGL.prototype.strokeCap=function(h){console.error("Sorry, strokeCap() is not yet implemented in WEBGL mode")},r.default.RendererGL.prototype.strokeJoin=function(h){console.error("Sorry, strokeJoin() is not yet implemented in WEBGL mode")},r.default.RendererGL.prototype.filter=function(h){console.error("filter() does not work in WEBGL mode")},r.default.RendererGL.prototype.blendMode=function(h){h===a.DARKEST||h===a.LIGHTEST||h===a.ADD||h===a.BLEND||h===a.SUBTRACT||h===a.SCREEN||h===a.EXCLUSION||h===a.REPLACE||h===a.MULTIPLY||h===a.REMOVE?this.curBlendMode=h:h!==a.BURN&&h!==a.OVERLAY&&h!==a.HARD_LIGHT&&h!==a.SOFT_LIGHT&&h!==a.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")},r.default.RendererGL.prototype.erase=function(h,p){this._isErasing||(this._applyBlendMode(a.REMOVE),this._isErasing=!0,this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,h/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,p/255])},r.default.RendererGL.prototype.noErase=function(){this._isErasing&&(this._isErasing=!1,this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.blendMode(this._cachedBlendMode))},r.default.RendererGL.prototype.strokeWeight=function(h){this.curStrokeWeight!==h&&(this.pointSize=h,this.curStrokeWeight=h)},r.default.RendererGL.prototype._getPixel=function(h,p){var v=new Uint8Array(4);return this.drawingContext.readPixels(h,p,1,1,this.drawingContext.RGBA,this.drawingContext.UNSIGNED_BYTE,v),[v[0],v[1],v[2],v[3]]},r.default.RendererGL.prototype.loadPixels=function(){var h,p=this._pixelsState;this._pInst._glAttributes.preserveDrawingBuffer!==!0?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(p=p.pixels,h=this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4,p instanceof Uint8Array&&p.length===h||(p=new Uint8Array(h),this._pixelsState._setProperty("pixels",p)),h=this._pInst._pixelDensity,this.GL.readPixels(0,0,this.width*h,this.height*h,this.GL.RGBA,this.GL.UNSIGNED_BYTE,p))},r.default.RendererGL.prototype.geometryInHash=function(h){return this.retainedMode.geometry[h]!==void 0},r.default.RendererGL.prototype.resize=function(h,p){r.default.Renderer.prototype.resize.call(this,h,p),this.GL.viewport(0,0,this.GL.drawingBufferWidth,this.GL.drawingBufferHeight),this._viewport=this.GL.getParameter(this.GL.VIEWPORT),this._curCamera._resize(),h=this._pixelsState,h.pixels!==void 0&&h._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4))},r.default.RendererGL.prototype.clear=function(){this.GL.clearColor((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)},r.default.RendererGL.prototype.applyMatrix=function(h,p,v,_,j,x){arguments.length===16?r.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([h,p,0,0,v,_,0,0,0,0,1,0,j,x,0,1])},r.default.RendererGL.prototype.translate=function(h,p,v){return h instanceof r.default.Vector&&(v=h.z,p=h.y,h=h.x),this.uMVMatrix.translate([h,p,v]),this},r.default.RendererGL.prototype.scale=function(h,p,v){return this.uMVMatrix.scale(h,p,v),this},r.default.RendererGL.prototype.rotate=function(h,p){return p===void 0?this.rotateZ(h):(r.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)},r.default.RendererGL.prototype.rotateX=function(h){return this.rotate(h,1,0,0),this},r.default.RendererGL.prototype.rotateY=function(h){return this.rotate(h,0,1,0),this},r.default.RendererGL.prototype.rotateZ=function(h){return this.rotate(h,0,0,1),this},r.default.RendererGL.prototype.push=function(){var h=r.default.Renderer.prototype.push.apply(this),p=h.properties;return p.uMVMatrix=this.uMVMatrix.copy(),p.uPMatrix=this.uPMatrix.copy(),p._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),p.ambientLightColors=this.ambientLightColors.slice(),p.specularColors=this.specularColors.slice(),p.directionalLightDirections=this.directionalLightDirections.slice(),p.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),p.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),p.pointLightPositions=this.pointLightPositions.slice(),p.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),p.pointLightSpecularColors=this.pointLightSpecularColors.slice(),p.spotLightPositions=this.spotLightPositions.slice(),p.spotLightDirections=this.spotLightDirections.slice(),p.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),p.spotLightSpecularColors=this.spotLightSpecularColors.slice(),p.spotLightAngle=this.spotLightAngle.slice(),p.spotLightConc=this.spotLightConc.slice(),p.userFillShader=this.userFillShader,p.userStrokeShader=this.userStrokeShader,p.userPointShader=this.userPointShader,p.pointSize=this.pointSize,p.curStrokeWeight=this.curStrokeWeight,p.curStrokeColor=this.curStrokeColor,p.curFillColor=this.curFillColor,p.curAmbientColor=this.curAmbientColor,p.curSpecularColor=this.curSpecularColor,p.curEmissiveColor=this.curEmissiveColor,p._useSpecularMaterial=this._useSpecularMaterial,p._useEmissiveMaterial=this._useEmissiveMaterial,p._useShininess=this._useShininess,p.constantAttenuation=this.constantAttenuation,p.linearAttenuation=this.linearAttenuation,p.quadraticAttenuation=this.quadraticAttenuation,p._enableLighting=this._enableLighting,p._useNormalMaterial=this._useNormalMaterial,p._tex=this._tex,p.drawMode=this.drawMode,p._currentNormal=this._currentNormal,p.curBlendMode=this.curBlendMode,h},r.default.RendererGL.prototype.resetMatrix=function(){return this.uMVMatrix=r.default.Matrix.identity(this._pInst),this},r.default.RendererGL.prototype._getImmediateStrokeShader=function(){var h=this.userStrokeShader;return h&&h.isStrokeShader()?h:this._getLineShader()},r.default.RendererGL.prototype._getRetainedStrokeShader=r.default.RendererGL.prototype._getImmediateStrokeShader,r.default.RendererGL.prototype._getImmediateFillShader=function(){var h=this.userFillShader;if(this._useNormalMaterial&&(!h||!h.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!h||!h.isLightShader())return this._getLightShader()}else if(this._tex){if(!h||!h.isTextureShader())return this._getLightShader()}else if(!h)return this._getImmediateModeShader();return h},r.default.RendererGL.prototype._getRetainedFillShader=function(){if(this._useNormalMaterial)return this._getNormalShader();var h=this.userFillShader;if(this._enableLighting){if(!h||!h.isLightShader())return this._getLightShader()}else if(this._tex){if(!h||!h.isTextureShader())return this._getLightShader()}else if(!h)return this._getColorShader();return h},r.default.RendererGL.prototype._getImmediatePointShader=function(){var h=this.userPointShader;return h&&h.isPointShader()?h:this._getPointShader()},r.default.RendererGL.prototype._getRetainedLineShader=r.default.RendererGL.prototype._getImmediateLineShader,r.default.RendererGL.prototype._getLightShader=function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new r.default.Shader(this,n.phongVert,n.phongFrag):this._defaultLightShader=new r.default.Shader(this,n.lightVert,n.lightTextureFrag)),this._defaultLightShader},r.default.RendererGL.prototype._getImmediateModeShader=function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new r.default.Shader(this,n.immediateVert,n.vertexColorFrag)),this._defaultImmediateModeShader},r.default.RendererGL.prototype._getNormalShader=function(){return this._defaultNormalShader||(this._defaultNormalShader=new r.default.Shader(this,n.normalVert,n.normalFrag)),this._defaultNormalShader},r.default.RendererGL.prototype._getColorShader=function(){return this._defaultColorShader||(this._defaultColorShader=new r.default.Shader(this,n.normalVert,n.basicFrag)),this._defaultColorShader},r.default.RendererGL.prototype._getPointShader=function(){return this._defaultPointShader||(this._defaultPointShader=new r.default.Shader(this,n.pointVert,n.pointFrag)),this._defaultPointShader},r.default.RendererGL.prototype._getLineShader=function(){return this._defaultLineShader||(this._defaultLineShader=new r.default.Shader(this,n.lineVert,n.lineFrag)),this._defaultLineShader},r.default.RendererGL.prototype._getFontShader=function(){return this._defaultFontShader||(this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new r.default.Shader(this,n.fontVert,n.fontFrag)),this._defaultFontShader},r.default.RendererGL.prototype._getEmptyTexture=function(){var h;return this._emptyTexture||((h=new r.default.Image(1,1)).set(0,0,255),this._emptyTexture=new r.default.Texture(this,h)),this._emptyTexture},r.default.RendererGL.prototype.getTexture=function(h){var p=this.textures,v=!0,_=!1,j=void 0;try{for(var x,M=p[Symbol.iterator]();!(v=(x=M.next()).done);v=!0){var E=x.value;if(E.src===h)return E}}catch(C){_=!0,j=C}finally{try{v||M.return==null||M.return()}finally{if(_)throw j}}return _=new r.default.Texture(this,h),p.push(_),_},r.default.RendererGL.prototype._setStrokeUniforms=function(h){h.bindShader(),h.setUniform("uMaterialColor",this.curStrokeColor),h.setUniform("uStrokeWeight",this.curStrokeWeight)},r.default.RendererGL.prototype._setFillUniforms=function(h){h.bindShader(),h.setUniform("uMaterialColor",this.curFillColor),h.setUniform("isTexture",!!this._tex),this._tex&&h.setUniform("uSampler",this._tex),h.setUniform("uTint",this._tint),h.setUniform("uAmbientMatColor",this.curAmbientColor),h.setUniform("uSpecularMatColor",this.curSpecularColor),h.setUniform("uEmissiveMatColor",this.curEmissiveColor),h.setUniform("uSpecular",this._useSpecularMaterial),h.setUniform("uEmissive",this._useEmissiveMaterial),h.setUniform("uShininess",this._useShininess),h.setUniform("uUseLighting",this._enableLighting);var p=this.pointLightDiffuseColors.length/3,p=(h.setUniform("uPointLightCount",p),h.setUniform("uPointLightLocation",this.pointLightPositions),h.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),h.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),this.directionalLightDiffuseColors.length/3),p=(h.setUniform("uDirectionalLightCount",p),h.setUniform("uLightingDirection",this.directionalLightDirections),h.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),h.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),this.ambientLightColors.length/3),p=(h.setUniform("uAmbientLightCount",p),h.setUniform("uAmbientColor",this.ambientLightColors),this.spotLightDiffuseColors.length/3);h.setUniform("uSpotLightCount",p),h.setUniform("uSpotLightAngle",this.spotLightAngle),h.setUniform("uSpotLightConc",this.spotLightConc),h.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),h.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),h.setUniform("uSpotLightLocation",this.spotLightPositions),h.setUniform("uSpotLightDirection",this.spotLightDirections),h.setUniform("uConstantAttenuation",this.constantAttenuation),h.setUniform("uLinearAttenuation",this.linearAttenuation),h.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),h.bindTextures()},r.default.RendererGL.prototype._setPointUniforms=function(h){h.bindShader(),h.setUniform("uMaterialColor",this.curStrokeColor),h.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)},r.default.RendererGL.prototype._bindBuffer=function(h,p,v,_,j){p=p||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(p,h),v!==void 0&&(h=new(_||Float32Array)(v),this.GL.bufferData(p,h,j||this.GL.STATIC_DRAW))},r.default.RendererGL.prototype._arraysEqual=function(h,p){var v=h.length;if(v!==p.length)return!1;for(var _=0;_<v;_++)if(h[_]!==p[_])return!1;return!0},r.default.RendererGL.prototype._isTypedArray=function(h){return h instanceof Uint32Array},r.default.RendererGL.prototype._flatten=function(h){if(h.length===0)return[];var p;if(2e4<h.length){for(var v=Object.prototype.toString,_=[],j=h.slice(),x=j.pop();v.call(x)==="[object Array]"?j.push.apply(j,o(x)):_.push(x),j.length&&(x=j.pop())!==void 0;);return _.reverse(),_}return(p=[]).concat.apply(p,o(h))},r.default.RendererGL.prototype._vToNArray=function(h){var p=[],v=!0,_=!1,j=void 0;try{for(var x,M=h[Symbol.iterator]();!(v=(x=M.next()).done);v=!0){var E=x.value;p.push(E.x,E.y,E.z)}}catch(C){_=!0,j=C}finally{try{v||M.return==null||M.return()}finally{if(_)throw j}}return p},r.default.prototype._assert3d=function(h){if(!this._renderer.isP3D)throw new Error("".concat(h,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},r.default.RendererGL.prototype._initTessy=function(){var h=new d.default.GluTesselator;return h.gluTessCallback(d.default.gluEnum.GLU_TESS_VERTEX_DATA,function(p,v){for(var _=0;_<p.length;_++)v[v.length]=p[_]}),h.gluTessCallback(d.default.gluEnum.GLU_TESS_BEGIN,function(p){p!==d.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(p))}),h.gluTessCallback(d.default.gluEnum.GLU_TESS_ERROR,function(p){console.log("error callback"),console.log("error number: ".concat(p))}),h.gluTessCallback(d.default.gluEnum.GLU_TESS_COMBINE,function(p,v,_){for(var j=[0,0,0,0,0,0,0,0,0,0,0,0],x=0;x<_.length;x++)for(var M=0;M<j.length;M++)_[x]!==0&&v[x]&&(j[M]+=v[x][M]*_[x]);return j}),h.gluTessCallback(d.default.gluEnum.GLU_TESS_EDGE_FLAG,function(p){}),h},r.default.RendererGL.prototype._triangulate=function(h){this._tessy.gluTessNormal(0,0,1);var p=[];this._tessy.gluTessBeginPolygon(p);for(var v=0;v<h.length;v++){this._tessy.gluTessBeginContour();for(var _=h[v],j=0;j<_.length;j+=12){var x=_.slice(j,j+12);this._tessy.gluTessVertex(x,x)}this._tessy.gluTessEndContour()}return this._tessy.gluTessEndPolygon(),p},r.default.RendererGL.prototype._bezierCoefficients=function(h){var p=h*h,v=1-h,_=v*v;return[_*v,3*_*h,3*v*p,p*h]},r.default.RendererGL.prototype._quadraticCoefficients=function(h){var p=1-h;return[p*p,2*p*h,h*h]},r.default.RendererGL.prototype._bezierToCatmull=function(h){return[h[1],h[1]+(h[2]-h[0])/this._curveTightness,h[2]-(h[3]-h[1])/this._curveTightness,h[2]]},r.default.RendererGL);y.default=u},{"../core/constants":256,"../core/main":267,"../core/p5.Renderer":270,"./p5.Camera":315,"./p5.Matrix":317,"./p5.Shader":322,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.from":155,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.float64-array":204,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.int16-array":208,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint16-array":224,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230,libtess:239,path:242}],322:[function(e,g,y){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(e=e("../core/main"))&&e.__esModule?e:{default:e};l.default.Shader=function(i,r,a){this._renderer=i,this._vertSrc=r,this._fragSrc=a,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]},l.default.Shader.prototype.init=function(){if(this._glProgram===0){var i=this._renderer.GL;if(this._vertShader=i.createShader(i.VERTEX_SHADER),i.shaderSource(this._vertShader,this._vertSrc),i.compileShader(this._vertShader),!i.getShaderParameter(this._vertShader,i.COMPILE_STATUS))return console.error("Yikes! An error occurred compiling the vertex shader:".concat(i.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=i.createShader(i.FRAGMENT_SHADER),i.shaderSource(this._fragShader,this._fragSrc),i.compileShader(this._fragShader),!i.getShaderParameter(this._fragShader,i.COMPILE_STATUS))return console.error("Darn! An error occurred compiling the fragment shader:".concat(i.getShaderInfoLog(this._fragShader))),null;this._glProgram=i.createProgram(),i.attachShader(this._glProgram,this._vertShader),i.attachShader(this._glProgram,this._fragShader),i.linkProgram(this._glProgram),i.getProgramParameter(this._glProgram,i.LINK_STATUS)||console.error("Snap! Error linking shader program: ".concat(i.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this},l.default.Shader.prototype._loadAttributes=function(){if(!this._loadedAttributes){this.attributes={};for(var i=this._renderer.GL,r=i.getProgramParameter(this._glProgram,i.ACTIVE_ATTRIBUTES),a=0;a<r;++a){var d=i.getActiveAttrib(this._glProgram,a),f=d.name,s=i.getAttribLocation(this._glProgram,f),o={};o.name=f,o.location=s,o.index=a,o.type=d.type,o.size=d.size,this.attributes[f]=o}this._loadedAttributes=!0}},l.default.Shader.prototype._loadUniforms=function(){if(!this._loadedUniforms){for(var i=this._renderer.GL,r=i.getProgramParameter(this._glProgram,i.ACTIVE_UNIFORMS),a=0,d=0;d<r;++d){var f=i.getActiveUniform(this._glProgram,d),s={},o=(s.location=i.getUniformLocation(this._glProgram,f.name),s.size=f.size,f.name);1<f.size&&(o=o.substring(0,o.indexOf("[0]"))),s.name=o,s.type=f.type,s._cachedData=void 0,s.type===i.SAMPLER_2D&&(s.samplerIndex=a,a++,this.samplers.push(s)),s.isArray=1<f.size||s.type===i.FLOAT_MAT3||s.type===i.FLOAT_MAT4||s.type===i.FLOAT_VEC2||s.type===i.FLOAT_VEC3||s.type===i.FLOAT_VEC4||s.type===i.INT_VEC2||s.type===i.INT_VEC4||s.type===i.INT_VEC3,this.uniforms[o]=s}this._loadedUniforms=!0}},l.default.Shader.prototype.compile=function(){},l.default.Shader.prototype.bindShader=function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))},l.default.Shader.prototype.unbindShader=function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this},l.default.Shader.prototype.bindTextures=function(){var i=this._renderer.GL,r=!0,a=!1,d=void 0;try{for(var f,s=this.samplers[Symbol.iterator]();!(r=(f=s.next()).done);r=!0){var o=f.value,n=o.texture;n===void 0&&(n=this._renderer._getEmptyTexture()),i.activeTexture(i.TEXTURE0+o.samplerIndex),n.bindTexture(),n.update(),i.uniform1i(o.location,o.samplerIndex)}}catch(u){a=!0,d=u}finally{try{r||s.return==null||s.return()}finally{if(a)throw d}}},l.default.Shader.prototype.updateTextures=function(){var i=!0,r=!1,a=void 0;try{for(var d,f=this.samplers[Symbol.iterator]();!(i=(d=f.next()).done);i=!0){var s=d.value.texture;s&&s.update()}}catch(o){r=!0,a=o}finally{try{i||f.return==null||f.return()}finally{if(r)throw a}}},l.default.Shader.prototype.unbindTextures=function(){},l.default.Shader.prototype._setMatrixUniforms=function(){var i=this._renderer._curCamera.cameraMatrix,r=this._renderer.uPMatrix,a=this._renderer.uMVMatrix,d=a.copy();d.mult(r),this.isStrokeShader()&&(this._renderer._curCamera.cameraType==="default"?this.setUniform("uPerspective",1):this.setUniform("uPerspective",0)),this.setUniform("uViewMatrix",i.mat4),this.setUniform("uProjectionMatrix",r.mat4),this.setUniform("uModelViewMatrix",a.mat4),this.setUniform("uModelViewProjectionMatrix",d.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3))},l.default.Shader.prototype.useProgram=function(){var i=this._renderer.GL;return this._renderer._curShader!==this&&(i.useProgram(this._glProgram),this._renderer._curShader=this),this},l.default.Shader.prototype.setUniform=function(i,r){var a=this.uniforms[i];if(a){var d=this._renderer.GL;if(a.isArray){if(a._cachedData&&this._renderer._arraysEqual(a._cachedData,r))return;a._cachedData=r.slice(0)}else{if(a._cachedData&&a._cachedData===r)return;Array.isArray(r)?a._cachedData=r.slice(0):a._cachedData=r}var f=a.location;switch(this.useProgram(),a.type){case d.BOOL:r===!0?d.uniform1i(f,1):d.uniform1i(f,0);break;case d.INT:1<a.size?r.length&&d.uniform1iv(f,r):d.uniform1i(f,r);break;case d.FLOAT:1<a.size?r.length&&d.uniform1fv(f,r):d.uniform1f(f,r);break;case d.FLOAT_MAT3:d.uniformMatrix3fv(f,!1,r);break;case d.FLOAT_MAT4:d.uniformMatrix4fv(f,!1,r);break;case d.FLOAT_VEC2:1<a.size?r.length&&d.uniform2fv(f,r):d.uniform2f(f,r[0],r[1]);break;case d.FLOAT_VEC3:1<a.size?r.length&&d.uniform3fv(f,r):d.uniform3f(f,r[0],r[1],r[2]);break;case d.FLOAT_VEC4:1<a.size?r.length&&d.uniform4fv(f,r):d.uniform4f(f,r[0],r[1],r[2],r[3]);break;case d.INT_VEC2:1<a.size?r.length&&d.uniform2iv(f,r):d.uniform2i(f,r[0],r[1]);break;case d.INT_VEC3:1<a.size?r.length&&d.uniform3iv(f,r):d.uniform3i(f,r[0],r[1],r[2]);break;case d.INT_VEC4:1<a.size?r.length&&d.uniform4iv(f,r):d.uniform4i(f,r[0],r[1],r[2],r[3]);break;case d.SAMPLER_2D:d.activeTexture(d.TEXTURE0+a.samplerIndex),a.texture=r instanceof l.default.Texture?r:this._renderer.getTexture(r),d.uniform1i(f,a.samplerIndex)}return this}},l.default.Shader.prototype.isLightShader=function(){return this.attributes.aNormal!==void 0||this.uniforms.uUseLighting!==void 0||this.uniforms.uAmbientLightCount!==void 0||this.uniforms.uDirectionalLightCount!==void 0||this.uniforms.uPointLightCount!==void 0||this.uniforms.uAmbientColor!==void 0||this.uniforms.uDirectionalDiffuseColors!==void 0||this.uniforms.uDirectionalSpecularColors!==void 0||this.uniforms.uPointLightLocation!==void 0||this.uniforms.uPointLightDiffuseColors!==void 0||this.uniforms.uPointLightSpecularColors!==void 0||this.uniforms.uLightingDirection!==void 0||this.uniforms.uSpecular!==void 0},l.default.Shader.prototype.isNormalShader=function(){return this.attributes.aNormal!==void 0},l.default.Shader.prototype.isTextureShader=function(){return 0<this.samplers.length},l.default.Shader.prototype.isColorShader=function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0},l.default.Shader.prototype.isTexLightShader=function(){return this.isLightShader()&&this.isTextureShader()},l.default.Shader.prototype.isStrokeShader=function(){return this.uniforms.uStrokeWeight!==void 0},l.default.Shader.prototype.enableAttrib=function(i,r,a,d,f,s){var o,n;return i&&(o=i.location)!==-1&&(n=this._renderer.GL,i.enabled||(n.enableVertexAttribArray(o),i.enabled=!0),this._renderer.GL.vertexAttribPointer(o,r,a||n.FLOAT,d||!1,f||0,s||0)),this},e=l.default.Shader,y.default=e},{"../core/main":267,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":165,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],323:[function(e,g,y){function l(s){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(s)}function i(s){return(i=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(o){return l(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":l(o)})(s)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var r=(f=e("../core/main"))&&f.__esModule?f:{default:f},a=function(s){if(s&&s.__esModule)return s;if(s===null||i(s)!=="object"&&typeof s!="function")return{default:s};var o=d();if(o&&o.has(s))return o.get(s);var n,u={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in s){var p;Object.prototype.hasOwnProperty.call(s,n)&&((p=h?Object.getOwnPropertyDescriptor(s,n):null)&&(p.get||p.set)?Object.defineProperty(u,n,p):u[n]=s[n])}return u.default=s,o&&o.set(s,u),u}(e("../core/constants"));function d(){var s;return typeof WeakMap!="function"?null:(s=new WeakMap,d=function(){return s},s)}r.default.Texture=function(s,o,n){return this._renderer=s,s=this._renderer.GL,(n=n||{}).dataType===s.FLOAT&&(s.getExtension("OES_texture_float")||console.log("Oh no, your device doesn't support floating point textures!"),s.getExtension("OES_texture_float_linear")||console.log("Ack! Your device doesn't support linear filtering for floating point textures")),this.src=o,this.glTex=void 0,this.glTarget=s.TEXTURE_2D,this.glFormat=n.format||s.RGBA,this.mipmaps=!1,this.glMinFilter=n.minFilter||s.LINEAR,this.glMagFilter=n.magFilter||s.LINEAR,this.glWrapS=n.wrapS||s.CLAMP_TO_EDGE,this.glWrapT=n.wrapT||s.CLAMP_TO_EDGE,this.glDataType=n.dataType||s.UNSIGNED_BYTE,this.isSrcMediaElement=r.default.MediaElement!==void 0&&o instanceof r.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=r.default.Element!==void 0&&o instanceof r.default.Element&&!(o instanceof r.default.Graphics)&&!(o instanceof r.default.Renderer),this.isSrcP5Image=o instanceof r.default.Image,this.isSrcP5Graphics=o instanceof r.default.Graphics,this.isSrcP5Renderer=o instanceof r.default.Renderer,this.isImageData=typeof ImageData<"u"&&o instanceof ImageData,n=this._getTextureDataFromSource(),this.width=n.width,this.height=n.height,this.init(n),this},r.default.Texture.prototype._getTextureDataFromSource=function(){var s;return this.isSrcP5Image?s=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?s=this.src.elt:this.isImageData&&(s=this.src),s},r.default.Texture.prototype.init=function(s){var o,n=this._renderer.GL;this.glTex=n.createTexture(),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,this.glMagFilter),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,this.glMinFilter),this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(o=new Uint8Array([1,1,1,1]),n.texImage2D(this.glTarget,0,n.RGBA,1,1,0,this.glFormat,this.glDataType,o)):n.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,s)},r.default.Texture.prototype.update=function(){var s,o,n,u=this.src;return u.width!==0&&u.height!==0&&(s=this._getTextureDataFromSource(),o=!1,n=this._renderer.GL,s.width!==this.width||s.height!==this.height?(o=!0,this.width=s.width,this.height=s.height,this.isSrcP5Image?u.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&u.setModified(!0)):this.isSrcP5Image?u.isModified()&&u.setModified(!(o=!0)):this.isSrcMediaElement?u.isModified()?u.setModified(!(o=!0)):u.loadedmetadata&&this._videoPrevUpdateTime!==u.time()&&(this._videoPrevUpdateTime=u.time(),o=!0):this.isImageData?u._dirty&&(o=!(u._dirty=!1)):o=!0,o&&(this.bindTexture(),n.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,s)),o)},r.default.Texture.prototype.bindTexture=function(){return this._renderer.GL.bindTexture(this.glTarget,this.glTex),this},r.default.Texture.prototype.unbindTexture=function(){this._renderer.GL.bindTexture(this.glTarget,null)},r.default.Texture.prototype.setInterpolation=function(s,o){var n=this._renderer.GL;s===a.NEAREST?this.glMinFilter=n.NEAREST:this.glMinFilter=n.LINEAR,o===a.NEAREST?this.glMagFilter=n.NEAREST:this.glMagFilter=n.LINEAR,this.bindTexture(),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,this.glMinFilter),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()},r.default.Texture.prototype.setWrapMode=function(s,o){function n(v){return(v&v-1)==0}var u=this._renderer.GL,h=n(this.width),p=n(this.height);s===a.REPEAT?h&&p?this.glWrapS=u.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=u.CLAMP_TO_EDGE):s===a.MIRROR?h&&p?this.glWrapS=u.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=u.CLAMP_TO_EDGE):this.glWrapS=u.CLAMP_TO_EDGE,o===a.REPEAT?h&&p?this.glWrapT=u.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=u.CLAMP_TO_EDGE):o===a.MIRROR?h&&p?this.glWrapT=u.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=u.CLAMP_TO_EDGE):this.glWrapT=u.CLAMP_TO_EDGE,this.bindTexture(),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,this.glWrapS),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()};var f=r.default.Texture;y.default=f},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],324:[function(e,g,y){function l(h){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function i(h){return(i=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(p){return l(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":l(p)})(h)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.sub"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.sub"),e("core-js/modules/web.dom-collections.iterator");var r,a=(r=e("../core/main"))&&r.__esModule?r:{default:r},d=function(h){if(h&&h.__esModule)return h;if(h===null||i(h)!=="object"&&typeof h!="function")return{default:h};var p=f();if(p&&p.has(h))return p.get(h);var v,_={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in h){var x;Object.prototype.hasOwnProperty.call(h,v)&&((x=j?Object.getOwnPropertyDescriptor(h,v):null)&&(x.get||x.set)?Object.defineProperty(_,v,x):_[v]=h[v])}return _.default=h,p&&p.set(h,_),_}(e("../core/constants"));function f(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,f=function(){return h},h)}e("./p5.Shader"),e("./p5.RendererGL.Retained"),a.default.RendererGL.prototype._applyTextProperties=function(){},a.default.RendererGL.prototype.textWidth=function(h){return this._isOpenType()?this._textFont._textWidth(h,this._textSize):0};function s(h,p){this.width=h,this.height=p,this.infos=[],this.findImage=function(v){var _,j,x=this.width*this.height;if(x<v)throw new Error("font is too complex to render in 3D");for(var M=this.infos.length-1;0<=M;--M){var E=this.infos[M];if(E.index+v<x){j=(_=E).imageData;break}}if(!_){try{j=new ImageData(this.width,this.height)}catch{var C=document.getElementsByTagName("canvas")[0],R=!C,O=(C||((C=document.createElement("canvas")).style.display="none",document.body.appendChild(C)),C.getContext("2d"));O&&(j=O.createImageData(this.width,this.height)),R&&document.body.removeChild(C)}this.infos.push(_={index:0,imageData:j})}return O=_.index,_.index+=v,j._dirty=!0,{imageData:j,index:O}}}function o(M,p,v,_,j){var x=M.imageData.data,M=4*M.index++;x[M++]=p,x[M++]=v,x[M++]=_,x[+M]=j}function n(h){this.font=h,this.strokeImageInfos=new s(64,64),this.colDimImageInfos=new s(64,64),this.rowDimImageInfos=new s(64,64),this.colCellImageInfos=new s(64,64),this.rowCellImageInfos=new s(64,64),this.glyphInfos={},this.getGlyphInfo=function(p){var v=this.glyphInfos[p.index];if(!v){var _=p.getBoundingBox(),j=_.x1,x=_.y1,M=_.x2-j,E=_.y2-x,C=p.path.commands;if(M==0||E==0||!C.length)return this.glyphInfos[p.index]={};for(var R,O,P,I,N=[],U=[],W=[],z=8;0<=z;--z)W.push([]);for(z=8;0<=z;--z)U.push([]);var q=!0,Y=!1,G=void 0;try{for(var X,$=C[Symbol.iterator]();!(q=(X=$.next()).done);q=!0){var ne=X.value,k=(ne.x-j)/M,L=(ne.y-x)/E;if(!Te(R,O,k,L)){switch(ne.type){case"M":P=k,I=L;break;case"L":pe(R,O,k,L);break;case"Q":var F=(ne.x1-j)/M,H=(ne.y1-x)/E;ie([R,k,F],[O,L,H],{x:R,y:O,cx:F,cy:H});break;case"Z":Te(R,O,P,I)?N.push({x:R,y:O}):(pe(R,O,P,I),N.push({x:P,y:I}));break;case"C":for(var ee=function(Pe,V,te,ze,Ge,Ze,Ye,be){var Pe=new me(new a.default.Vector(Pe,V),new a.default.Vector(te,ze),new a.default.Vector(Ge,Ze),new a.default.Vector(Ye,be)).splitInflections(),xe=[],Z=30/u,K=!0,V=!1,te=void 0;try{for(var ve,je=Pe[Symbol.iterator]();!(K=(ve=je.next()).done);K=!0){for(var Ae=ve.value,Ne=[],Be=void 0;!(.125<=(Be=Z/Ae.quadError()));){var Ve=Math.pow(Be,.3333333333333333),He=Ae.split(Ve),it=Ae.split(1-Ve/(1-Ve));xe.push(He),Ne.push(Ae),Ae=it}Be<1&&xe.push(Ae.split(.5)),xe.push(Ae),Array.prototype.push.apply(xe,Ne.reverse())}}catch(nt){V=!0,te=nt}finally{try{K||je.return==null||je.return()}finally{if(V)throw te}}return xe}(R,O,(ne.x1-j)/M,(ne.y1-x)/E,(ne.x2-j)/M,(ne.y2-x)/E,k,L),re=0;re<ee.length;re++){var le=ee[re].toQuadratic();ie([le.x,le.x1,le.cx],[le.y,le.y1,le.cy],le)}break;default:throw new Error("unknown command type: ".concat(ne.type))}R=k,O=L}}}catch(Re){Y=!0,G=Re}finally{try{q||$.return==null||$.return()}finally{if(Y)throw G}}for(var fe=N.length,ae=this.strokeImageInfos.findImage(fe),ce=ae.index,ge=0;ge<fe;++ge){var J=N[ge];o(ae,ue(J.x),ue(J.y),ue(J.cx),ue(J.cy))}(v=this.glyphInfos[p.index]={glyph:p,uGlyphRect:[_.x1,-_.y1,_.x2,-_.y2],strokeImageInfo:ae,strokes:N,colInfo:we(W,this.colDimImageInfos,this.colCellImageInfos),rowInfo:we(U,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[v.colInfo.dimOffset,v.rowInfo.dimOffset]}return v;function ie(Re,Ee,Ue){var ze=N.length;function Ge(xe,Z,K){for(var V=xe.length;0<V--;){var te=xe[V];te<Z&&(Z=te),K<te&&(K=te)}return{min:Z,max:K}}N.push(Ue);for(var Ue=Ge(Re,1,0),Re=Math.max(Math.floor(9*Ue.min),0),Ze=Math.min(Math.ceil(9*Ue.max),9),Ye=Re;Ye<Ze;++Ye)W[Ye].push(ze);for(var Ue=Ge(Ee,1,0),Re=Math.max(Math.floor(9*Ue.min),0),be=Math.min(Math.ceil(9*Ue.max),9),Pe=Re;Pe<be;++Pe)U[Pe].push(ze)}function ue(Re){return(Re=(Ue=255)*Re)<(Ee=0)?Ee:Ue<Re?Ue:Re;var Ee,Ue}function me(Re,Ee,Ue,ze){this.p0=Re,this.c0=Ee,this.c1=Ue,this.p1=ze,this.toQuadratic=function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}},this.quadError=function(){return a.default.Vector.sub(a.default.Vector.sub(this.p1,this.p0),a.default.Vector.mult(a.default.Vector.sub(this.c1,this.c0),3)).mag()/2},this.split=function(Pe){var Ze=a.default.Vector.lerp(this.p0,this.c0,Pe),be=a.default.Vector.lerp(this.c0,this.c1,Pe),Ye=a.default.Vector.lerp(Ze,be,Pe),be=(this.c1=a.default.Vector.lerp(this.c1,this.p1,Pe),this.c0=a.default.Vector.lerp(be,this.c1,Pe),a.default.Vector.lerp(Ye,this.c0,Pe)),Pe=new me(this.p0,Ze,Ye,be);return this.p0=be,Pe},this.splitInflections=function(){var Ge=a.default.Vector.sub(this.c0,this.p0),Ze=a.default.Vector.sub(a.default.Vector.sub(this.c1,this.c0),Ge),Ye=a.default.Vector.sub(a.default.Vector.sub(a.default.Vector.sub(this.p1,this.c1),Ge),a.default.Vector.mult(Ze,2)),be=[],Pe=Ze.x*Ye.y-Ze.y*Ye.x;return Pe!==0&&0<=(Ge=(Ye=Ge.x*Ye.y-Ge.y*Ye.x)*Ye-4*Pe*(Ge.x*Ze.y-Ge.y*Ze.x))&&(Pe<0&&(Pe=-Pe,Ye=-Ye),Ge=(-Ye+(Ze=Math.sqrt(Ge)))/(2*Pe),0<(Ye=(-Ye-Ze)/(2*Pe))&&Ye<1&&(be.push(this.split(Ye)),Ge=1-(1-Ge)/(1-Ye)),0<Ge&&Ge<1&&be.push(this.split(Ge))),be.push(this),be}}function pe(Re,Ee,Ue,ze){ie([Re,Ue],[Ee,ze],{x:Re,y:Ee,cx:(Re+Ue)/2,cy:(Ee+ze)/2})}function Te(Re,Ee,Ue,ze){return Math.abs(Ue-Re)<1e-5&&Math.abs(ze-Ee)<1e-5}function we(Re,Ee,Ue){for(var ze=Re.length,Ge=Ee.findImage(ze),Ee=Ge.index,Ze=0,Ye=0;Ye<ze;++Ye)Ze+=Re[Ye].length;for(var be=Ue.findImage(Ze),Pe=0;Pe<ze;++Pe){var xe=Re[Pe],Z=xe.length,K=be.index;o(Ge,K>>7,127&K,Z>>7,127&Z);for(var V=0;V<Z;++V){var te=xe[V]+ce;o(be,te>>7,127&te,0,0)}}return{cellImageInfo:be,dimOffset:Ee,dimImageInfo:Ge}}}}var u=Math.sqrt(3);a.default.RendererGL.prototype._renderText=function(h,p,v,_,j){if(this._textFont&&typeof this._textFont!="string"){if(!(j<=_)&&this._doFill){if(this._isOpenType()){h.push();var j=this._doStroke,x=this.drawMode,M=(this._doStroke=!1,this.drawMode=d.TEXTURE,this._textFont.font),E=(E=this._textFont._fontInfo)||(this._textFont._fontInfo=new n(M)),v=this._textFont._handleAlignment(this,p,v,_),_=this._textSize/M.unitsPerEm,C=(this.translate(v.x,v.y,0),this.scale(_,_,1),this.GL),v=!this._defaultFontShader,R=this._getFontShader(),O=(R.init(),R.bindShader(),v&&(R.setUniform("uGridImageSize",[64,64]),R.setUniform("uCellsImageSize",[64,64]),R.setUniform("uStrokeImageSize",[64,64]),R.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),P=(O||((_=this._textGeom=new a.default.Geometry(1,1,function(){for(var le=0;le<=1;le++)for(var fe=0;fe<=1;fe++)this.vertices.push(new a.default.Vector(fe,le,0)),this.uvs.push(fe,le)})).computeFaces().computeNormals(),O=this.createBuffers("glyph",_)),!0),v=!1,_=void 0;try{for(var I,N=this.retainedMode.buffers.text[Symbol.iterator]();!(P=(I=N.next()).done);P=!0)I.value._prepareBuffer(O,R)}catch(le){v=!0,_=le}finally{try{P||N.return==null||N.return()}finally{if(v)throw _}}this._bindBuffer(O.indexBuffer,C.ELEMENT_ARRAY_BUFFER),R.setUniform("uMaterialColor",this.curFillColor);try{var U=0,W=null,z=M.stringToGlyphs(p),q=!0,Y=!1,G=void 0;try{for(var X,$=z[Symbol.iterator]();!(q=(X=$.next()).done);q=!0){var ne,k,L=X.value,F=(W&&(U+=M.getKerningValue(W,L)),E.getGlyphInfo(L));F.uGlyphRect&&(ne=F.rowInfo,k=F.colInfo,R.setUniform("uSamplerStrokes",F.strokeImageInfo.imageData),R.setUniform("uSamplerRowStrokes",ne.cellImageInfo.imageData),R.setUniform("uSamplerRows",ne.dimImageInfo.imageData),R.setUniform("uSamplerColStrokes",k.cellImageInfo.imageData),R.setUniform("uSamplerCols",k.dimImageInfo.imageData),R.setUniform("uGridOffset",F.uGridOffset),R.setUniform("uGlyphRect",F.uGlyphRect),R.setUniform("uGlyphOffset",U),R.bindTextures(),C.drawElements(C.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),U+=L.advanceWidth,W=L}}catch(le){Y=!0,G=le}finally{try{q||$.return==null||$.return()}finally{if(Y)throw G}}}finally{R.unbindShader(),this._doStroke=j,this.drawMode=x,h.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return h}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":256,"../core/main":267,"./p5.RendererGL.Retained":320,"./p5.Shader":322,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.string.sub":192,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}]},{},[251])(251)})})(ta);const rg=tg(ta.exports),qc=cu({__proto__:null,default:rg},[ta.exports]);function ng(b){let t;return{c(){t=Vt("div"),t.innerHTML='<div class="p5-container svelte-kpn7pf" id="pianoContainer"></div>',nr(t,"class","svelte-kpn7pf")},m(c,e){Er(c,t,e)},p:Gt,i:Gt,o:Gt,d(c){c&&xr(t)}}}function sg(b,t,c){let{id:e}=t,{name:g}=t;return pu(()=>{console.log(document.getElementById("pianoContainer"));let y=new eg(g,e);const l=new qc(Gc);l.piano=y}),b.$$set=y=>{"id"in y&&c(0,e=y.id),"name"in y&&c(1,g=y.name)},[e,g]}class og extends ts{constructor(t){super(),es(this,t,sg,ng,Jn,{id:0,name:1})}}function ig(b){let t,c;return t=new og({props:{name:b[1],id:b[2]}}),{c(){Es(t.$$.fragment)},m(e,g){Wn(t,e,g),c=!0},p(e,g){const y={};g&2&&(y.name=e[1]),g&4&&(y.id=e[2]),t.$set(y)},i(e){c||(qr(t.$$.fragment,e),c=!0)},o(e){sn(t.$$.fragment,e),c=!1},d(e){Hn(t,e)}}}function ag(b){let t,c,e,g,y,l,i,r,a;return{c(){t=Vt("div"),c=Vt("h2"),c.textContent="Join Room",e=tn(),g=Vt("form"),y=Vt("div"),y.innerHTML=`<input type="text" id="name" class="name svelte-1m8hpmi" placeholder="Name" value="" required=""/> 
                <input type="text" id="roomId" class="room-id svelte-1m8hpmi" placeholder="Room ID" value="" required=""/>`,l=tn(),i=Vt("p"),i.textContent="Join Room",nr(c,"class","svelte-1m8hpmi"),nr(y,"class","input-wrapper svelte-1m8hpmi"),nr(i,"class","svelte-1m8hpmi"),nr(g,"class","svelte-1m8hpmi"),nr(t,"class","join svelte-1m8hpmi")},m(d,f){Er(d,t,f),rr(t,c),rr(t,e),rr(t,g),rr(g,y),rr(g,l),rr(g,i),r||(a=Ss(i,"click",b[3]),r=!0)},p:Gt,i:Gt,o:Gt,d(d){d&&xr(t),r=!1,a()}}}function lg(b){let t,c,e,g;const y=[ag,ig],l=[];function i(r,a){return r[0]?1:0}return c=i(b),e=l[c]=y[c](b),{c(){t=Vt("div"),e.c()},m(r,a){Er(r,t,a),l[c].m(t,null),g=!0},p(r,[a]){let d=c;c=i(r),c===d?l[c].p(r,a):(gl(),sn(l[d],1,1,()=>{l[d]=null}),vl(),e=l[c],e?e.p(r,a):(e=l[c]=y[c](r),e.c()),qr(e,1),e.m(t,null))},i(r){g||(qr(e),g=!0)},o(r){sn(e),g=!1},d(r){r&&xr(t),l[c].d()}}}function cg(b,t,c){let e=!1,g="",y="";return[e,g,y,()=>{c(1,g=document.getElementById("name").value),c(2,y=document.getElementById("roomId").value),c(0,e=!0)}]}class ug extends ts{constructor(t){super(),es(this,t,cg,lg,Jn,{})}}function dg(b){let t,c,e,g,y,l;return{c(){t=Vt("div"),c=Vt("div"),e=tn(),g=Vt("p"),g.textContent="show",nr(c,"class","p5-container svelte-kpn7pf"),nr(c,"id","pianoContainer"),nr(t,"class","svelte-kpn7pf")},m(i,r){Er(i,t,r),rr(t,c),rr(t,e),rr(t,g),y||(l=Ss(g,"click",b[0]),y=!0)},p:Gt,i:Gt,o:Gt,d(i){i&&xr(t),y=!1,l()}}}function hg(b){let t=!1;return[()=>{if(t=!t,t){const e=new qc(Gc);e.piano=new Ec}}]}class fg extends ts{constructor(t){super(),es(this,t,hg,dg,Jn,{})}}function pg(b){let t,c;return t=new ug({}),{c(){Es(t.$$.fragment)},m(e,g){Wn(t,e,g),c=!0},p:Gt,i(e){c||(qr(t.$$.fragment,e),c=!0)},o(e){sn(t.$$.fragment,e),c=!1},d(e){Hn(t,e)}}}function mg(b){let t,c,e,g,y,l,i,r;return t=new fg({}),{c(){Es(t.$$.fragment),c=tn(),e=Vt("p"),g=tn(),y=Vt("p"),y.textContent="Back",nr(e,"data-mode","select"),nr(y,"data-mode","")},m(a,d){Wn(t,a,d),Er(a,c,d),Er(a,e,d),Er(a,g,d),Er(a,y,d),l=!0,i||(r=Ss(e,"click",b[1]),i=!0)},p:Gt,i(a){l||(qr(t.$$.fragment,a),l=!0)},o(a){sn(t.$$.fragment,a),l=!1},d(a){Hn(t,a),a&&xr(c),a&&xr(e),a&&xr(g),a&&xr(y),i=!1,r()}}}function yg(b){let t,c,e,g,y,l,i,r,a,d,f;return{c(){t=Vt("div"),c=Vt("h2"),c.textContent="Please Select version of Hand Piano",e=tn(),g=Vt("p"),g.textContent="Multiplayer Mode will allow you to connect with other users via rooms so that you can play together whereas Solo will allow you to play on your own",y=tn(),l=Vt("div"),i=Vt("p"),i.textContent="Multiplayer Mode",r=tn(),a=Vt("p"),a.textContent="Solo Mode",nr(c,"class","svelte-1dpf1u1"),nr(i,"data-mode","multiplayer"),nr(i,"class","svelte-1dpf1u1"),nr(a,"data-mode","solo"),nr(a,"class","svelte-1dpf1u1"),nr(l,"class","options svelte-1dpf1u1"),nr(t,"class","version-select svelte-1dpf1u1")},m(s,o){Er(s,t,o),rr(t,c),rr(t,e),rr(t,g),rr(t,y),rr(t,l),rr(l,i),rr(l,r),rr(l,a),d||(f=[Ss(i,"click",b[1]),Ss(a,"click",b[1])],d=!0)},p:Gt,i:Gt,o:Gt,d(s){s&&xr(t),d=!1,Kn(f)}}}function gg(b){let t,c,e,g;const y=[yg,mg,pg],l=[];function i(r,a){return r[0]==="select"?0:r[0]==="solo"?1:r[0]==="multiplayer"?2:-1}return~(c=i(b))&&(e=l[c]=y[c](b)),{c(){t=Vt("div"),e&&e.c()},m(r,a){Er(r,t,a),~c&&l[c].m(t,null),g=!0},p(r,[a]){let d=c;c=i(r),c===d?~c&&l[c].p(r,a):(e&&(gl(),sn(l[d],1,1,()=>{l[d]=null}),vl()),~c?(e=l[c],e?e.p(r,a):(e=l[c]=y[c](r),e.c()),qr(e,1),e.m(t,null)):e=null)},i(r){g||(qr(e),g=!0)},o(r){sn(e),g=!1},d(r){r&&xr(t),~c&&l[c].d()}}}function vg(b,t,c){let e="select";return[e,y=>{c(0,e=y.target.getAttribute("data-mode"))}]}class bg extends ts{constructor(t){super(),es(this,t,vg,gg,Jn,{})}}function _g(b){let t,c,e,g,y;return c=new _u({}),g=new bg({}),{c(){t=Vt("main"),Es(c.$$.fragment),e=tn(),Es(g.$$.fragment)},m(l,i){Er(l,t,i),Wn(c,t,null),rr(t,e),Wn(g,t,null),y=!0},p:Gt,i(l){y||(qr(c.$$.fragment,l),qr(g.$$.fragment,l),y=!0)},o(l){sn(c.$$.fragment,l),sn(g.$$.fragment,l),y=!1},d(l){l&&xr(t),Hn(c),Hn(g)}}}class wg extends ts{constructor(t){super(),es(this,t,null,_g,Jn,{})}}new wg({target:document.getElementById("app")});
